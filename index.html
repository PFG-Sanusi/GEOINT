  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PF-GEOINT</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Exo+2:wght@300;400;500;600;700;800&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Exo 2', -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 0;
      background: 
        radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(123, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(0, 255, 150, 0.05) 0%, transparent 50%),
        linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0a 100%);
      background-size: 400% 400%, 300% 300%, 200% 200%, 100% 100%;
      animation: 
        gradientShift 15s ease-in-out infinite,
        floatingOrbs 20s ease-in-out infinite;
      color: #e0e0e0;
      overflow-x: hidden;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(0, 212, 255, 0.03) 2px,
          rgba(0, 212, 255, 0.03) 4px
        );
      pointer-events: none;
      z-index: 1;
    }
    .container {
      max-width: 1500px;
      margin: 0 auto;
      padding: 30px;
      position: relative;
      z-index: 2;
    }

    /* Navigation Styles */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(0, 212, 255, 0.3);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .nav-container {
      max-width: 1500px;
      margin: 0 auto;
      padding: 0 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
    }

    .nav-logo h1 {
      font-family: 'Orbitron', monospace;
      font-size: 1.8em;
      font-weight: 700;
      background: linear-gradient(45deg, #00d4ff, #7b00ff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
    }

    .nav-menu {
      display: flex;
      gap: 40px;
    }

    .nav-link {
      color: #e0e0e0;
      text-decoration: none;
      font-weight: 500;
      font-size: 1.1em;
      padding: 10px 20px;
      border-radius: 25px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .nav-link:hover::before {
      left: 100%;
    }

    .nav-link:hover {
      color: #00d4ff;
      background: rgba(0, 212, 255, 0.1);
      transform: translateY(-2px);
    }

    .nav-link.active {
      color: #00d4ff;
      background: rgba(0, 212, 255, 0.15);
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
    }

    .nav-toggle {
      display: none;
      flex-direction: column;
      cursor: pointer;
    }

    .bar {
      width: 25px;
      height: 3px;
      background: #00d4ff;
      margin: 3px 0;
      transition: 0.3s;
      border-radius: 2px;
    }

    /* Page Content */
    .page-content {
      display: none;
    }

    .page-content.active {
      display: block;
    }

    /* Adjust header margin for fixed navbar */
    .header {
      margin-top: 70px;
    }

  /* Loading Animations */
  .loading-skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: 8px;
  }

  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  .page-transition {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
  }

  .page-transition.active {
    opacity: 1;
    transform: translateY(0);
  }

  /* Enhanced Animations */
  .fade-in {
    animation: fadeIn 0.8s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .slide-in-left {
    animation: slideInLeft 0.8s ease-out;
  }

  @keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-50px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .slide-in-right {
    animation: slideInRight 0.8s ease-out;
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(50px); }
    to { opacity: 1; transform: translateX(0); }
  }

  /* Parallax Effects */
  .parallax-element {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Back to Top Button */
  .back-to-top {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background: linear-gradient(45deg, #00d4ff, #7b00ff);
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
  }

  .back-to-top.visible {
    opacity: 1;
    visibility: visible;
  }

  .back-to-top:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
  }

  /* Search and Filter */
  .search-filter-container {
    margin: 30px 0;
    padding: 20px;
    background: rgba(0, 212, 255, 0.05);
    border-radius: 15px;
    border: 1px solid rgba(0, 212, 255, 0.2);
  }

  .search-input {
    width: 100%;
    max-width: 400px;
    padding: 12px 20px;
    border: 2px solid rgba(0, 212, 255, 0.3);
    border-radius: 25px;
    background: rgba(10, 10, 10, 0.8);
    color: #e0e0e0;
    font-size: 1em;
    margin-bottom: 20px;
    transition: all 0.3s ease;
  }

  .search-input:focus {
    outline: none;
    border-color: #00d4ff;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
  }

  .filter-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }

  .filter-btn {
    padding: 8px 16px;
    border: 1px solid rgba(0, 212, 255, 0.3);
    background: transparent;
    color: #00d4ff;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9em;
  }

  .filter-btn.active,
  .filter-btn:hover {
    background: linear-gradient(45deg, #00d4ff, #7b00ff);
    color: white;
    border-color: transparent;
  }

  /* Product Comparison */
  .comparison-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(10, 10, 10, 0.95);
    backdrop-filter: blur(20px);
    border-top: 1px solid rgba(0, 212, 255, 0.3);
    padding: 20px;
    transform: translateY(100%);
    transition: transform 0.3s ease;
    z-index: 1500;
  }

  .comparison-container.visible {
    transform: translateY(0);
  }

  .comparison-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .comparison-products {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }

  .comparison-product {
    background: rgba(0, 212, 255, 0.1);
    padding: 15px;
    border-radius: 10px;
    border: 1px solid rgba(0, 212, 255, 0.2);
  }

  /* Favorites System */
  .favorite-btn {
    position: absolute;
    top: 15px;
    left: 15px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 15;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  }

  .favorite-btn:hover {
    background: rgba(0, 212, 255, 0.2);
    border-color: #00d4ff;
    transform: scale(1.1);
  }

  .favorite-btn.favorited {
    background: linear-gradient(45deg, #ff6b35, #ff8c42);
    border-color: #ff6b35;
    color: white;
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.4);
  }

  .favorite-btn.favorited:hover {
    background: linear-gradient(45deg, #ff8c42, #ff6b35);
    transform: scale(1.15);
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.6);
  }

  /* Breadcrumbs */
  .breadcrumbs {
    margin: 20px 0;
    padding: 10px 0;
    border-bottom: 1px solid rgba(0, 212, 255, 0.2);
  }

  .breadcrumb-item {
    color: #00d4ff;
    text-decoration: none;
    margin-right: 10px;
    transition: color 0.3s ease;
  }

  .breadcrumb-item:hover {
    color: #ff6b35;
  }

  .breadcrumb-item::after {
    content: ' > ';
    color: #666;
    margin-left: 10px;
  }

  .breadcrumb-item:last-child::after {
    display: none;
  }

  /* Testimonials Section */
  .testimonials-section {
    margin: 60px 0;
    padding: 40px 0;
    background: rgba(0, 212, 255, 0.05);
    border-radius: 20px;
  }

  .testimonial-card {
    background: rgba(10, 10, 10, 0.8);
    padding: 30px;
    border-radius: 15px;
    border: 1px solid rgba(0, 212, 255, 0.2);
    margin: 20px 0;
    position: relative;
  }

  .testimonial-card::before {
    content: '"';
    position: absolute;
    top: -10px;
    left: 20px;
    font-size: 60px;
    color: #00d4ff;
    font-family: serif;
  }

  .testimonial-text {
    font-style: italic;
    margin-bottom: 20px;
    line-height: 1.6;
  }

  .testimonial-author {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .author-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(45deg, #00d4ff, #7b00ff);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
  }

  /* FAQ Section */
  .faq-section {
    margin: 60px 0;
  }

  .faq-item {
    background: rgba(10, 10, 10, 0.8);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 10px;
    margin: 10px 0;
    overflow: hidden;
  }

  .faq-question {
    padding: 20px;
    background: rgba(0, 212, 255, 0.1);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.3s ease;
  }

  .faq-question:hover {
    background: rgba(0, 212, 255, 0.2);
  }

  .faq-answer {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-answer.active {
    padding: 20px;
    max-height: 200px;
  }

  .faq-toggle {
    transition: transform 0.3s ease;
  }

  .faq-toggle.active {
    transform: rotate(180deg);
  }

  /* Mobile Responsive */
  @media screen and (max-width: 768px) {
      .nav-menu {
        position: fixed;
        left: -100%;
        top: 70px;
        flex-direction: column;
        background: rgba(10, 10, 10, 0.98);
        width: 100%;
        text-align: center;
        transition: 0.3s;
        padding: 20px 0;
        backdrop-filter: blur(20px);
        border-top: 1px solid rgba(0, 212, 255, 0.3);
      }

      .nav-menu.active {
        left: 0;
      }

      .nav-toggle {
        display: flex;
      }

      .nav-toggle.active .bar:nth-child(2) {
        opacity: 0;
      }

      .nav-toggle.active .bar:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
      }

      .nav-toggle.active .bar:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
      }

      .nav-container {
        padding: 0 20px;
      }

      .nav-logo h1 {
        font-size: 1.5em;
      }

      /* Mobile-specific enhancements */
      .search-filter-container {
        margin: 20px 0;
        padding: 15px;
      }

      .filter-buttons {
        justify-content: center;
      }

      .filter-btn {
        font-size: 0.8em;
        padding: 6px 12px;
      }

      .product-card {
        margin: 15px 0;
      }

      .favorite-btn {
        width: 30px;
        height: 30px;
        font-size: 14px;
        top: 12px;
        left: 12px;
      }

      .product-features {
        justify-content: center;
      }

      .feature-tag {
        font-size: 0.75em;
        padding: 3px 8px;
      }

      .back-to-top {
        bottom: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
        font-size: 18px;
      }

      .comparison-container {
        padding: 15px;
      }

      .comparison-products {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .testimonial-card {
        padding: 20px;
        margin: 15px 0;
      }

      .testimonial-text {
        font-size: 0.9em;
      }

      .faq-question {
        padding: 15px;
        font-size: 0.9em;
      }

      .faq-answer {
        font-size: 0.85em;
      }

      /* Touch gestures */
      .product-card {
        touch-action: manipulation;
      }

      .product-card:active {
        transform: scale(0.98);
      }

      /* Swipe indicators */
      .swipe-indicator {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        color: #00d4ff;
        font-size: 12px;
        opacity: 0.7;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
        40% { transform: translateX(-50%) translateY(-10px); }
        60% { transform: translateX(-50%) translateY(-5px); }
      }
    }

  /* Product Features Styling */
  .product-features {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin: 15px 0;
  }

  .feature-tag {
    background: linear-gradient(45deg, rgba(0, 212, 255, 0.2), rgba(123, 0, 255, 0.2));
    color: #00d4ff;
    padding: 4px 12px;
    border-radius: 15px;
    font-size: 0.85em;
    font-weight: 500;
    border: 1px solid rgba(0, 212, 255, 0.3);
    transition: all 0.3s ease;
  }

  .feature-tag:hover {
    background: linear-gradient(45deg, rgba(0, 212, 255, 0.3), rgba(123, 0, 255, 0.3));
    transform: translateY(-1px);
  }

  /* Enhanced Product Cards for Standalone Page */
  #standalone-page .product-card {
    position: relative;
    overflow: hidden;
  }

  #standalone-page .product-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
    transition: left 0.6s ease;
  }

  #standalone-page .product-card:hover::before {
    left: 100%;
  }

  #standalone-page .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 212, 255, 0.2);
  }

  /* Product Modal Styles */
  .product-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
  }

  .product-modal-content {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    margin: 5% auto;
    padding: 0;
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 15px;
    width: 90%;
    max-width: 800px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
  }

  .product-modal-content .close {
    color: #00d4ff;
    float: right;
    font-size: 28px;
    font-weight: bold;
    position: absolute;
    right: 20px;
    top: 15px;
    z-index: 2001;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .product-modal-content .close:hover {
    color: #ff6b35;
    transform: scale(1.1);
  }

  #productModalBody {
    padding: 40px;
  }

  .product-detail-header {
    text-align: center;
    margin-bottom: 30px;
  }

  .product-detail-header h2 {
    color: #00d4ff;
    font-family: 'Orbitron', monospace;
    font-size: 2.5em;
    margin-bottom: 10px;
  }

  .product-detail-header .product-badge {
    display: inline-block;
    background: linear-gradient(45deg, #00d4ff, #7b00ff);
    color: white;
    padding: 8px 20px;
    border-radius: 25px;
    font-size: 0.9em;
    font-weight: 600;
    margin-bottom: 20px;
  }

  .product-detail-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 30px;
  }

  .product-detail-section h3 {
    color: #00d4ff;
    margin-bottom: 15px;
    font-size: 1.3em;
  }

  .product-detail-section ul {
    list-style: none;
    padding: 0;
  }

  .product-detail-section li {
    padding: 8px 0;
    border-bottom: 1px solid rgba(0, 212, 255, 0.1);
    position: relative;
    padding-left: 20px;
  }

  .product-detail-section li::before {
    content: 'â–¶';
    color: #00d4ff;
    position: absolute;
    left: 0;
  }

  .product-detail-section li:last-child {
    border-bottom: none;
  }

  .product-detail-cta {
    text-align: center;
    margin-top: 30px;
  }

  .product-detail-cta button {
    background: linear-gradient(45deg, #00d4ff, #7b00ff);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 25px;
    font-size: 1.1em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin: 0 10px;
  }

  .product-detail-cta button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 212, 255, 0.3);
  }

  .product-detail-cta button.secondary {
    background: transparent;
    border: 2px solid #00d4ff;
    color: #00d4ff;
  }

  .product-detail-cta button.secondary:hover {
    background: #00d4ff;
    color: white;
  }

  @media screen and (max-width: 768px) {
    .product-modal-content {
      width: 95%;
      margin: 10% auto;
    }

    .product-detail-content {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .product-detail-header h2 {
      font-size: 2em;
    }

    #productModalBody {
      padding: 20px;
    }
  }
    
    .header {
      text-align: center;
      padding: 100px 0;
      background: 
        radial-gradient(ellipse 1200px 600px at 50% -20%, rgba(0,212,255,0.2), transparent 60%),
        radial-gradient(ellipse 800px 400px at 50% 120%, rgba(123,0,255,0.15), transparent 70%),
        linear-gradient(180deg, rgba(20,35,61,0.9) 0%, rgba(15,27,46,0.95) 50%, rgba(10,10,10,0.98) 100%);
      position: relative;
      overflow: hidden;
      border-bottom: 2px solid transparent;
      border-image: linear-gradient(90deg, transparent, rgba(0,212,255,0.5), transparent) 1;
      backdrop-filter: blur(10px);
    }
    
    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 20px,
          rgba(0,212,255,0.05) 20px,
          rgba(0,212,255,0.05) 40px
        );
      animation: scanLines 3s linear infinite;
    }
    
    .header h1 {
      margin: 0;
      font-family: 'Orbitron', monospace;
      font-size: 4.2em;
      font-weight: 900;
      background: linear-gradient(45deg, #00d4ff, #7b00ff, #00ff96, #ff6b35);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-transform: uppercase;
      letter-spacing: 4px;
      text-shadow: 
        0 0 20px rgba(0, 212, 255, 0.8),
        0 0 40px rgba(123, 0, 255, 0.6),
        0 0 60px rgba(0, 255, 150, 0.4);
      animation: 
        fadeIn 1.5s ease-in-out,
        gradientShift 4s ease-in-out infinite,
        textGlow 2s ease-in-out infinite alternate;
      position: relative;
      z-index: 3;
    }
    
    .header h1::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(0,212,255,0.1), transparent);
      animation: shimmer 2s ease-in-out infinite;
      z-index: -1;
    }
    
    .logo-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      position: relative;
      z-index: 3;
    }
    
    .logo {
      height: 80px;
      width: auto;
      max-width: 200px;
      object-fit: contain;
      filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
      transition: all 0.3s ease;
      animation: float 3s ease-in-out infinite;
    }
    
    .logo:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.5));
    }
    .header::before {
      content: '';
      position: absolute;
      top: -80px;
      left: -80px;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle at 30% 30%, rgba(0,212,255,0.35), transparent 60%);
      filter: blur(12px);
      animation: floatBlob 10s ease-in-out infinite alternate;
    }
    .header::after {
      content: '';
      position: absolute;
      bottom: -100px;
      right: -120px;
      width: 360px;
      height: 360px;
      background: radial-gradient(circle at 70% 70%, rgba(123,0,255,0.25), transparent 60%);
      filter: blur(14px);
      animation: floatBlob 12s ease-in-out infinite alternate-reverse;
    }
    .intro {
      text-align: center;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      margin: 20px 0;
      animation: slideIn 0.8s ease-out;
    }
    .intro p {
      font-size: 1.3em;
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.6;
      color: #b0c4de;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 25px;
      padding: 30px 0;
    }
    .product-card {
      background: 
        linear-gradient(135deg, rgba(17, 30, 54, 0.8) 0%, rgba(25, 45, 75, 0.6) 50%, rgba(15, 25, 45, 0.9) 100%);
      border-radius: 20px;
      padding: 32px;
      text-align: center;
      transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      border: 2px solid transparent;
      backdrop-filter: blur(20px);
      cursor: pointer;
    }
    
    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(135deg, rgba(0,212,255,0.1) 0%, transparent 50%, rgba(123,0,255,0.1) 100%);
      opacity: 0;
      transition: opacity 400ms ease;
      z-index: 1;
    }
    
    .product-card::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #00d4ff, #7b00ff, #00ff96, #ff6b35);
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 400ms ease;
    }
    
    .product-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 15px 40px rgba(0, 212, 255, 0.1),
        0 0 20px rgba(123, 0, 255, 0.08),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }
    
    .product-card:hover::before {
      opacity: 0.6;
    }
    
    .product-card:hover::after {
      opacity: 0.3;
    }
    
    .product-card:hover .product-card h3 {
      color: #00d4ff;
      text-shadow: 0 0 10px rgba(0, 212, 255, 0.4);
    }
    .product-card h3 {
      margin: 0 0 20px;
      font-family: 'Orbitron', monospace;
      font-size: 1.8em;
      font-weight: 700;
      background: linear-gradient(45deg, #00d4ff, #7b00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
      transition: all 400ms ease;
      position: relative;
      z-index: 2;
    }
    
    .product-card p {
      font-size: 1em;
      color: #b8c5d1;
      line-height: 1.6;
      margin-bottom: 24px;
      font-weight: 400;
      position: relative;
      z-index: 2;
    }
    
    .product-card button {
      position: relative;
      background: linear-gradient(135deg, #00d4ff 0%, #7b00ff 50%, #00ff96 100%);
      background-size: 200% 200%;
      color: white;
      border: none;
      padding: 14px 32px;
      border-radius: 35px;
      cursor: pointer;
      font-family: 'Exo 2', sans-serif;
      font-size: 1.1em;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        0 8px 25px rgba(0, 212, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      overflow: hidden;
      z-index: 2;
    }
    
    .product-card button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      transition: left 600ms ease;
    }
    
    .product-card button:hover {
      transform: translateY(-2px) scale(1.03);
      box-shadow: 
        0 10px 25px rgba(0, 212, 255, 0.15),
        0 0 15px rgba(123, 0, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      background-position: 100% 0;
    }
    
    .product-card button:hover::before {
      left: 100%;
    }
    
    .product-card button:active {
      transform: translateY(-1px) scale(1.02);
    }
    .product-card button:active { transform: translateY(0); }
    .product-card button .ripple {
      position: absolute;
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 600ms linear;
      background: rgba(255,255,255,0.7);
      pointer-events: none;
    }
    .back-button {
      position: relative;
      background: linear-gradient(90deg, #ff00ff, #00d4ff);
      color: white;
      border: none;
      padding: 12px 26px;
      border-radius: 28px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
      text-transform: uppercase;
      transition: transform 200ms ease, box-shadow 200ms ease;
      margin-top: 20px;
      box-shadow: 0 6px 18px rgba(255, 0, 255, 0.25);
      overflow: hidden;
    }
    .back-button:hover {
      box-shadow: 0 10px 26px rgba(255, 0, 255, 0.35);
      transform: translateY(-2px);
    }
    .back-button .ripple { position: absolute; border-radius: 50%; transform: scale(0); animation: ripple 600ms linear; background: rgba(255,255,255,0.7); pointer-events: none; }
    
    /* AI Chatbot Styles */
    .chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      width: 380px;
      max-height: 600px;
      background: 
        linear-gradient(135deg, rgba(17, 30, 54, 0.95) 0%, rgba(25, 45, 75, 0.9) 50%, rgba(15, 25, 45, 0.98) 100%);
      border: 2px solid transparent;
      border-radius: 20px;
      backdrop-filter: blur(20px);
      box-shadow: 
        0 15px 40px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(0, 212, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateY(100%);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }
    
    .chatbot-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, rgba(0, 212, 255, 0.35), rgba(123, 0, 255, 0.25));
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .chatbot-container:hover::before {
      opacity: 0.35;
    }

    /* Subtle badge for product cards */
    .product-badge {
      display: inline-block;
      background: linear-gradient(90deg, rgba(0, 212, 255, 0.15), rgba(123, 0, 255, 0.15));
      color: #bfeaff;
      border: 1px solid rgba(0, 212, 255, 0.25);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.8em;
      font-weight: 600;
      letter-spacing: 0.3px;
      margin-bottom: 8px;
    }
    
    .chatbot-container.open {
      transform: translateY(0);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(0, 212, 255, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
    }
    
    .chatbot-header {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      padding: 16px 20px;
      border-radius: 18px 18px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      animation: gradientShift 6s ease-in-out infinite;
    }
    
    .chatbot-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shimmer 4s ease-in-out infinite;
    }
    .chatbot-header h3 {
      margin: 0;
      font-family: 'Orbitron', monospace;
      font-size: 1.2em;
      font-weight: 700;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
      position: relative;
      z-index: 2;
    }
    
    .chatbot-toggle {
      background: rgba(255, 255, 255, 0.15);
      border: none;
      color: white;
      font-size: 1.3em;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    .chatbot-toggle:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
    }
    
    .chatbot-messages {
      height: 350px;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      background: rgba(255, 255, 255, 0.01);
    }
    
    .chatbot-messages::-webkit-scrollbar {
      width: 6px;
    }
    
    .chatbot-messages::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }
    
    .chatbot-messages::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
    
    .chatbot-message {
      max-width: 85%;
      padding: 14px 18px;
      border-radius: 18px;
      font-size: 0.95em;
      line-height: 1.5;
      position: relative;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    
    .chatbot-message.user {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e0e0;
      align-self: flex-end;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    
    .chatbot-message.bot {
      background: rgba(255, 255, 255, 0.08);
      color: #bcd1e6;
      align-self: flex-start;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    
    .chatbot-message:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 15px rgba(0, 212, 255, 0.15);
    }
    .chatbot-input-container {
      padding: 16px 20px;
      border-top: 2px solid transparent;
      border-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent) 1;
      display: flex;
      gap: 12px;
      background: rgba(255, 255, 255, 0.02);
    }
    
    .chatbot-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 12px 18px;
      color: #e0e0e0;
      font-size: 0.95em;
      font-family: 'Exo 2', sans-serif;
      outline: none;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .chatbot-input:focus {
      border-color: rgba(255, 255, 255, 0.3);
      box-shadow: 
        0 0 10px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }
    
    .chatbot-input::placeholder {
      color: #a0b0c0;
      font-style: italic;
    }
    
    .chatbot-send {
      background: rgba(255, 255, 255, 0.15);
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2em;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        0 3px 10px rgba(0, 212, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      position: relative;
      overflow: hidden;
    }
    
    .chatbot-send::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }
    
    .chatbot-send:hover {
      transform: scale(1.03) translateY(-1px);
      box-shadow: 
        0 4px 15px rgba(0, 212, 255, 0.2),
        0 0 10px rgba(123, 0, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      background-position: 100% 0;
    }
    
    .chatbot-send:hover::before {
      left: 100%;
    }
    
    .chatbot-send:active {
      transform: scale(1.05) translateY(-1px);
    }
    
    .chatbot-send:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      background: rgba(128, 128, 128, 0.3);
    }
    .chatbot-typing {
      display: none;
      align-items: center;
      gap: 6px;
      padding: 12px 18px;
      background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(0, 212, 255, 0.05) 100%);
      border-radius: 18px;
      max-width: 100px;
      align-self: flex-start;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .chatbot-typing span {
      width: 8px;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
    }
    
    .chatbot-typing span:nth-child(2) { 
      animation-delay: 0.2s; 
    }
    
    .chatbot-typing span:nth-child(3) { 
      animation-delay: 0.4s; 
    }
    
    @keyframes typing {
      0%, 60%, 100% { 
        transform: translateY(0) scale(1); 
        opacity: 0.7;
      }
      30% { 
        transform: translateY(-12px) scale(1.2); 
        opacity: 1;
      }
    }
    .image-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 20px;
    }
    .image-card {
      background: #1e2a44;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      max-width: 48%;
    }
    .image-card img {
      width: 100%;
      max-height: 700px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
      object-fit: contain;
      cursor: zoom-in;
    }
    .image-card p.note {
      font-size: 0.9em;
      color: #ff6666;
      margin-top: 10px;
    }
    /* Before-After comparison */
    .compare-card {
      background: rgba(17, 30, 54, 0.55);
      border: 1px solid rgba(0, 212, 255, 0.15);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(8px);
      width: 100%;
      max-width: 1200px;
      margin: 6px auto 16px;
    }
    .ba-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
      background: #0f1b2e;
    }
    .ba-wrapper { position: relative; width: 100%; height: 100%; }
    .ba-bottom, .ba-top img { display: block; width: 100%; height: auto; user-select: none; }
    .ba-top { position: absolute; inset: 0; width: 50%; overflow: hidden; }
    .ba-divider {
      position: absolute;
      top: 0; bottom: 0;
      width: 2px;
      background: rgba(255, 255, 255, 0.4);
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
      transform: translateX(-1px);
      pointer-events: none;
    }
    .ba-handle {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 22px; height: 22px;
      border-radius: 50%;
      background: linear-gradient(135deg, #00d4ff, #7b00ff);
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      border: 2px solid rgba(255,255,255,0.85);
      pointer-events: none;
    }
    .ba-controls { display: flex; align-items: center; gap: 12px; margin-top: 12px; }
    .ba-controls label { color: #bcd1e6; font-size: 0.95em; }
    .ba-range { flex: 1; appearance: none; -webkit-appearance: none; height: 6px; border-radius: 999px; background: rgba(255,255,255,0.15); outline: none; }
    .ba-range::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: #00d4ff; border: 2px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.35); cursor: pointer; }
    .ba-range::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: #00d4ff; border: 2px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.35); cursor: pointer; }
    /* Interpretation/info card */
    .info-card {
      text-align: left;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(0, 212, 255, 0.15);
      border-radius: 10px;
      padding: 14px 16px;
      margin-top: 14px;
    }
    .info-card h4 {
      margin: 0 0 8px 0;
      color: #00d4ff;
      font-size: 1.05em;
      font-weight: 600;
    }
    .info-card ul {
      margin: 8px 0 0 18px;
      padding: 0;
      color: #bcd1e6;
      line-height: 1.5;
      font-size: 0.95em;
    }
    .info-card li b { color: #e8f4ff; }
    /* Summary/conclusion card */
    .summary-card {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(0, 212, 255, 0.18);
      border-radius: 14px;
      padding: 18px 20px;
      margin: 24px 0 8px 0;
      box-shadow: 0 8px 28px rgba(0,0,0,0.25);
    }
    .summary-card h3 {
      margin: 0 0 10px 0;
      color: #7adfff;
      font-size: 1.25em;
      letter-spacing: 0.3px;
    }
    .summary-card ul {
      margin: 10px 0 0 18px;
      padding: 0;
      color: #c8d8ea;
      line-height: 1.6;
      font-size: 1em;
    }
    .summary-card p { color: #bcd1e6; margin: 12px 0 0 0; }
    /* Image modal (click-to-zoom) */
    .img-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(2px);
    }
    .img-modal img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 90vw;
      max-height: 90vh;
      border-radius: 10px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    }
    .img-modal .close {
      position: absolute;
      top: 16px;
      right: 24px;
      font-size: 32px;
      color: #ffffff;
      cursor: pointer;
      user-select: none;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes gradientShift {
      0%, 100% { 
        background-position: 0% 50%, 0% 0%, 0% 0%, 0% 0%; 
      }
      25% { 
        background-position: 100% 50%, 50% 0%, 25% 0%, 0% 0%; 
      }
      50% { 
        background-position: 50% 100%, 100% 50%, 50% 25%, 0% 0%; 
      }
      75% { 
        background-position: 0% 50%, 50% 100%, 75% 50%, 0% 0%; 
      }
    }
    
    @keyframes floatingOrbs {
      0%, 100% { 
        background-position: 0% 0%, 100% 100%, 50% 50%, 0% 0%; 
      }
      25% { 
        background-position: 100% 0%, 0% 100%, 25% 75%, 0% 0%; 
      }
      50% { 
        background-position: 100% 100%, 0% 0%, 75% 25%, 0% 0%; 
      }
      75% { 
        background-position: 0% 100%, 100% 0%, 25% 75%, 0% 0%; 
      }
    }
    
    @keyframes textGlow {
      0% { 
        text-shadow: 
          0 0 20px rgba(0, 212, 255, 0.8),
          0 0 40px rgba(123, 0, 255, 0.6),
          0 0 60px rgba(0, 255, 150, 0.4);
      }
      100% { 
        text-shadow: 
          0 0 30px rgba(0, 212, 255, 1),
          0 0 60px rgba(123, 0, 255, 0.8),
          0 0 90px rgba(0, 255, 150, 0.6);
      }
    }
    
    @keyframes shimmer {
      0% { 
        transform: translateX(-100%) skewX(-15deg); 
      }
      100% { 
        transform: translateX(200%) skewX(-15deg); 
      }
    }
    
    @keyframes scanLines {
      0% { 
        transform: translateY(-100%); 
      }
      100% { 
        transform: translateY(100vh); 
      }
    }
    
    @keyframes floatBlob {
      0%, 100% { 
        transform: translate(0, 0) rotate(0deg) scale(1); 
      }
      25% { 
        transform: translate(40px, -40px) rotate(90deg) scale(1.1); 
      }
      50% { 
        transform: translate(-30px, 30px) rotate(180deg) scale(0.9); 
      }
      75% { 
        transform: translate(20px, -20px) rotate(270deg) scale(1.05); 
      }
    }
    
    @keyframes ripple {
      0% { 
        transform: scale(0); 
        opacity: 1; 
      }
      100% { 
        transform: scale(4); 
        opacity: 0; 
      }
    }
    
    @keyframes zoomIn {
      from { 
        opacity: 0; 
        transform: translate(-50%, -50%) scale(0.92); 
      }
      to { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1); 
      }
    }
    
    @keyframes pulse {
      0%, 100% { 
        transform: scale(1); 
        opacity: 1; 
      }
      50% { 
        transform: scale(1.05); 
        opacity: 0.8; 
      }
    }
    
    @keyframes rotate {
      from { 
        transform: rotate(0deg); 
      }
      to { 
        transform: rotate(360deg); 
      }
    }
    
    @keyframes float {
      0%, 100% { 
        transform: translateY(0px); 
      }
      50% { 
        transform: translateY(-20px); 
      }
    }
    
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(-10px); }
      20% { opacity: 1; transform: translateY(0); }
      80% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-10px); }
    }
    @media (max-width: 600px) {
      .header h1 {
        font-size: 2.2em;
      }
      .intro p {
        font-size: 1.1em;
      }
      .products {
        grid-template-columns: 1fr;
      }
      .product-card {
        padding: 20px;
      }
      .image-card {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation Menu -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <h1>PF-GEOINT</h1>
      </div>
      <div class="nav-menu">
        <a href="#" class="nav-link active" onclick="showPage('home')">Home</a>
        <a href="#" class="nav-link" onclick="showPage('standalone')">Standalone Products</a>
      </div>
      <div class="nav-toggle">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </div>
  </nav>

  <div class="header">
    <h1>PF-GEOINT</h1>
  </div>
  
  <!-- Home Page Content -->
  <div id="home-page" class="page-content active">
    <div class="container">
    <div class="intro">
      <p>Discover PF-GEOINT, our state-of-the-art Geospatial Intelligence platform. Powered by advanced satellite imagery, AI-driven analytics, and real-time data, our solutions transform decision-making across industries.</p>
    </div>
    <div id="main-products" class="products">
      <div class="product-card">
        <h3>Defense & Security</h3>
        <p>Advanced surveillance, threat detection, and mission planning with high-resolution imagery and AI-powered insights.</p>
        <button onclick="learnMore('defense')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Agriculture</h3>
        <p>Boost yields with precision farming, soil analysis, and real-time weather monitoring for smarter agriculture.</p>
        <button onclick="learnMore('agriculture')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Urban Planning</h3>
        <p>Design future-ready cities with 3D mapping, infrastructure monitoring, and population analytics.</p>
        <button onclick="learnMore('urban-planning')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Environmental Monitoring</h3>
        <p>Track climate change, deforestation, and resources with cutting-edge GEOINT analytics.</p>
        <button onclick="learnMore('environment')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Transportation & Logistics</h3>
        <p>Optimize routes and enhance logistics with real-time traffic analysis and geospatial data.</p>
        <button onclick="learnMore('transportation')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Energy & Utilities</h3>
        <p>Monitor pipelines, renewable energy sites, and grid performance with precision geospatial tools.</p>
        <button onclick="learnMore('energy')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Weather Intelligence</h3>
        <p>Real-time global and local weather insights with interactive mapping and alerts.</p>
        <button onclick="learnMore('weather')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>PF - DIGITAL TWIN</h3>
        <p>Revolutionary digital twin technology for smart cities. Create comprehensive 3D city models with real-time data integration, infrastructure monitoring, and predictive analytics for urban development.</p>
        <button onclick="learnMore('digital-twin')">Explore Now</button>
      </div>
    </div>

    <!-- Agriculture Solutions Section -->
    <div id="agriculture-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Agriculture Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF - C.H.A (Crop Health Assessment)</h3>
          <p>Evaluate crop vitality and water stress using advanced indices like NDVI and NDWI for your area of interest.</p>
          <button onclick="showCropHealth()">View Details</button>
        </div>
        <!-- Add more agriculture solutions here as needed -->
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Electrical Utility Detail Section -->
    <div id="electrical-utility" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Electrical Utility Network</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>Grid Monitoring & Analysis</h3>
          <p>High-resolution geospatial intelligence for transmission lines, substations, and distribution networks. Detect vegetation encroachment, assess outage impact, and prioritize maintenance with AI-driven insights.</p>
          <img id="electricalImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/electricity.png" alt="Electrical Utility Network" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;" onerror="this.onerror=null; this.src='https://github.com/PFG-Sanusi/GEOINT/raw/main/electricity.png';">
          <p class="note">Electrical utility network overview</p>
          <div class="info-card">
            <h4>Key Capabilities</h4>
            <ul>
              <li>Medium-voltage primary feeders with network tracing (E-MV-PI-### labels)</li>
              <li>Transformer/pole locations with connected service drops</li>
              <li>Customer/service connection points mapped to buildings</li>
              <li>Incident/outage cluster visualization for rapid impact assessment</li>
              <li>Unknown/unnamed segment flagging to prioritize data cleanup</li>
              <li>Street context and landmarks to guide field crew navigation</li>
            </ul>
          </div>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnergy()">Back to Energy & Utilities</button>
      </div>
    </div>

    <!-- Defense & Security Solutions Section -->
    <div id="defense-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Defense & Security Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF-GEOTRACE</h3>
          <p>Cutting-edge geolocation platform redefining tactical dominance. Fuses real-time GPS precision, dynamic marker systems, and strategic buffer zones to transform coordinates into mission-critical intelligence.</p>
          <button onclick="showGeoTrace()">View Details</button>
        </div>
        <!-- Add more defense solutions here as needed -->
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Weather Intelligence Solutions Section -->
    <div id="weather-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Weather Intelligence Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF-CAELUS</h3>
          <p>Interactive, real-time weather intelligence platform for monitoring, forecasts, and alerts.</p>
          <button onclick="showCaelus()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- PF-DIGITAL TWIN Solutions Section -->
    <div id="digital-twin-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-DIGITAL TWIN Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF-DIGITAL TWIN</h3>
          <p>Revolutionary digital twin technology for smart cities. Create comprehensive 3D city models with real-time data integration, infrastructure monitoring, and predictive analytics for urban development.</p>
          <button onclick="showDigitalTwin()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Urban Planning Solutions Section -->
    <div id="urban-planning-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Urban Planning Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF - Urban Scope</h3>
          <p>Comprehensive urban planning and development solutions. Advanced analytics for city planning, infrastructure monitoring, and urban development optimization.</p>
          <button onclick="showUrbanScope()">View Details</button>
        </div>
        <div class="product-card">
          <span class="product-badge">New</span>
          <h3>PF ASSETWATCH</h3>
          <p><b>Asset health & change detection.</b> Monitor critical assets and streamline maintenance workflows.</p>
          <button onclick="showAssetWatch()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Environmental Monitoring Solutions Section -->
    <div id="environment-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Environmental Monitoring Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF - F.R.A (Flood Risk Assessment)</h3>
          <p>Advanced flood risk assessment and monitoring system. Real-time flood prediction, risk mapping, and early warning systems for disaster preparedness.</p>
          <button onclick="showFloodRisk()">View Details</button>
        </div>
        <div class="product-card">
          <h3>PF - GEOSHIFT</h3>
          <p>Environmental change detection and monitoring platform. Track deforestation, land use changes, and environmental impacts with precision geospatial analysis.</p>
          <button onclick="showGeoShift()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Transportation & Logistics Solutions Section -->
    <div id="transportation-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Transportation & Logistics Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF - LogiTrack</h3>
          <p>Comprehensive logistics and delivery management app. Real-time tracking, route optimization, and fleet management for efficient supply chain operations.</p>
          <button onclick="showLogiTrack()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Energy & Utilities Solutions Section -->
    <div id="energy-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Energy & Utilities Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF - FLOWSAFE</h3>
          <p>Pipeline Monitoring: Real Time Pipeline Integrity with Leak Detection. Advanced monitoring system for pipeline safety and maintenance optimization using geospatial intelligence.</p>
          <button onclick="showFlowSafe()">View Details</button>
        </div>
        <div class="product-card">
          <h3>PF - Ecosphere</h3>
          <p>Renewable Energy Planning: Optimized Site Selection for Solar Farms. Comprehensive site assessment and optimization for renewable energy installations using advanced geospatial analysis.</p>
          <button onclick="showEcosphere()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- PF-GEOTRACE Section -->
    <div id="geotrace" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-GEOTRACE</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>PF-GEOTRACE Platform</h3>
          <p>Cutting-edge geolocation platform redefining tactical dominance</p>
          <img id="geotraceImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/geotrace.jpeg" alt="PF-GEOTRACE Platform" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">PF-GEOTRACE platform interface</p>
          <div class="info-card">
            <h4>Platform Features</h4>
            <ul>
              <li><b>Real-time GPS Precision</b>: Ultra-accurate location tracking and positioning</li>
              <li><b>Dynamic Marker Systems</b>: Interactive markers for tactical operations</li>
              <li><b>Strategic Buffer Zones</b>: Customizable security and operational boundaries</li>
              <li><b>Satellite Imagery</b>: High-resolution satellite data integration</li>
              <li><b>Versatile Map Layers</b>: Multiple mapping options for different scenarios</li>
              <li><b>Rapid Data Export</b>: Quick export capabilities for mission-critical data</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="summary-card">
        <h3>PF-GEOTRACE â€“ Mission-Critical Intelligence</h3>
        <p><b>PF-GEOTRACE</b> is a cutting-edge geolocation platform redefining tactical dominance. It fuses real-time GPS precision, dynamic marker systems, and strategic buffer zones to transform coordinates into mission-critical intelligence. With satellite imagery, versatile map layers, and rapid data export, it's engineered for unparalleled operational superiority.</p>
        <p><b>Applications:</b> Military operations, border security, tactical surveillance, mission planning, emergency response, and critical infrastructure protection.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://pfg-sanusi.github.io/PF-GEOTRACE/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF-GEOTRACE free trial in a new tab.</p>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToDefense()">Back to Defense Solutions</button>
      </div>
    </div>

    <!-- Urban Scope Section -->
    <div id="urban-scope" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - Urban Scope</h2>
      <div class="summary-card">
        <h3>PF - Urban Scope â€“ Urban Planning Solutions</h3>
        <p><b>PF - Urban Scope</b> provides comprehensive urban planning and development solutions with advanced analytics for city planning, infrastructure monitoring, and urban development optimization.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Urban Development Planning</b>: Advanced analytics for city planning and development</li>
          <li><b>Infrastructure Monitoring</b>: Real-time monitoring of urban infrastructure</li>
          <li><b>Population Analytics</b>: Demographic analysis and population density mapping</li>
          <li><b>Traffic Optimization</b>: Smart traffic management and flow optimization</li>
          <li><b>Environmental Planning</b>: Sustainable urban development solutions</li>
          <li><b>Smart City Integration</b>: IoT connectivity and smart city implementation</li>
        </ul>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://experience.arcgis.com/experience/c36576f5941c40788c57cd28210a7244', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - UrbanScope free trial in a new tab.</p>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToUrbanPlanning()">Back to Urban Planning Solutions</button>
      </div>
    </div>

    <!-- PF - F.R.A (Flood Risk Assessment) Section -->
    <div id="flood-risk" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - F.R.A (Flood Risk Assessment)</h2>
      <div class="summary-card">
        <h3>PF - F.R.A â€“ Flood Risk Assessment & Monitoring</h3>
        <p><b>PF - F.R.A</b> is an advanced flood risk assessment and monitoring system that provides real-time flood prediction, risk mapping, and early warning systems for disaster preparedness and response.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Real-time Flood Prediction</b>: AI-powered flood forecasting using weather data and terrain analysis</li>
          <li><b>Risk Mapping</b>: Comprehensive flood risk assessment and vulnerability mapping</li>
          <li><b>Early Warning Systems</b>: Automated alerts and notifications for flood threats</li>
          <li><b>Historical Analysis</b>: Past flood event analysis and pattern recognition</li>
          <li><b>Infrastructure Impact Assessment</b>: Evaluate potential damage to critical infrastructure</li>
          <li><b>Emergency Response Planning</b>: Support for evacuation routes and emergency management</li>
        </ul>
        <p><b>Applications:</b> Disaster preparedness, emergency response planning, infrastructure protection, insurance risk assessment, and community safety planning.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://pfg-sanusi.github.io/PF-F.R.A/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - F.R.A free trial in a new tab.</p>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnvironment()">Back to Environmental Monitoring Solutions</button>
      </div>
    </div>

    <!-- PF - GEOSHIFT Section -->
    <div id="geoshift" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - GEOSHIFT</h2>
      <div class="summary-card">
        <h3>PF - GEOSHIFT â€“ Environmental Change Detection</h3>
        <p><b>PF - GEOSHIFT</b> is a comprehensive environmental change detection and monitoring platform that tracks deforestation, land use changes, and environmental impacts with precision geospatial analysis.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Deforestation Monitoring</b>: Real-time tracking of forest cover changes and illegal logging</li>
          <li><b>Land Use Change Detection</b>: Monitor urban expansion, agricultural development, and land conversion</li>
          <li><b>Environmental Impact Assessment</b>: Evaluate the environmental effects of development projects</li>
          <li><b>Carbon Footprint Tracking</b>: Monitor carbon sequestration and emission changes</li>
          <li><b>Biodiversity Monitoring</b>: Track habitat changes and wildlife corridor impacts</li>
          <li><b>Compliance Reporting</b>: Generate reports for environmental regulations and sustainability goals</li>
        </ul>
        <p><b>Applications:</b> Environmental monitoring, conservation planning, sustainability reporting, regulatory compliance, and climate change research.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('http://192.168.1.169:8081/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - GEOSHIFT free trial in a new tab.</p>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnvironment()">Back to Environmental Monitoring Solutions</button>
      </div>
    </div>

    <!-- PF - LogiTrack Section -->
    <div id="logitrack" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - LogiTrack</h2>
      <div class="summary-card">
        <h3>PF - LogiTrack â€“ Logistics & Delivery Management</h3>
        <p><b>PF - LogiTrack</b> is a comprehensive logistics and delivery management app that provides real-time tracking, route optimization, and fleet management for efficient supply chain operations.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Real-time Tracking</b>: Live GPS tracking of vehicles, packages, and shipments</li>
          <li><b>Route Optimization</b>: AI-powered route planning for maximum efficiency and fuel savings</li>
          <li><b>Fleet Management</b>: Comprehensive vehicle monitoring, maintenance scheduling, and driver management</li>
          <li><b>Delivery Management</b>: Package tracking, delivery confirmation, and customer notifications</li>
          <li><b>Supply Chain Analytics</b>: Performance metrics, cost analysis, and operational insights</li>
          <li><b>Mobile Integration</b>: Driver and customer mobile apps for seamless operations</li>
        </ul>
        <p><b>Applications:</b> Last-mile delivery, fleet management, supply chain optimization, e-commerce logistics, and transportation operations.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('http://192.168.1.169:3000/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - LogiTrack free trial in a new tab.</p>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToTransportation()">Back to Transportation & Logistics Solutions</button>
      </div>
    </div>

    <!-- PF - FLOWSAFE Section -->
    <div id="flowsafe" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - FLOWSAFE</h2>
      <div class="summary-card">
        <h3>PF - FLOWSAFE â€“ Pipeline Monitoring & Leak Detection</h3>
        <p><b>PF - FLOWSAFE</b> is an advanced pipeline monitoring system that provides real-time pipeline integrity monitoring with leak detection and maintenance optimization using geospatial intelligence.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Real-time Leak Detection</b>: Advanced sensor technology for immediate leak identification</li>
          <li><b>Pipeline Integrity Monitoring</b>: Continuous assessment of pipeline condition and structural integrity</li>
          <li><b>Predictive Maintenance</b>: AI-powered maintenance scheduling to prevent failures</li>
          <li><b>Geospatial Analysis</b>: Location-based risk assessment and environmental impact monitoring</li>
          <li><b>Emergency Response</b>: Automated alerts and emergency shutdown procedures</li>
          <li><b>Compliance Reporting</b>: Regulatory compliance monitoring and reporting</li>
        </ul>
        <p><b>Applications:</b> Oil and gas pipeline monitoring, water distribution systems, chemical transport pipelines, and infrastructure safety management.</p>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnergy()">Back to Energy & Utilities Solutions</button>
      </div>
    </div>

    <!-- PF - Ecosphere Section -->
    <div id="ecosphere" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - Ecosphere</h2>
      <div class="summary-card">
        <h3>PF - Ecosphere â€“ Renewable Energy Planning & Site Selection</h3>
        <p><b>PF - Ecosphere</b> is a comprehensive renewable energy planning platform that provides optimized site selection for solar farms and other renewable energy installations using advanced geospatial analysis.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Solar Farm Site Selection</b>: Optimal location identification based on solar irradiance, terrain, and environmental factors</li>
          <li><b>Wind Energy Assessment</b>: Wind resource evaluation and turbine placement optimization</li>
          <li><b>Environmental Impact Analysis</b>: Comprehensive environmental assessment for sustainable development</li>
          <li><b>Grid Integration Planning</b>: Electrical grid connectivity and transmission line analysis</li>
          <li><b>Financial Modeling</b>: ROI analysis, cost-benefit assessment, and investment planning</li>
          <li><b>Regulatory Compliance</b>: Permitting support and regulatory requirement analysis</li>
        </ul>
        <p><b>Applications:</b> Solar farm development, wind energy projects, renewable energy portfolio planning, and sustainable energy infrastructure development.</p>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnergy()">Back to Energy & Utilities Solutions</button>
      </div>
    </div>

    <!-- PF-DIGITAL TWIN Section -->
    <div id="digital-twin" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-DIGITAL TWIN</h2>
      <div class="image-container">
        <div class="image-card">
          <h3>Lagos Digital Twin</h3>
          <p>Comprehensive 3D model of Lagos, Nigeria showing urban infrastructure and development patterns.</p>
          <img id="lagosImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/lagos.png" alt="Lagos Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Lagos city digital twin model</p>
        </div>
        <div class="image-card">
          <h3>Burj Khalifa Digital Twin</h3>
          <p>High-resolution 3D model of Burj Khalifa and surrounding Dubai infrastructure.</p>
          <img id="burjImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/burj%20khal.png" alt="Burj Khalifa Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Burj Khalifa and Dubai digital twin</p>
        </div>
        <div class="image-card">
          <h3>Hong Kong Digital Twin</h3>
          <p>Detailed 3D representation of Hong Kong's skyline and urban density patterns.</p>
          <img id="hongkongImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/hongkong.png" alt="Hong Kong Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Hong Kong city digital twin model</p>
        </div>
        <div class="image-card">
          <h3>Madrid Digital Twin</h3>
          <p>Complete 3D model of Madrid showing historical and modern urban development.</p>
          <img id="madridImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/madrid.png" alt="Madrid Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Madrid city digital twin model</p>
        </div>
      </div>
      
      <div class="info-card">
        <h4>PF-DIGITAL TWIN Capabilities</h4>
        <ul>
          <li><b>3D City Modeling</b>: High-resolution digital replicas of urban environments</li>
          <li><b>Real-time Data Integration</b>: Live data feeds from sensors, traffic, and utilities</li>
          <li><b>Infrastructure Monitoring</b>: Track the health and performance of city assets</li>
          <li><b>Predictive Analytics</b>: Forecast urban growth, traffic patterns, and resource needs</li>
          <li><b>Simulation & Planning</b>: Test urban development scenarios before implementation</li>
          <li><b>Multi-scale Analysis</b>: From individual buildings to entire metropolitan areas</li>
          <li><b>Interactive Visualization</b>: Immersive 3D exploration and data exploration</li>
          <li><b>API Integration</b>: Connect with existing city management systems</li>
        </ul>
      </div>
      
      <div class="summary-card">
        <h3>PF-DIGITAL TWIN â€“ Smart City Intelligence</h3>
        <p><b>PF-DIGITAL TWIN</b> revolutionizes urban planning and city management through advanced digital twin technology. Our platform creates comprehensive 3D models of cities, integrating real-time data from multiple sources to provide unprecedented insights into urban dynamics.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Comprehensive City Modeling</b>: Create detailed 3D replicas of entire cities with sub-meter accuracy</li>
          <li><b>Real-time Monitoring</b>: Track traffic flows, energy usage, air quality, and infrastructure health</li>
          <li><b>Predictive Planning</b>: Simulate urban development scenarios and their impacts</li>
          <li><b>Smart Infrastructure</b>: Monitor and optimize utilities, transportation, and public services</li>
          <li><b>Citizen Engagement</b>: Interactive platforms for public participation in urban planning</li>
        </ul>
        <p><b>Applications:</b> Smart city development, urban planning, infrastructure management, disaster response, environmental monitoring, traffic optimization, and sustainable development planning.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://experience.arcgis.com/experience/7382721598dd401e800f5beb01091532?views=View-3', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - DIGITAL TWIN free trial in a new tab.</p>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToDigitalTwin()">Back to PF-DIGITAL TWIN Solutions</button>
      </div>
    </div>

    <!-- PF-CAELUS Section -->
    <div id="caelus" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-CAELUS</h2>
      <div class="summary-card">
        <h3>PF-CAELUS â€“ Weather Intelligence Platform</h3>
        <p><b>Caelus</b> is an interactive, real-time weather intelligence platform designed to make global and local weather data accessible, visual, and actionable. It provides a live Earth map powered by satellite imagery and weather APIs, enabling users to track clouds, storms, wind, precipitation, and temperature patterns in real time. Caelus also offers city-level forecasts, storm tracking, historical climate views, and severe weather alertsâ€”making it a versatile tool for both everyday users and professionals.</p>
        <p><b>Key features:</b></p>
        <ul>
          <li>Live interactive weather map with toggleable layers (clouds, radar, wind, temperature, storms)</li>
          <li>Location-based insights with forecasts and alerts</li>
          <li>Storm tracking for hurricanes, cyclones, and tropical storms</li>
          <li>Climate and historical data for trend analysis and event playback</li>
          <li>User-friendly design with dark/light mode, mobile responsiveness, and saved favorites</li>
        </ul>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('http://192.168.1.169:8080/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF-CAELUS free trial in a new tab.</p>
        </div>
      </div>
      <div class="image-card" style="max-width: 100%; margin-top: 16px;">
        <h3>Live Preview</h3>
        <div style="position: relative; padding-top: 56.25%; width: 100%; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);">
          <iframe src="http://192.168.1.169:8080/" title="PF-CAELUS" style="position: absolute; inset: 0; width: 100%; height: 100%; border: 0;" loading="lazy" referrerpolicy="no-referrer" allowfullscreen></iframe>
        </div>
        <p class="note">Embedded PF-CAELUS live interface</p>
      </div>
      <div style="text-align: center; margin-top: 16px;">
        <button class="back-button" onclick="backToWeather()">Back to Weather Solutions</button>
      </div>
    </div>

    <!-- PF ASSETWATCH Section -->
    <div id="asset-watch" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF ASSETWATCH</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>Urban Asset Monitoring</h3>
          <p>Detect change, monitor condition, and prioritize maintenance for critical urban assets like bridges, roads, facilities, and utilities.</p>
          <img id="assetwatchImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/PF-ASSET%20WATCH.png" alt="PF ASSETWATCH" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;" onerror="this.onerror=null; this.src='https://github.com/PFG-Sanusi/GEOINT/raw/main/PF-ASSET%20WATCH.png';">
          <p class="note">Citywide asset visibility with AI-assisted insights</p>
          <div class="info-card">
            <h4>Key Capabilities</h4>
            <ul>
              <li>Change detection for asset degradation and encroachment</li>
              <li>Condition scoring and maintenance prioritization</li>
              <li>Geotagged incidents with trend analytics</li>
              <li>Work order integration and SLA tracking</li>
              <li>Map-first dashboards for planners and field crews</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://experience.arcgis.com/experience/9977e45b77b74ced8ce4686754116afe/page/Home', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF - ASSETWATCH free trial in a new tab.</p>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToUrbanPlanning()">Back to Urban Planning Solutions</button>
      </div>
    </div>

    <!-- Crop Health Assessment Section -->
    <div id="crop-health" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF - C.H.A (Crop Health Assessment)</h2>
      <div class="image-container">
        <div class="image-card">
          <h3>NDVI Map</h3>
          <p>Normalized Difference Vegetation Index showing crop vigor.</p>
          <div id="ndviContainer">
            <img id="ndviImage" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png" alt="NDVI Map">
            <div id="ndviControls" style="margin-top: 10px;">
              <button onclick="toggleNDVIView()" style="background: linear-gradient(90deg, #00d4ff, #7b00ff); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9em; font-weight: 500;">Next: 3D View</button>
            </div>
          </div>
          <p class="note">Static NDVI image from repository.</p>
          <div class="info-card">
            <h4>NDVI Interpretation (Range: -0.099 to 0.423)</h4>
            <ul>
              <li><b>-0.099 to 0.126</b>: Non-vegetated or very sparse cover (bare soil/water/dead).</li>
              <li><b>0.127 to 0.169</b>: Low-density vegetation; early growth or stressed plants.</li>
              <li><b>0.170 to 0.200</b>: Moderate vegetation health; healthy grass or sparse crops.</li>
              <li><b>0.201 to 0.236</b>: Denser vegetation; good photosynthetic activity.</li>
              <li><b>0.237 to 0.423</b>: Highest density; mature crops/dense healthy vegetation.</li>
            </ul>
          </div>
        </div>
        <div class="summary-card">
          <h3>PF - C.H.A (Crop Health Assessment) â€“ Summary</h3>
          <ul>
            <li><b>Healthy and well-watered crops (best fields)</b>: Green, well-hydrated areas with strong development; likely good yields if conditions persist.</li>
            <li><b>Healthy but dry crops</b>: Green fields showing early water limitation; need timely rain or irrigation to maintain vigor.</li>
            <li><b>Wet but weak crops</b>: Adequate moisture but poor growthâ€”possible waterlogging, pests, or disease; inspect on ground.</li>
            <li><b>Poor or bare areas</b>: Little/no vegetationâ€”fallow, late-planted, or highly stressed; yields likely low.</li>
          </ul>
          <p><b>Overall</b>: Conditions are fair to good with pockets of water stress and localized weak growth despite water. Maintain strong fields, supplement water where possible, and investigate weak or flooded zones.</p>
        </div>
        <div class="image-card">
          <h3>NDWI Map</h3>
          <p>Normalized Difference Water Index indicating water stress.</p>
          <div id="ndwiContainer">
            <img id="ndwiImage" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png" alt="NDWI Map">
            <div id="ndwiControls" style="margin-top: 10px;">
              <button onclick="toggleNDWIView()" style="background: linear-gradient(90deg, #00d4ff, #7b00ff); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9em; font-weight: 500;">Next: 3D View</button>
            </div>
          </div>
          <p class="note">Static NDWI image from repository.</p>
          <div class="info-card">
            <h4>NDWI Interpretation (Range: -0.656 to 0.260)</h4>
            <ul>
              <li><b>-0.656 to -0.071</b>: Non-water surfaces (urban, bare soil) or very dry vegetation.</li>
              <li><b>-0.070 to -0.028</b>: Dry/sparse vegetation; limited water availability; mildâ€“moderate stress.</li>
              <li><b>-0.027 to 0.022</b>: Moderate vegetation water content; average soil moisture.</li>
              <li><b>0.023 to 0.087</b>: Healthier vegetation with higher water content; adequate moisture.</li>
              <li><b>0.088 to 0.260</b>: Highest water content; well-hydrated crops or local surface water.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="compare-card">
        <h3 style="margin: 0 0 12px; color: #00d4ff;">Compare NDVI vs NDWI</h3>
        <div id="ba1" class="ba-container">
          <div class="ba-wrapper">
            <img class="ba-bottom" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png" alt="NDWI Base">
            <div class="ba-top" style="width: 50%;">
              <img src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png" alt="NDVI Overlay">
            </div>
            <div class="ba-divider" style="left: 50%;"></div>
            <div class="ba-handle" style="left: 50%;"></div>
          </div>
        </div>
        <div class="ba-controls">
          <label for="baRange">Slide to compare</label>
          <input id="baRange" class="ba-range" type="range" min="0" max="100" value="50" oninput="updateBeforeAfter('ba1', this.value)">
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToAgriculture()">Back to Agriculture Solutions</button>
      </div>
    </div>
    </div>
  </div>

  <!-- Standalone Products Page -->
  <div id="standalone-page" class="page-content">
    <div class="container">
      <!-- Breadcrumbs -->
      <div class="breadcrumbs">
        <a href="#" class="breadcrumb-item" onclick="showPage('home')">Home</a>
        <span class="breadcrumb-item">Standalone Products</span>
      </div>

      <div class="intro">
        <h2 style="text-align: center; color: #00d4ff; margin-bottom: 20px;">Standalone Products</h2>
        <p style="text-align: center; font-size: 1.2em; margin-bottom: 40px;">Discover our comprehensive suite of standalone geospatial intelligence products, each designed to address specific industry challenges with cutting-edge technology.</p>
      </div>

      <!-- Search and Filter -->
      <div class="search-filter-container">
        <input type="text" class="search-input" id="productSearch" placeholder="Search products..." onkeyup="filterProducts()">
        <div class="filter-buttons">
          <button class="filter-btn active" onclick="filterByCategory('all')">All Products</button>
          <button class="filter-btn" onclick="filterByCategory('monitoring')">Monitoring</button>
          <button class="filter-btn" onclick="filterByCategory('tracking')">Tracking</button>
          <button class="filter-btn" onclick="filterByCategory('analysis')">Analysis</button>
          <button class="filter-btn" onclick="filterByCategory('intelligence')">Weather Intelligence</button>
          <button class="filter-btn" onclick="filterByCategory('planning')">Planning</button>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
          <span id="productCount" style="color: #00d4ff; font-weight: 500;">13 products found</span>
          <div>
            <button class="filter-btn" onclick="toggleComparison()" id="comparisonBtn">Compare Products (0)</button>
            <button class="filter-btn" onclick="viewFavorites()" id="favoritesBtn">Favorites (0)</button>
          </div>
        </div>
      </div>
      
      <div class="products">
        <!-- PF Asset-Watch -->
        <div class="product-card" data-category="monitoring" data-name="PF Asset-Watch">
          <button class="favorite-btn" onclick="toggleFavorite('asset-watch')">â™¡</button>
          <span class="product-badge">Featured</span>
          <h3>PF Asset-Watch</h3>
          <p>Monitor your real estate assets using satellite technology. Advanced monitoring solution for property management, construction progress tracking, and asset health assessment.</p>
          <div class="product-features">
            <span class="feature-tag">Satellite Monitoring</span>
            <span class="feature-tag">Real Estate</span>
            <span class="feature-tag">Asset Management</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('asset-watch')">Learn More</button>
            <button class="secondary" onclick="addToComparison('asset-watch')">Compare</button>
          </div>
        </div>

        <!-- PF GeoTrace -->
        <div class="product-card" data-category="tracking" data-name="PF GeoTrace">
          <button class="favorite-btn" onclick="toggleFavorite('geotrace')">â™¡</button>
          <h3>PF GeoTrace</h3>
          <p>A real-time geolocation platform for accurate tracking. Precision GPS tracking with advanced analytics for fleet management, logistics, and security applications.</p>
          <div class="product-features">
            <span class="feature-tag">Real-time Tracking</span>
            <span class="feature-tag">GPS Precision</span>
            <span class="feature-tag">Fleet Management</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('geotrace')">Learn More</button>
            <button class="secondary" onclick="addToComparison('geotrace')">Compare</button>
          </div>
        </div>

        <!-- PF Vista -->
        <div class="product-card" data-category="monitoring" data-name="PF Vista">
          <button class="favorite-btn" onclick="toggleFavorite('vista')">â™¡</button>
          <h3>PF Vista</h3>
          <p>Comprehensive monitoring solution with satellite, drone, CCTV, and geospatial data integration. All-in-one surveillance and monitoring platform for complete situational awareness.</p>
          <div class="product-features">
            <span class="feature-tag">Multi-source Data</span>
            <span class="feature-tag">Surveillance</span>
            <span class="feature-tag">Integration</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('vista')">Learn More</button>
            <button class="secondary" onclick="addToComparison('vista')">Compare</button>
          </div>
        </div>

        <!-- PF GeoShift -->
        <div class="product-card" data-category="analysis" data-name="PF GeoShift">
          <button class="favorite-btn" onclick="toggleFavorite('geoshift')">â™¡</button>
          <h3>PF GeoShift</h3>
          <p>Detect environmental changes with advanced geospatial tools. Monitor deforestation, land use changes, and environmental impacts with precision analysis.</p>
          <div class="product-features">
            <span class="feature-tag">Change Detection</span>
            <span class="feature-tag">Environmental</span>
            <span class="feature-tag">Analysis</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('geoshift')">Learn More</button>
            <button class="secondary" onclick="addToComparison('geoshift')">Compare</button>
          </div>
        </div>

        <!-- PF Caelus -->
        <div class="product-card" data-category="intelligence" data-name="PF Caelus">
          <button class="favorite-btn" onclick="toggleFavorite('caelus')">â™¡</button>
          <h3>PF Caelus</h3>
          <p>A real-time weather intelligence platform for accurate forecasting. Advanced meteorological data analysis with interactive mapping and alert systems.</p>
          <div class="product-features">
            <span class="feature-tag">Weather Intelligence</span>
            <span class="feature-tag">Forecasting</span>
            <span class="feature-tag">Real-time Data</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('caelus')">Learn More</button>
            <button class="secondary" onclick="addToComparison('caelus')">Compare</button>
          </div>
        </div>

        <!-- PF Atlas -->
        <div class="product-card" data-category="intelligence" data-name="PF Atlas">
          <button class="favorite-btn" onclick="toggleFavorite('atlas')">â™¡</button>
          <h3>PF Atlas</h3>
          <p>A geospatial intelligence solution powered by Large Language Models (LLM). AI-driven geospatial analysis with natural language processing capabilities.</p>
          <div class="product-features">
            <span class="feature-tag">AI-Powered</span>
            <span class="feature-tag">LLM Integration</span>
            <span class="feature-tag">Intelligence</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('atlas')">Learn More</button>
            <button class="secondary" onclick="addToComparison('atlas')">Compare</button>
          </div>
        </div>

        <!-- PF Digital Twin -->
        <div class="product-card" data-category="planning" data-name="PF Digital Twin">
          <button class="favorite-btn" onclick="toggleFavorite('digital-twin')">â™¡</button>
          <h3>PF Digital Twin</h3>
          <p>A platform for smart city development, predictive analysis, and monitoring. Create comprehensive 3D city models with real-time data integration and predictive analytics.</p>
          <div class="product-features">
            <span class="feature-tag">Smart Cities</span>
            <span class="feature-tag">3D Modeling</span>
            <span class="feature-tag">Predictive Analytics</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('digital-twin')">Learn More</button>
            <button class="secondary" onclick="addToComparison('digital-twin')">Compare</button>
          </div>
        </div>

        <!-- PF OrbitFence -->
        <div class="product-card" data-category="tracking" data-name="PF OrbitFence">
          <button class="favorite-btn" onclick="toggleFavorite('orbitfence')">â™¡</button>
          <h3>PF OrbitFence</h3>
          <p>A smart geofencing solution for real-time tracking, automation, and control within virtual zones. Advanced perimeter monitoring with automated response systems.</p>
          <div class="product-features">
            <span class="feature-tag">Geofencing</span>
            <span class="feature-tag">Automation</span>
            <span class="feature-tag">Security</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('orbitfence')">Learn More</button>
            <button class="secondary" onclick="addToComparison('orbitfence')">Compare</button>
          </div>
        </div>

        <!-- PF LogiTrack -->
        <div class="product-card" data-category="tracking" data-name="PF LogiTrack">
          <button class="favorite-btn" onclick="toggleFavorite('logitrack')">â™¡</button>
          <h3>PF LogiTrack</h3>
          <p>A logistics and delivery management application. Comprehensive supply chain optimization with real-time tracking and route planning capabilities.</p>
          <div class="product-features">
            <span class="feature-tag">Logistics</span>
            <span class="feature-tag">Delivery Management</span>
            <span class="feature-tag">Supply Chain</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('logitrack')">Learn More</button>
            <button class="secondary" onclick="addToComparison('logitrack')">Compare</button>
          </div>
        </div>

        <!-- PF FlowSafe -->
        <div class="product-card" data-category="monitoring" data-name="PF FlowSafe">
          <button class="favorite-btn" onclick="toggleFavorite('flowsafe')">â™¡</button>
          <h3>PF FlowSafe</h3>
          <p>Real-time pipeline monitoring solution with leak detection for pipeline integrity. Advanced sensor integration for critical infrastructure protection.</p>
          <div class="product-features">
            <span class="feature-tag">Pipeline Monitoring</span>
            <span class="feature-tag">Leak Detection</span>
            <span class="feature-tag">Infrastructure</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('flowsafe')">Learn More</button>
            <button class="secondary" onclick="addToComparison('flowsafe')">Compare</button>
          </div>
        </div>

        <!-- PF UrbanScope -->
        <div class="product-card" data-category="planning" data-name="PF UrbanScope">
          <button class="favorite-btn" onclick="toggleFavorite('urbanscope')">â™¡</button>
          <h3>PF UrbanScope</h3>
          <p>A geospatial platform for urban growth analysis, land-use modeling, and infrastructure planning. Comprehensive urban development and planning solutions.</p>
          <div class="product-features">
            <span class="feature-tag">Urban Planning</span>
            <span class="feature-tag">Growth Analysis</span>
            <span class="feature-tag">Infrastructure</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('urbanscope')">Learn More</button>
            <button class="secondary" onclick="addToComparison('urbanscope')">Compare</button>
          </div>
        </div>

        <!-- PF F.R.A -->
        <div class="product-card" data-category="analysis" data-name="PF F.R.A">
          <button class="favorite-btn" onclick="toggleFavorite('fra')">â™¡</button>
          <h3>PF F.R.A</h3>
          <p>Flood risk assessment tool for better flood preparedness. Advanced hydrological modeling with real-time monitoring and early warning systems.</p>
          <div class="product-features">
            <span class="feature-tag">Flood Assessment</span>
            <span class="feature-tag">Risk Analysis</span>
            <span class="feature-tag">Early Warning</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('fra')">Learn More</button>
            <button class="secondary" onclick="addToComparison('fra')">Compare</button>
          </div>
        </div>

        <!-- PF Ecosphere -->
        <div class="product-card" data-category="planning" data-name="PF Ecosphere">
          <button class="favorite-btn" onclick="toggleFavorite('ecosphere')">â™¡</button>
          <h3>PF Ecosphere</h3>
          <p>Optimized site selection platform for renewable energy planning, specifically solar farms. Advanced environmental and economic analysis for sustainable energy development.</p>
          <div class="product-features">
            <span class="feature-tag">Renewable Energy</span>
            <span class="feature-tag">Site Selection</span>
            <span class="feature-tag">Solar Planning</span>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button onclick="showProductDetails('ecosphere')">Learn More</button>
            <button class="secondary" onclick="addToComparison('ecosphere')">Compare</button>
          </div>
        </div>
      </div>

      <!-- Testimonials Section -->
      <div class="testimonials-section">
        <h2 style="text-align: center; color: #00d4ff; margin-bottom: 40px;">What Our Clients Say</h2>
        <div class="testimonial-card">
          <div class="testimonial-text">
            "PF-GEOINT has revolutionized our urban planning operations. The 3D city modeling capabilities and real-time data integration have transformed how we approach infrastructure development."
          </div>
          <div class="testimonial-author">
            <div class="author-avatar">JS</div>
            <div>
              <div style="font-weight: 600; color: #00d4ff;">John Smith</div>
              <div style="color: #999; font-size: 0.9em;">City Planning Director, Lagos</div>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-text">
            "The satellite monitoring capabilities of PF Asset-Watch have been game-changing for our real estate portfolio management. We can now track construction progress and asset health in real-time."
          </div>
          <div class="testimonial-author">
            <div class="author-avatar">MA</div>
            <div>
              <div style="font-weight: 600; color: #00d4ff;">Maria Ahmed</div>
              <div style="color: #999; font-size: 0.9em;">Real Estate Investment Manager</div>
            </div>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="faq-section">
        <h2 style="text-align: center; color: #00d4ff; margin-bottom: 40px;">Frequently Asked Questions</h2>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>What is PF-GEOINT and how does it work?</span>
            <span class="faq-toggle">â–¼</span>
          </div>
          <div class="faq-answer">
            PF-GEOINT is our comprehensive geospatial intelligence platform that combines satellite imagery, AI-driven analytics, and real-time data to provide actionable insights across various industries. It processes satellite data, drone imagery, and ground-based sensors to deliver precise geospatial intelligence.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How accurate is the satellite data provided?</span>
            <span class="faq-toggle">â–¼</span>
          </div>
          <div class="faq-answer">
            Our satellite data provides sub-meter accuracy for most applications, with some capabilities reaching centimeter-level precision. The accuracy depends on the specific product and use case, but we maintain industry-leading standards across all our solutions.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>Can I integrate PF-GEOINT with my existing systems?</span>
            <span class="faq-toggle">â–¼</span>
          </div>
          <div class="faq-answer">
            Yes, PF-GEOINT is designed with integration in mind. We provide APIs, SDKs, and various integration options to seamlessly connect with your existing infrastructure, databases, and business applications.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>What kind of support do you provide?</span>
            <span class="faq-toggle">â–¼</span>
          </div>
          <div class="faq-answer">
            We offer comprehensive support including 24/7 technical assistance, training programs, documentation, and dedicated account managers. Our support team is available to help with implementation, troubleshooting, and optimization.
          </div>
        </div>
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <span>How do I get started with PF-GEOINT?</span>
            <span class="faq-toggle">â–¼</span>
          </div>
          <div class="faq-answer">
            Getting started is easy! You can request a demo through our website, contact our sales team, or start with a free trial for most products. We'll work with you to understand your specific needs and recommend the best solutions.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Product Comparison Container -->
  <div id="comparisonContainer" class="comparison-container">
    <div class="comparison-header">
      <h3>Product Comparison</h3>
      <button onclick="toggleComparison()" style="background: #ff6b35; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer;">Close</button>
    </div>
    <div class="comparison-products" id="comparisonProducts">
      <!-- Comparison products will be added here -->
    </div>
  </div>

  <!-- Back to Top Button -->
  <button class="back-to-top" onclick="scrollToTop()" id="backToTop">â†‘</button>

  <!-- Fullscreen image modal -->
  <div id="imgModal" class="img-modal" onclick="onModalBackgroundClick(event)">
    <span class="close" onclick="closeModal()">Ã—</span>
    <img id="modalImg" src="" alt="Expanded view" />
  </div>

  <!-- Product Details Modal -->
  <div id="productModal" class="product-modal" onclick="closeProductModal(event)">
    <div class="product-modal-content">
      <span class="close" onclick="closeProductModal()">Ã—</span>
      <div id="productModalBody">
        <!-- Product details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- AI Chatbot -->
  <div id="chatbot" class="chatbot-container">
    <div class="chatbot-header" onclick="toggleChatbot()">
      <h3>ðŸ¤– PFG-BOT</h3>
      <button class="chatbot-toggle" id="chatbotToggle">âˆ’</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="chatbot-message bot">
        ðŸ‘‹ Hello! I'm PFG-BOT. I can help you find the right geospatial solutions for your needs. What can I help you with today?
      </div>
    </div>
    <div class="chatbot-typing" id="chatbotTyping">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="chatbot-input-container">
      <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Ask about our solutions..." onkeypress="handleChatbotKeypress(event)">
      <button class="chatbot-send" id="chatbotSend" onclick="sendChatbotMessage()">â†’</button>
    </div>
  </div>
  <script>
    // Page Routing System
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page-content');
      pages.forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page
      const targetPage = document.getElementById(pageId + '-page');
      if (targetPage) {
        targetPage.classList.add('active');
      }
      
      // Update navigation links
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        link.classList.remove('active');
      });
      
      // Activate current page link
      const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
      if (activeLink) {
        activeLink.classList.add('active');
      }
      
      // Close mobile menu if open
      const navMenu = document.querySelector('.nav-menu');
      const navToggle = document.querySelector('.nav-toggle');
      if (navMenu && navToggle) {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
      }
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
      const navMenu = document.querySelector('.nav-menu');
      const navToggle = document.querySelector('.nav-toggle');
      
      if (navMenu && navToggle) {
        navMenu.classList.toggle('active');
        navToggle.classList.toggle('active');
      }
    }

    // Product details function for standalone products
    function showProductDetails(productId) {
      const productData = {
        'asset-watch': {
          name: 'PF Asset-Watch',
          badge: 'Featured',
          description: 'Monitor your real estate assets using satellite technology. Advanced monitoring solution for property management, construction progress tracking, and asset health assessment.',
          features: [
            'Real-time satellite monitoring',
            'Construction progress tracking',
            'Asset health assessment',
            'Property management tools',
            'Automated alerts and notifications',
            'Historical data analysis'
          ],
          applications: [
            'Real estate portfolio management',
            'Construction project monitoring',
            'Property investment analysis',
            'Insurance risk assessment',
            'Urban development tracking',
            'Infrastructure monitoring'
          ]
        },
        'geotrace': {
          name: 'PF GeoTrace',
          description: 'A real-time geolocation platform for accurate tracking. Precision GPS tracking with advanced analytics for fleet management, logistics, and security applications.',
          features: [
            'Sub-meter GPS accuracy',
            'Real-time tracking capabilities',
            'Advanced analytics dashboard',
            'Geofencing and alerts',
            'Historical route analysis',
            'Multi-device support'
          ],
          applications: [
            'Fleet management',
            'Logistics optimization',
            'Security surveillance',
            'Emergency response',
            'Asset tracking',
            'Field operations'
          ]
        },
        'vista': {
          name: 'PF Vista',
          description: 'Comprehensive monitoring solution with satellite, drone, CCTV, and geospatial data integration. All-in-one surveillance and monitoring platform for complete situational awareness.',
          features: [
            'Multi-source data integration',
            'Real-time surveillance feeds',
            'AI-powered threat detection',
            'Automated alert systems',
            '3D visualization capabilities',
            'Historical data analysis'
          ],
          applications: [
            'Security operations',
            'Border surveillance',
            'Critical infrastructure protection',
            'Emergency response',
            'Military operations',
            'Public safety monitoring'
          ]
        },
        'geoshift': {
          name: 'PF GeoShift',
          description: 'Detect environmental changes with advanced geospatial tools. Monitor deforestation, land use changes, and environmental impacts with precision analysis.',
          features: [
            'Change detection algorithms',
            'Multi-temporal analysis',
            'Environmental impact assessment',
            'Automated reporting',
            'Custom alert thresholds',
            'Data visualization tools'
          ],
          applications: [
            'Environmental monitoring',
            'Deforestation tracking',
            'Land use planning',
            'Climate change research',
            'Conservation efforts',
            'Regulatory compliance'
          ]
        },
        'caelus': {
          name: 'PF Caelus',
          description: 'A real-time weather intelligence platform for accurate forecasting. Advanced meteorological data analysis with interactive mapping and alert systems.',
          features: [
            'Real-time weather data',
            'Advanced forecasting models',
            'Interactive weather maps',
            'Custom alert systems',
            'Historical weather analysis',
            'API integration capabilities'
          ],
          applications: [
            'Weather forecasting',
            'Agricultural planning',
            'Emergency preparedness',
            'Aviation operations',
            'Marine navigation',
            'Energy management'
          ]
        },
        'atlas': {
          name: 'PF Atlas',
          description: 'A geospatial intelligence solution powered by Large Language Models (LLM). AI-driven geospatial analysis with natural language processing capabilities.',
          features: [
            'AI-powered analysis',
            'Natural language queries',
            'Automated insights generation',
            'Multi-language support',
            'Advanced data processing',
            'Intelligent recommendations'
          ],
          applications: [
            'Intelligence analysis',
            'Research and development',
            'Data exploration',
            'Automated reporting',
            'Decision support systems',
            'Knowledge management'
          ]
        },
        'digital-twin': {
          name: 'PF Digital Twin',
          description: 'A platform for smart city development, predictive analysis, and monitoring. Create comprehensive 3D city models with real-time data integration and predictive analytics.',
          features: [
            '3D city modeling',
            'Real-time data integration',
            'Predictive analytics',
            'IoT connectivity',
            'Simulation capabilities',
            'Interactive visualization'
          ],
          applications: [
            'Smart city development',
            'Urban planning',
            'Infrastructure management',
            'Disaster response',
            'Traffic optimization',
            'Environmental monitoring'
          ]
        },
        'orbitfence': {
          name: 'PF OrbitFence',
          description: 'A smart geofencing solution for real-time tracking, automation, and control within virtual zones. Advanced perimeter monitoring with automated response systems.',
          features: [
            'Dynamic geofencing',
            'Real-time tracking',
            'Automated responses',
            'Custom zone management',
            'Alert systems',
            'Integration capabilities'
          ],
          applications: [
            'Security monitoring',
            'Fleet management',
            'Asset protection',
            'Access control',
            'Emergency response',
            'Operational automation'
          ]
        },
        'logitrack': {
          name: 'PF LogiTrack',
          description: 'A logistics and delivery management application. Comprehensive supply chain optimization with real-time tracking and route planning capabilities.',
          features: [
            'Route optimization',
            'Real-time tracking',
            'Fleet management',
            'Delivery scheduling',
            'Performance analytics',
            'Customer notifications'
          ],
          applications: [
            'Last-mile delivery',
            'Supply chain management',
            'Fleet operations',
            'E-commerce logistics',
            'Warehouse management',
            'Customer service'
          ]
        },
        'flowsafe': {
          name: 'PF FlowSafe',
          description: 'Real-time pipeline monitoring solution with leak detection for pipeline integrity. Advanced sensor integration for critical infrastructure protection.',
          features: [
            'Leak detection systems',
            'Real-time monitoring',
            'Predictive maintenance',
            'Sensor integration',
            'Alert management',
            'Data analytics'
          ],
          applications: [
            'Oil and gas pipelines',
            'Water distribution',
            'Chemical transport',
            'Infrastructure safety',
            'Environmental protection',
            'Regulatory compliance'
          ]
        },
        'urbanscope': {
          name: 'PF UrbanScope',
          description: 'A geospatial platform for urban growth analysis, land-use modeling, and infrastructure planning. Comprehensive urban development and planning solutions.',
          features: [
            'Urban growth analysis',
            'Land-use modeling',
            'Infrastructure planning',
            'Population analytics',
            'Development simulation',
            'Policy impact assessment'
          ],
          applications: [
            'Urban planning',
            'City development',
            'Infrastructure design',
            'Policy planning',
            'Population studies',
            'Sustainable development'
          ]
        },
        'fra': {
          name: 'PF F.R.A',
          description: 'Flood risk assessment tool for better flood preparedness. Advanced hydrological modeling with real-time monitoring and early warning systems.',
          features: [
            'Hydrological modeling',
            'Risk assessment algorithms',
            'Early warning systems',
            'Real-time monitoring',
            'Impact analysis',
            'Emergency planning tools'
          ],
          applications: [
            'Flood preparedness',
            'Emergency response',
            'Insurance assessment',
            'Urban planning',
            'Infrastructure protection',
            'Community safety'
          ]
        },
        'ecosphere': {
          name: 'PF Ecosphere',
          description: 'Optimized site selection platform for renewable energy planning, specifically solar farms. Advanced environmental and economic analysis for sustainable energy development.',
          features: [
            'Site suitability analysis',
            'Environmental impact assessment',
            'Economic modeling',
            'Solar potential mapping',
            'Grid connectivity analysis',
            'Regulatory compliance checking'
          ],
          applications: [
            'Solar farm development',
            'Renewable energy planning',
            'Site selection',
            'Investment analysis',
            'Environmental assessment',
            'Energy infrastructure'
          ]
        }
      };
      
      const product = productData[productId];
      if (!product) return;
      
      const modal = document.getElementById('productModal');
      const modalBody = document.getElementById('productModalBody');
      
      modalBody.innerHTML = `
        <div class="product-detail-header">
          <h2>${product.name}</h2>
          ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
          <p>${product.description}</p>
        </div>
        
        <div class="product-detail-content">
          <div class="product-detail-section">
            <h3>Key Features</h3>
            <ul>
              ${product.features.map(feature => `<li>${feature}</li>`).join('')}
            </ul>
          </div>
          
          <div class="product-detail-section">
            <h3>Applications</h3>
            <ul>
              ${product.applications.map(app => `<li>${app}</li>`).join('')}
            </ul>
          </div>
        </div>
        
        <div class="product-detail-cta">
          <button onclick="requestDemo('${productId}')">Request Demo</button>
          <button class="secondary" onclick="contactSales('${productId}')">Contact Sales</button>
        </div>
      `;
      
      modal.style.display = 'block';
    }

    // Close product modal
    function closeProductModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('productModal').style.display = 'none';
    }

    // Demo request function
    function requestDemo(productId) {
      // Redirect to Proforce Galaxies website
      window.open('http://proforcegalaxies.com/', '_blank');
      closeProductModal();
    }

    // Contact sales function
    function contactSales(productId) {
      // Redirect to Proforce Galaxies website
      window.open('http://proforcegalaxies.com/', '_blank');
      closeProductModal();
    }

    // Global variables for new features
    let favorites = JSON.parse(localStorage.getItem('pfFavorites') || '[]');
    let comparisonList = [];
    let currentFilter = 'all';

    // Search and filter functionality
    function filterProducts() {
      const searchTerm = document.getElementById('productSearch').value.toLowerCase();
      const productCards = document.querySelectorAll('#standalone-page .product-card');
      let visibleCount = 0;

      productCards.forEach(card => {
        const productName = card.dataset.name.toLowerCase();
        const category = card.dataset.category;
        const isVisible = (currentFilter === 'all' || category === currentFilter) && 
                         (searchTerm === '' || productName.includes(searchTerm));
        
        card.style.display = isVisible ? 'block' : 'none';
        if (isVisible) visibleCount++;
      });

      document.getElementById('productCount').textContent = `${visibleCount} products found`;
    }

    function filterByCategory(category) {
      currentFilter = category;
      
      // Update filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      filterProducts();
    }

    // Favorites functionality
    function toggleFavorite(productId) {
      const btn = event.target;
      const index = favorites.indexOf(productId);
      
      if (index > -1) {
        favorites.splice(index, 1);
        btn.textContent = 'â™¡';
        btn.classList.remove('favorited');
      } else {
        favorites.push(productId);
        btn.textContent = 'â™¥';
        btn.classList.add('favorited');
      }
      
      localStorage.setItem('pfFavorites', JSON.stringify(favorites));
      updateFavoritesCount();
    }

    function updateFavoritesCount() {
      document.getElementById('favoritesBtn').textContent = `Favorites (${favorites.length})`;
    }

    function viewFavorites() {
      const productCards = document.querySelectorAll('#standalone-page .product-card');
      productCards.forEach(card => {
        const productId = card.querySelector('.favorite-btn').onclick.toString().match(/'([^']+)'/)[1];
        card.style.display = favorites.includes(productId) ? 'block' : 'none';
      });
      document.getElementById('productCount').textContent = `${favorites.length} favorite products`;
    }

    // Product comparison functionality
    function addToComparison(productId) {
      if (comparisonList.length >= 4) {
        alert('You can compare up to 4 products at once.');
        return;
      }
      
      if (!comparisonList.includes(productId)) {
        comparisonList.push(productId);
        updateComparisonUI();
      }
    }

    function updateComparisonUI() {
      const btn = document.getElementById('comparisonBtn');
      btn.textContent = `Compare Products (${comparisonList.length})`;
      
      if (comparisonList.length > 0) {
        btn.style.background = 'linear-gradient(45deg, #00d4ff, #7b00ff)';
        btn.style.color = 'white';
      } else {
        btn.style.background = 'transparent';
        btn.style.color = '#00d4ff';
      }
    }

    function toggleComparison() {
      const container = document.getElementById('comparisonContainer');
      container.classList.toggle('visible');
      
      if (container.classList.contains('visible')) {
        renderComparisonProducts();
      }
    }

    function renderComparisonProducts() {
      const container = document.getElementById('comparisonProducts');
      container.innerHTML = '';
      
      comparisonList.forEach(productId => {
        const productData = getProductData(productId);
        if (productData) {
          const productDiv = document.createElement('div');
          productDiv.className = 'comparison-product';
          productDiv.innerHTML = `
            <h4>${productData.name}</h4>
            <p>${productData.description}</p>
            <button onclick="removeFromComparison('${productId}')" style="background: #ff6b35; color: white; border: none; padding: 5px 10px; border-radius: 15px; cursor: pointer; font-size: 0.8em;">Remove</button>
          `;
          container.appendChild(productDiv);
        }
      });
    }

    function removeFromComparison(productId) {
      const index = comparisonList.indexOf(productId);
      if (index > -1) {
        comparisonList.splice(index, 1);
        updateComparisonUI();
        renderComparisonProducts();
      }
    }

    function getProductData(productId) {
      const productData = {
        'asset-watch': { name: 'PF Asset-Watch', description: 'Monitor your real estate assets using satellite technology.' },
        'geotrace': { name: 'PF GeoTrace', description: 'A real-time geolocation platform for accurate tracking.' },
        'vista': { name: 'PF Vista', description: 'Comprehensive monitoring solution with satellite, drone, CCTV integration.' },
        'geoshift': { name: 'PF GeoShift', description: 'Detect environmental changes with advanced geospatial tools.' },
        'caelus': { name: 'PF Caelus', description: 'A real-time weather intelligence platform for accurate forecasting.' },
        'atlas': { name: 'PF Atlas', description: 'A geospatial intelligence solution powered by Large Language Models.' },
        'digital-twin': { name: 'PF Digital Twin', description: 'A platform for smart city development and predictive analysis.' },
        'orbitfence': { name: 'PF OrbitFence', description: 'A smart geofencing solution for real-time tracking and automation.' },
        'logitrack': { name: 'PF LogiTrack', description: 'A logistics and delivery management application.' },
        'flowsafe': { name: 'PF FlowSafe', description: 'Real-time pipeline monitoring solution with leak detection.' },
        'urbanscope': { name: 'PF UrbanScope', description: 'A geospatial platform for urban growth analysis and planning.' },
        'fra': { name: 'PF F.R.A', description: 'Flood risk assessment tool for better flood preparedness.' },
        'ecosphere': { name: 'PF Ecosphere', description: 'Optimized site selection platform for renewable energy planning.' }
      };
      return productData[productId];
    }

    // FAQ functionality
    function toggleFAQ(element) {
      const answer = element.nextElementSibling;
      const toggle = element.querySelector('.faq-toggle');
      
      answer.classList.toggle('active');
      toggle.classList.toggle('active');
    }

    // Back to top functionality
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Show/hide back to top button
    function toggleBackToTop() {
      const backToTop = document.getElementById('backToTop');
      if (window.pageYOffset > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    }

    // Page transition effects
    function addPageTransitions() {
      const pages = document.querySelectorAll('.page-content');
      pages.forEach(page => {
        page.classList.add('page-transition');
      });
    }

    function showPageWithTransition(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page-content');
      pages.forEach(page => {
        page.classList.remove('active');
      });
      
      // Show selected page with transition
      const targetPage = document.getElementById(pageId + '-page');
      if (targetPage) {
        targetPage.classList.add('active');
        setTimeout(() => {
          targetPage.classList.add('fade-in');
        }, 100);
      }
      
      // Update navigation links
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        link.classList.remove('active');
      });
      
      const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
      if (activeLink) {
        activeLink.classList.add('active');
      }
      
      // Close mobile menu if open
      const navMenu = document.querySelector('.nav-menu');
      const navToggle = document.querySelector('.nav-toggle');
      if (navMenu && navToggle) {
        navMenu.classList.remove('active');
        navToggle.classList.remove('active');
      }
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize favorites on page load
    function initializeFavorites() {
      const favoriteBtns = document.querySelectorAll('.favorite-btn');
      favoriteBtns.forEach(btn => {
        const productId = btn.onclick.toString().match(/'([^']+)'/)[1];
        if (favorites.includes(productId)) {
          btn.textContent = 'â™¥';
          btn.classList.add('favorited');
        }
      });
      updateFavoritesCount();
    }

    // Enhanced page routing with transitions
    function showPage(pageId) {
      showPageWithTransition(pageId);
    }

    // Initialize all features on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile menu
      const navToggle = document.querySelector('.nav-toggle');
      if (navToggle) {
        navToggle.addEventListener('click', toggleMobileMenu);
      }

      // Initialize new features
      initializeFavorites();
      addPageTransitions();
      
      // Back to top button
      window.addEventListener('scroll', toggleBackToTop);
      
      // Initialize page transitions
      setTimeout(() => {
        const activePage = document.querySelector('.page-content.active');
        if (activePage) {
          activePage.classList.add('fade-in');
        }
      }, 100);
    });

    // Auto-hide logic for product badges (e.g., "New")
    (function initProductBadges() {
      try {
        const BADGE_KEY = 'assetwatch_new_badge_until';
        const THIRTY_DAYS_MS = 30 * 24 * 60 * 60 * 1000;
        const now = Date.now();
        let expiry = parseInt(localStorage.getItem(BADGE_KEY) || '0', 10);
        if (!expiry) {
          expiry = now + THIRTY_DAYS_MS;
          localStorage.setItem(BADGE_KEY, String(expiry));
        }

        const assetWatchCard = document.querySelector('#urban-planning-solutions .product-card:nth-child(2)');
        if (assetWatchCard) {
          const badge = assetWatchCard.querySelector('.product-badge');
          const hideBadge = () => { if (badge) badge.style.display = 'none'; };
          if (badge) {
            if (now > expiry) hideBadge();
            assetWatchCard.addEventListener('click', () => {
              hideBadge();
              localStorage.setItem(BADGE_KEY, String(now));
            }, { once: true });
          }
        }
      } catch (e) { /* fail silently */ }
    })();
    function learnMore(sector) {
      if (sector === 'agriculture') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('agriculture-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'defense') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('defense-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'urban-planning') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('urban-planning-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'energy') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('energy-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'weather') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('weather-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'digital-twin') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('digital-twin-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'environment') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('environment-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'transportation') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('transportation-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else {
        alert(`Explore PF-GEOINT solutions for ${sector}!`);
        // Replace with actual logic for other sectors
      }
    }

    function showCropHealth() {
      document.getElementById('agriculture-solutions').style.display = 'none';
      const view = document.getElementById('crop-health');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for images
      enableImageZoom('ndviImage');
      enableImageZoom('ndwiImage');
      // preload 3D images for faster switching
      preload3DImages();
    }

    function showGeoTrace() {
      document.getElementById('defense-solutions').style.display = 'none';
      const view = document.getElementById('geotrace');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for image
      enableImageZoom('geotraceImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showDigitalTwin() {
      document.getElementById('digital-twin-solutions').style.display = 'none';
      const view = document.getElementById('digital-twin');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for all digital twin images
      enableImageZoom('lagosImage');
      enableImageZoom('burjImage');
      enableImageZoom('hongkongImage');
      enableImageZoom('madridImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showUrbanScope() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('urban-scope');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showFloodRisk() {
      document.getElementById('environment-solutions').style.display = 'none';
      const view = document.getElementById('flood-risk');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showGeoShift() {
      document.getElementById('environment-solutions').style.display = 'none';
      const view = document.getElementById('geoshift');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showLogiTrack() {
      document.getElementById('transportation-solutions').style.display = 'none';
      const view = document.getElementById('logitrack');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showFlowSafe() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('flowsafe');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showEcosphere() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('ecosphere');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showCaelus() {
      document.getElementById('weather-solutions').style.display = 'none';
      const view = document.getElementById('caelus');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showAssetWatch() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('asset-watch');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('assetwatchImage');
    }

    function backToAgriculture() {
      document.getElementById('crop-health').style.display = 'none';
      const view = document.getElementById('agriculture-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToDefense() {
      document.getElementById('geotrace').style.display = 'none';
      const view = document.getElementById('defense-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToUrbanPlanning() {
      const dt = document.getElementById('digital-twin');
      if (dt) dt.style.display = 'none';
      const aw = document.getElementById('asset-watch');
      if (aw) aw.style.display = 'none';
      const us = document.getElementById('urban-scope');
      if (us) us.style.display = 'none';
      const view = document.getElementById('urban-planning-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToWeather() {
      const c = document.getElementById('caelus');
      if (c) c.style.display = 'none';
      const view = document.getElementById('weather-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showElectricalUtility() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('electrical-utility');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('electricalImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showPipelineMonitoring() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('pipeline-monitoring');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showRenewableEnergy() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('renewable-energy');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToEnergy() {
      const electrical = document.getElementById('electrical-utility');
      if (electrical) electrical.style.display = 'none';
      const pipeline = document.getElementById('pipeline-monitoring');
      if (pipeline) pipeline.style.display = 'none';
      const renewable = document.getElementById('renewable-energy');
      if (renewable) renewable.style.display = 'none';
      const view = document.getElementById('energy-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToDigitalTwin() {
      document.getElementById('digital-twin').style.display = 'none';
      const view = document.getElementById('digital-twin-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToEnvironment() {
      const fr = document.getElementById('flood-risk');
      if (fr) fr.style.display = 'none';
      const gs = document.getElementById('geoshift');
      if (gs) gs.style.display = 'none';
      const view = document.getElementById('environment-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToTransportation() {
      const lt = document.getElementById('logitrack');
      if (lt) lt.style.display = 'none';
      const view = document.getElementById('transportation-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToEnergy() {
      const fs = document.getElementById('flowsafe');
      if (fs) fs.style.display = 'none';
      const es = document.getElementById('ecosphere');
      if (es) es.style.display = 'none';
      const view = document.getElementById('energy-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToMain() {
      document.getElementById('agriculture-solutions').style.display = 'none';
      document.getElementById('defense-solutions').style.display = 'none';
      document.getElementById('urban-planning-solutions').style.display = 'none';
      document.getElementById('environment-solutions').style.display = 'none';
      document.getElementById('transportation-solutions').style.display = 'none';
      document.getElementById('energy-solutions').style.display = 'none';
      document.getElementById('weather-solutions').style.display = 'none';
      document.getElementById('digital-twin-solutions').style.display = 'none';
      const view = document.getElementById('main-products');
      view.style.display = 'grid';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    function showAssetWatch() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('asset-watch');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('assetwatchImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // No additional rendering required; both NDVI and NDWI use static images.

    function enableImageZoom(imageId) {
      const img = document.getElementById(imageId);
      if (img && !img._zoomEnabled) {
        img.addEventListener('click', () => openModal(img.src));
        img._zoomEnabled = true;
      }
    }

    function openModal(src) {
      const modal = document.getElementById('imgModal');
      const modalImg = document.getElementById('modalImg');
      modalImg.src = src;
      modal.style.display = 'block';
      modalImg.style.animation = 'none';
      void modalImg.offsetWidth;
      modalImg.style.animation = '';
      document.addEventListener('keydown', onEscClose);
    }

    function closeModal() {
      const modal = document.getElementById('imgModal');
      modal.style.display = 'none';
      document.removeEventListener('keydown', onEscClose);
    }

    function onEscClose(e) {
      if (e.key === 'Escape') closeModal();
    }

    function onModalBackgroundClick(e) {
      if (e.target && e.target.id === 'imgModal') closeModal();
    }
    document.addEventListener('click', function(e) {
      const isBack = e.target.classList.contains('back-button');
      const isProductBtn = e.target.tagName === 'BUTTON' && e.target.closest('.product-card');
      const btn = isBack || isProductBtn ? e.target : null;
      if (!btn) return;
      const rect = btn.getBoundingClientRect();
      const circle = document.createElement('span');
      const diameter = Math.max(rect.width, rect.height);
      const radius = diameter / 2;
      circle.style.width = circle.style.height = `${diameter}px`;
      circle.style.left = `${e.clientX - rect.left - radius}px`;
      circle.style.top = `${e.clientY - rect.top - radius}px`;
      circle.classList.add('ripple');
      const oldRipple = btn.querySelector('.ripple');
      if (oldRipple) oldRipple.remove();
      btn.appendChild(circle);
    }, true);

    function addEnterAnimation(el) {
      el.style.animation = 'fadeInUp 380ms ease-out';
      setTimeout(() => { el.style.animation = ''; }, 400);
    }

    // Before-After slider logic
    function updateBeforeAfter(containerId, percent) {
      const container = document.getElementById(containerId);
      if (!container) return;
      const top = container.querySelector('.ba-top');
      const divider = container.querySelector('.ba-divider');
      const handle = container.querySelector('.ba-handle');
      const p = Math.max(0, Math.min(100, Number(percent)));
      top.style.width = p + '%';
      divider.style.left = p + '%';
      handle.style.left = p + '%';
    }

    // Preload 3D images for faster switching
    let ndvi3DLoaded = false;
    let ndwi3DLoaded = false;
    function preload3DImages() {
      if (!ndvi3DLoaded) {
        const ndvi3D = new Image();
        ndvi3D.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_1D3D.png';
        ndvi3D.onload = () => { ndvi3DLoaded = true; };
      }
      if (!ndwi3DLoaded) {
        const ndwi3D = new Image();
        ndwi3D.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI_3DV.png';
        ndwi3D.onload = () => { ndwi3DLoaded = true; };
      }
    }

    // NDVI view toggle (2D <-> 3D)
    let ndviView3D = false;
    function toggleNDVIView() {
      const img = document.getElementById('ndviImage');
      const btn = document.querySelector('#ndviControls button');
      
      // Show loading state
      btn.textContent = 'Loading...';
      btn.disabled = true;
      
      if (ndviView3D) {
        // Switch to 2D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png';
        img.alt = 'NDVI Map';
        btn.textContent = 'Next: 3D View';
        ndviView3D = false;
        btn.disabled = false;
      } else {
        // Switch to 3D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_1D3D.png';
        img.alt = 'NDVI 3D Visualization';
        
        img.onload = () => {
          btn.textContent = 'Back: 2D View';
          btn.disabled = false;
        };
        
        img.onerror = () => {
          btn.textContent = 'Next: 3D View';
          btn.disabled = false;
          alert('Failed to load 3D visualization');
        };
        
        ndviView3D = true;
      }
    }

    // NDWI view toggle (2D <-> 3D)
    let ndwiView3D = false;
    function toggleNDWIView() {
      const img = document.getElementById('ndwiImage');
      const btn = document.querySelector('#ndwiControls button');
      
      // Show loading state
      btn.textContent = 'Loading...';
      btn.disabled = true;
      
      if (ndwiView3D) {
        // Switch to 2D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png';
        img.alt = 'NDWI Map';
        btn.textContent = 'Next: 3D View';
        ndwiView3D = false;
        btn.disabled = false;
      } else {
        // Switch to 3D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI_3DV.png';
        img.alt = 'NDWI 3D Visualization';
        
        img.onload = () => {
          btn.textContent = 'Back: 2D View';
          btn.disabled = false;
        };
        
        img.onerror = () => {
          btn.textContent = 'Next: 3D View';
          btn.disabled = false;
          alert('Failed to load 3D visualization');
        };
        
        ndwiView3D = true;
      }
    }

    // AI Chatbot functionality
    let chatbotOpen = false;
    const products = {
      'agriculture': {
        name: 'Agriculture Solutions',
        description: 'Advanced precision farming with NDVI/NDWI analysis, crop health monitoring, and yield optimization.',
        keywords: ['crop', 'farm', 'agriculture', 'yield', 'soil', 'weather', 'irrigation', 'vegetation', 'ndvi', 'ndwi', 'dying', 'stress', 'health', 'disease', 'pest', 'fertilizer', 'harvest', 'field', 'precision', 'monitoring', 'analysis', 'water', 'moisture', 'drought', 'flood', 'planting', 'seeding', 'growth', 'maturity', 'biomass', 'chlorophyll', 'canopy', 'leaf', 'root', 'photosynthesis'],
        features: [
          'Real-time crop health assessment using NDVI and NDWI indices',
          'Disease and pest detection through AI-powered image analysis',
          'Precision irrigation recommendations based on soil moisture data',
          'Weather-based farming guidance and alerts',
          'Yield prediction and optimization algorithms',
          'Soil health monitoring and nutrient analysis',
          'Field boundary mapping and management zones',
          'Historical data analysis for trend identification'
        ],
        applications: [
          'Crop monitoring and health assessment',
          'Precision agriculture and smart farming',
          'Disease and pest management',
          'Water resource optimization',
          'Yield prediction and planning',
          'Soil analysis and fertility management'
        ]
      },
      'defense': {
        name: 'Defense & Security Solutions',
        description: 'Advanced surveillance, threat detection, and mission planning with PF-GEOTRACE platform.',
        keywords: ['defense', 'security', 'surveillance', 'threat', 'mission', 'military', 'monitoring', 'intelligence', 'tactical', 'geotrace', 'gps', 'tracking', 'border', 'protection', 'operation', 'strategic', 'buffer', 'zone', 'target', 'reconnaissance', 'intelligence', 'analysis', 'threat', 'assessment', 'situational', 'awareness'],
        features: [
          'PF-GEOTRACE: Advanced geolocation and tracking platform',
          'Real-time GPS precision with dynamic marker systems',
          'Strategic buffer zones for tactical operations',
          'High-resolution satellite imagery analysis',
          'AI-powered threat detection and assessment',
          'Mission planning and execution support',
          'Border surveillance and monitoring',
          'Intelligence gathering and analysis'
        ],
        applications: [
          'Military operations and mission planning',
          'Border security and surveillance',
          'Threat detection and assessment',
          'Intelligence gathering and analysis',
          'Tactical operations support',
          'Strategic planning and decision making'
        ]
      },
      'urban-planning': {
        name: 'Urban Planning & Smart Cities',
        description: 'PF-DIGITAL TWIN technology for comprehensive 3D city modeling and smart city development.',
        keywords: ['urban', 'city', 'planning', 'infrastructure', 'population', 'development', 'mapping', '3d', 'digital', 'twin', 'smart', 'municipal', 'government', 'construction', 'building', 'residential', 'commercial', 'industrial', 'zoning', 'land', 'use', 'transportation', 'utilities', 'services'],
        features: [
          'PF-DIGITAL TWIN: Comprehensive 3D city modeling',
          'Real-time infrastructure monitoring and analysis',
          'Population density and demographic analysis',
          'Urban development planning and simulation',
          'Traffic flow optimization and management',
          'Utility network monitoring and maintenance',
          'Environmental impact assessment',
          'Smart city integration and IoT connectivity'
        ],
        applications: [
          'City planning and urban development',
          'Infrastructure monitoring and maintenance',
          'Traffic management and optimization',
          'Population and demographic analysis',
          'Environmental planning and sustainability',
          'Smart city implementation and management'
        ]
      },
      'weather': {
        name: 'Weather Intelligence',
        description: 'Real-time global and local weather intelligence with interactive mapping, forecasts, and alerts.',
        keywords: ['weather', 'forecast', 'storm', 'hurricane', 'cyclone', 'wind', 'rain', 'temperature', 'radar', 'clouds', 'alerts', 'climate', 'historical', 'satellite'],
        features: [
          'Live interactive weather map with toggleable layers',
          'Location-based forecasts and severe weather alerts',
          'Storm tracking for hurricanes and tropical systems',
          'Historical climate views and event playback',
          'Responsive UI with dark/light mode and favorites'
        ],
        applications: [
          'Public weather awareness and safety',
          'Operational planning for logistics and events',
          'Climate trend analysis and reporting'
        ]
      },
      'environment': {
        name: 'Environmental Monitoring',
        description: 'Comprehensive environmental tracking with climate change monitoring and resource management.',
        keywords: ['environment', 'climate', 'deforestation', 'resources', 'conservation', 'monitoring', 'change', 'carbon', 'emission', 'sustainability', 'green', 'forest', 'wildlife', 'biodiversity', 'pollution', 'air', 'water', 'quality', 'ecosystem', 'habitat', 'protection', 'renewable', 'energy', 'solar', 'wind', 'hydro'],
        features: [
          'Climate change monitoring and analysis',
          'Deforestation tracking and forest health assessment',
          'Carbon footprint and emission monitoring',
          'Biodiversity and ecosystem analysis',
          'Air and water quality monitoring',
          'Renewable energy site assessment',
          'Environmental impact evaluation',
          'Sustainability metrics and reporting'
        ],
        applications: [
          'Climate change research and monitoring',
          'Forest conservation and management',
          'Environmental impact assessment',
          'Renewable energy planning',
          'Biodiversity protection and monitoring',
          'Sustainability planning and reporting'
        ]
      },
      'transportation': {
        name: 'Transportation & Logistics',
        description: 'Advanced route optimization and logistics management with real-time traffic analysis.',
        keywords: ['transportation', 'logistics', 'traffic', 'routes', 'shipping', 'delivery', 'optimization', 'fleet', 'supply', 'chain', 'distribution', 'warehouse', 'road', 'highway', 'street', 'infrastructure', 'pavement', 'bridge', 'tunnel', 'intersection', 'congestion', 'maintenance', 'construction', 'asphalt', 'pothole', 'repair', 'safety', 'accident', 'vehicle', 'truck', 'bus', 'train', 'airport', 'port', 'railway'],
        features: [
          'Real-time traffic analysis and optimization',
          'Route planning and navigation optimization',
          'Fleet management and tracking',
          'Supply chain optimization',
          'Infrastructure monitoring and maintenance',
          'Accident analysis and safety assessment',
          'Congestion prediction and management',
          'Multi-modal transportation planning'
        ],
        applications: [
          'Route optimization and navigation',
          'Fleet management and tracking',
          'Supply chain optimization',
          'Traffic management and control',
          'Infrastructure maintenance planning',
          'Transportation safety analysis'
        ]
      },
      'energy': {
        name: 'Energy & Utilities',
        description: 'Comprehensive energy infrastructure monitoring with pipeline and grid performance analysis.',
        keywords: ['energy', 'utilities', 'pipeline', 'renewable', 'grid', 'power', 'electricity', 'oil', 'gas', 'solar', 'wind', 'hydro', 'nuclear', 'coal', 'transmission', 'distribution', 'substation', 'turbine', 'panel', 'farm', 'plant', 'facility', 'infrastructure', 'maintenance', 'monitoring', 'efficiency', 'capacity', 'generation'],
        features: [
          'Pipeline monitoring and leak detection',
          'Power grid performance analysis',
          'Renewable energy site assessment',
          'Energy infrastructure monitoring',
          'Power generation optimization',
          'Transmission line analysis',
          'Substation monitoring and maintenance',
          'Energy efficiency assessment'
        ],
        applications: [
          'Pipeline monitoring and maintenance',
          'Power grid management and optimization',
          'Renewable energy site planning',
          'Energy infrastructure monitoring',
          'Power generation optimization',
          'Utility network management'
        ]
      }
    };

    // Lightweight product catalog for concise chatbot answers
    const productCatalog = {
      'geotrace': { name: 'PF-GEOTRACE', description: 'Real-time GPS tracking, geofencing, and satellite maps for missions and security.' },
      'digital twin': { name: 'PF-DIGITAL TWIN', description: '3D city models with live data for planning and city operations.' },
      'digital-twin': { name: 'PF-DIGITAL TWIN', description: '3D city models with live data for planning and city operations.' },
      'caelus': { name: 'PF-CAELUS', description: 'Real-time weather intelligence with forecasts, alerts, and live maps.' },
      'asset-watch': { name: 'PF Asset-Watch', description: 'Satellite-based monitoring for real estate and construction assets.' },
      'geoshift': { name: 'PF GeoShift', description: 'Environmental change detection and monitoring over time.' },
      'atlas': { name: 'PF Atlas', description: 'AI-powered geospatial analysis with natural language queries.' },
      'flowsafe': { name: 'PF FlowSafe', description: 'Pipeline monitoring with leak detection and alerts.' },
      'logitrack': { name: 'PF LogiTrack', description: 'Logistics tracking with route optimization and fleet management.' },
      'orbitfence': { name: 'PF OrbitFence', description: 'Smart geofencing for tracking and automated zone actions.' },
      'vista': { name: 'PF Vista', description: 'Unified monitoring with satellite, drone, and CCTV data.' },
      'urbanscope': { name: 'PF - Urban Scope', description: 'Urban planning analytics and infrastructure monitoring.' },
      'ecosphere': { name: 'PF - Ecosphere', description: 'Renewable energy site selection and planning.' },
      'fra': { name: 'PF - F.R.A', description: 'AI-powered flood risk assessment with real-time monitoring and predictions.' },
      'f.r.a': { name: 'PF - F.R.A', description: 'AI-powered flood risk assessment with real-time monitoring and predictions.' },
      'flood risk': { name: 'PF - F.R.A', description: 'AI-powered flood risk assessment with real-time monitoring and predictions.' }
    };

    function toggleChatbot() {
      const chatbot = document.getElementById('chatbot');
      const toggle = document.getElementById('chatbotToggle');
      
      chatbotOpen = !chatbotOpen;
      chatbot.classList.toggle('open', chatbotOpen);
      toggle.textContent = chatbotOpen ? 'âˆ’' : '+';
    }

    function handleChatbotKeypress(event) {
      if (event.key === 'Enter') {
        sendChatbotMessage();
      }
    }

    function sendChatbotMessage() {
      const input = document.getElementById('chatbotInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      // Check for special learning commands
      if (message.toLowerCase().includes('show learning stats') || message.toLowerCase().includes('bot stats')) {
        const stats = botLearning.getLearningStats();
        const statsMessage = `ðŸ§  PFG-BOT Learning Statistics:\n\nðŸ“Š Total Conversation Patterns: ${stats.totalPatterns}\nðŸ”‘ Learned Keywords: ${stats.totalKeywords}\nðŸ’¬ Total Interactions: ${stats.totalInteractions}\nðŸ’¾ Memory Size: ${Math.round(stats.memorySize / 1024)}KB\nðŸ•’ Last Updated: ${stats.lastUpdated}\n\nI'm continuously learning and improving! ðŸš€`;
        addChatbotMessage(message, 'user');
        input.value = '';
        addChatbotMessage(statsMessage, 'bot');
        return;
      }
      
      // Check for reset learning command
      if (message.toLowerCase().includes('reset learning') || message.toLowerCase().includes('clear memory')) {
        localStorage.removeItem('pfg-bot-memory');
        botLearning.memory = botLearning.loadMemory();
        addChatbotMessage(message, 'user');
        input.value = '';
        addChatbotMessage("ðŸ§  Learning memory cleared! I'll start fresh and learn from our new conversations. ðŸš€", 'bot');
        return;
      }
      
      // Add user message
      addChatbotMessage(message, 'user');
      input.value = '';
      
      // Show typing indicator
      showTypingIndicator();
      
      // Process message after short delay
      setTimeout(() => {
        hideTypingIndicator();
        const response = processChatbotMessage(message);
        addChatbotMessage(response, 'bot');
        
        // Learn from this interaction (with delay to allow user to react)
        setTimeout(() => {
          const userReaction = botLearning.detectUserReaction(message);
          botLearning.learnFromInteraction(message, response, userReaction);
        }, 2000);
      }, 800 + Math.random() * 400); // Random delay for natural feel
    }

    function addChatbotMessage(text, sender) {
      const messagesContainer = document.getElementById('chatbotMessages');
      const messageDiv = document.createElement('div');
      messageDiv.className = `chatbot-message ${sender}`;
      messageDiv.textContent = text;
      
      // Add feedback buttons for bot messages
      if (sender === 'bot') {
        const feedbackDiv = document.createElement('div');
        feedbackDiv.className = 'feedback-buttons';
        feedbackDiv.style.cssText = `
          display: flex;
          gap: 8px;
          margin-top: 8px;
          opacity: 0.7;
          transition: opacity 0.3s ease;
        `;
        
        const thumbsUp = document.createElement('button');
        thumbsUp.innerHTML = 'ðŸ‘';
        thumbsUp.style.cssText = `
          background: rgba(0, 255, 0, 0.2);
          border: 1px solid rgba(0, 255, 0, 0.5);
          border-radius: 4px;
          padding: 4px 8px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.2s ease;
        `;
        thumbsUp.onclick = () => giveFeedback('positive', text);
        
        const thumbsDown = document.createElement('button');
        thumbsDown.innerHTML = 'ðŸ‘Ž';
        thumbsDown.style.cssText = `
          background: rgba(255, 0, 0, 0.2);
          border: 1px solid rgba(255, 0, 0, 0.5);
          border-radius: 4px;
          padding: 4px 8px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.2s ease;
        `;
        thumbsDown.onclick = () => giveFeedback('negative', text);
        
        feedbackDiv.appendChild(thumbsUp);
        feedbackDiv.appendChild(thumbsDown);
        messageDiv.appendChild(feedbackDiv);
        
        // Show feedback buttons on hover
        messageDiv.addEventListener('mouseenter', () => {
          feedbackDiv.style.opacity = '1';
        });
        messageDiv.addEventListener('mouseleave', () => {
          feedbackDiv.style.opacity = '0.7';
        });
      }
      
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    // Feedback mechanism for bot responses
    function giveFeedback(feedback, responseText) {
      // Learn from explicit feedback
      botLearning.updateResponseEffectiveness(
        botLearning.extractResponsePattern(responseText), 
        feedback
      );
      
      // Show feedback confirmation
      const confirmation = document.createElement('div');
      confirmation.textContent = feedback === 'positive' ? 'ðŸ‘ Thanks for the feedback!' : 'ðŸ‘Ž Thanks for the feedback!';
      confirmation.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${feedback === 'positive' ? 'rgba(0, 255, 0, 0.9)' : 'rgba(255, 0, 0, 0.9)'};
        color: white;
        padding: 10px 15px;
        border-radius: 5px;
        z-index: 10000;
        font-size: 14px;
        animation: fadeInOut 2s ease-in-out;
      `;
      
      document.body.appendChild(confirmation);
      setTimeout(() => {
        document.body.removeChild(confirmation);
      }, 2000);
      
      // Save the learning
      botLearning.saveMemory();
    }

    function showTypingIndicator() {
      document.getElementById('chatbotTyping').style.display = 'flex';
      document.getElementById('chatbotMessages').scrollTop = document.getElementById('chatbotMessages').scrollHeight;
    }

    function hideTypingIndicator() {
      document.getElementById('chatbotTyping').style.display = 'none';
    }

    // Company information
    const companyInfo = {
      boss: "Engr Tope Robert, Head of Proforce Galaxies Limited",
      creator: "Proforce Galaxies Limited",
      ceo: "Engr Ade Ogundeyin",
      company: "Proforce Galaxies Limited"
    };

    // Advanced conversation context and memory
    let conversationContext = {
      currentTopic: null,
      userIndustry: null,
      userNeeds: [],
      previousQuestions: [],
      sessionStart: new Date(),
      userProfile: {
        name: null,
        company: null,
        role: null,
        experience: null,
        budget: null,
        timeline: null,
        preferences: []
      },
      conversationFlow: [],
      emotionalState: 'neutral',
      intent: null,
      entities: [],
      confidence: 0,
      followUpNeeded: false
    };

    // Universal NLP patterns and intent recognition
    const intentPatterns = {
      greeting: ['hi', 'hello', 'hey', 'good morning', 'good afternoon', 'good evening', 'greetings', 'howdy'],
      inquiry: ['what', 'how', 'when', 'where', 'why', 'can you', 'do you', 'is it possible', 'tell me', 'explain', 'describe', 'show me'],
      problem: ['problem', 'issue', 'challenge', 'struggling', 'difficulty', 'trouble', 'help', 'stuck', 'failing', 'broken', 'not working'],
      comparison: ['compare', 'difference', 'better', 'best', 'versus', 'vs', 'which', 'prefer', 'choose', 'recommend'],
      pricing: ['price', 'cost', 'budget', 'expensive', 'cheap', 'affordable', 'quote', 'pricing', 'fee', 'charge', 'investment'],
      timeline: ['when', 'how long', 'timeline', 'schedule', 'deadline', 'urgent', 'asap', 'quickly', 'fast', 'immediate'],
      technical: ['technical', 'specs', 'specifications', 'features', 'capabilities', 'integration', 'api', 'sdk', 'documentation'],
      contact: ['contact', 'speak', 'meeting', 'call', 'email', 'representative', 'sales', 'demo', 'consultation'],
      capability: ['can', 'able', 'capable', 'support', 'handle', 'process', 'analyze', 'monitor', 'track'],
      requirement: ['need', 'require', 'want', 'looking for', 'seeking', 'searching', 'find'],
      solution: ['solution', 'solve', 'fix', 'resolve', 'address', 'tackle', 'handle'],
      information: ['info', 'information', 'details', 'about', 'learn', 'know', 'understand']
    };

    // Emotional intelligence patterns
    const emotionalPatterns = {
      frustrated: ['frustrated', 'annoyed', 'angry', 'upset', 'disappointed', 'fed up'],
      excited: ['excited', 'thrilled', 'amazing', 'fantastic', 'great', 'wonderful'],
      confused: ['confused', 'unclear', 'don\'t understand', 'lost', 'unclear'],
      urgent: ['urgent', 'asap', 'immediately', 'quickly', 'emergency', 'critical'],
      skeptical: ['skeptical', 'doubt', 'not sure', 'hesitant', 'concerned', 'worried']
    };

    // Universal entity extraction with comprehensive coverage
    function extractEntities(message) {
      const entities = [];
      const lowerMessage = message.toLowerCase();
      
      // Industry entities (expanded)
      const industries = {
        'agriculture': ['agriculture', 'farming', 'crop', 'farm', 'agricultural', 'farming', 'crops', 'livestock', 'irrigation', 'harvest'],
        'defense': ['defense', 'military', 'security', 'tactical', 'surveillance', 'intelligence', 'combat', 'strategic', 'military', 'armed forces'],
        'urban': ['urban', 'city', 'municipal', 'smart city', 'infrastructure', 'planning', 'development', 'metropolitan', 'civic'],
        'environment': ['environment', 'environmental', 'climate', 'conservation', 'sustainability', 'ecology', 'green', 'carbon', 'emission'],
        'transportation': ['transportation', 'logistics', 'fleet', 'shipping', 'delivery', 'supply chain', 'traffic', 'road', 'highway', 'route'],
        'energy': ['energy', 'utilities', 'power', 'electricity', 'grid', 'renewable', 'solar', 'wind', 'oil', 'gas', 'utility']
      };
      
      Object.entries(industries).forEach(([industry, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'industry', value: industry, keyword: keyword});
          }
        });
      });
      
      // Technology entities (expanded)
      const technologies = {
        'satellite': ['satellite', 'satellite imagery', 'remote sensing', 'earth observation', 'orbital'],
        'gps': ['gps', 'global positioning', 'location', 'coordinates', 'geolocation', 'positioning'],
        'ai': ['ai', 'artificial intelligence', 'machine learning', 'ml', 'neural network', 'algorithm', 'intelligent'],
        'ndvi': ['ndvi', 'vegetation index', 'crop health', 'plant health', 'vegetation analysis'],
        'ndwi': ['ndwi', 'water index', 'moisture', 'water content', 'hydration'],
        'geotrace': ['geotrace', 'tracking', 'monitoring', 'real-time', 'tactical'],
        'drone': ['drone', 'uav', 'unmanned', 'aerial', 'quadcopter'],
        'sensor': ['sensor', 'detection', 'monitoring', 'measurement', 'data collection'],
        'gis': ['gis', 'geographic information', 'mapping', 'spatial analysis', 'geospatial'],
        'bigdata': ['big data', 'analytics', 'data processing', 'insights', 'intelligence']
      };
      
      Object.entries(technologies).forEach(([tech, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'technology', value: tech, keyword: keyword});
          }
        });
      });
      
      // Scale entities (expanded)
      const scales = {
        'small': ['small', 'startup', 'individual', 'personal', 'local', 'small-scale'],
        'medium': ['medium', 'mid-size', 'regional', 'department', 'team'],
        'large': ['large', 'enterprise', 'corporation', 'company', 'organization', 'institution'],
        'government': ['government', 'public', 'federal', 'state', 'municipal', 'official', 'agency']
      };
      
      Object.entries(scales).forEach(([scale, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'scale', value: scale, keyword: keyword});
          }
        });
      });
      
      // Location entities (expanded)
      const locations = {
        'nigeria': ['nigeria', 'nigerian', 'lagos', 'abuja', 'kano', 'port harcourt'],
        'africa': ['africa', 'african', 'west africa', 'east africa', 'south africa'],
        'global': ['global', 'worldwide', 'international', 'universal', 'world'],
        'regional': ['regional', 'local', 'area', 'zone', 'district', 'province']
      };
      
      Object.entries(locations).forEach(([location, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'location', value: location, keyword: keyword});
          }
        });
      });
      
      // Problem entities
      const problems = {
        'monitoring': ['monitor', 'track', 'observe', 'watch', 'surveillance', 'oversight'],
        'analysis': ['analyze', 'analysis', 'examine', 'study', 'evaluate', 'assess'],
        'optimization': ['optimize', 'improve', 'enhance', 'efficiency', 'performance', 'productivity'],
        'planning': ['plan', 'planning', 'strategy', 'roadmap', 'blueprint', 'design'],
        'prediction': ['predict', 'forecast', 'anticipate', 'project', 'estimate', 'prognosis'],
        'automation': ['automate', 'automatic', 'streamline', 'simplify', 'reduce manual work']
      };
      
      Object.entries(problems).forEach(([problem, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'problem', value: problem, keyword: keyword});
          }
        });
      });
      
      return entities;
    }

    // Intent recognition
    function recognizeIntent(message) {
      const lowerMessage = message.toLowerCase();
      let maxScore = 0;
      let detectedIntent = 'general';
      
      for (const [intent, patterns] of Object.entries(intentPatterns)) {
        let score = 0;
        patterns.forEach(pattern => {
          if (lowerMessage.includes(pattern)) score++;
        });
        if (score > maxScore) {
          maxScore = score;
          detectedIntent = intent;
        }
      }
      
      return detectedIntent;
    }

    // Emotional state detection
    function detectEmotionalState(message) {
      const lowerMessage = message.toLowerCase();
      
      for (const [emotion, patterns] of Object.entries(emotionalPatterns)) {
        if (patterns.some(pattern => lowerMessage.includes(pattern))) {
          return emotion;
        }
      }
      
      return 'neutral';
    }

    // Advanced response generation
    function generateContextualResponse(intent, emotion, entities, confidence) {
      const responses = {
        greeting: {
          excited: "Hello! ðŸš€ I'm thrilled to meet you! I'm your advanced AI assistant from Proforce Galaxies Limited, and I'm excited to help you discover the perfect geospatial intelligence solutions. What amazing project are you working on?",
          neutral: "Hello! ðŸ‘‹ I'm your PF-GEOINT AI assistant from Proforce Galaxies Limited. I specialize in geospatial intelligence solutions and can help you find the perfect technology for your specific needs. What challenges are you facing?",
          frustrated: "Hello! I understand you might be feeling frustrated, and I'm here to help make this process as smooth as possible. I'm your PF-GEOINT AI assistant, and I'll do my best to provide clear, helpful solutions. What can I assist you with today?"
        },
        inquiry: {
          excited: "Great question! ðŸŽ¯ I love your curiosity! Let me provide you with comprehensive information about our solutions. Based on what I'm hearing, you're really engaged with finding the right technology.",
          neutral: "Excellent question! Let me provide you with detailed information about our solutions and how they can address your specific needs.",
          confused: "I understand this might be confusing, and I'm here to clarify everything for you. Let me break this down in simple terms and provide clear explanations."
        }
      };
      
      return responses[intent]?.[emotion] || responses[intent]?.neutral || "I'm here to help! Let me provide you with the information you need.";
    }

    // Calculate confidence score
    function calculateConfidence(message, entities) {
      let confidence = 0;
      const lowerMessage = message.toLowerCase();
      
      // Base confidence from entities
      confidence += entities.length * 0.2;
      
      // Confidence from keyword density
      const totalWords = message.split(' ').length;
      const relevantKeywords = ['agriculture', 'defense', 'security', 'urban', 'environment', 'transportation', 'energy', 'satellite', 'gps', 'ndvi', 'ndwi'];
      const keywordCount = relevantKeywords.filter(keyword => lowerMessage.includes(keyword)).length;
      confidence += (keywordCount / totalWords) * 0.5;
      
      // Confidence from question clarity
      if (lowerMessage.includes('what') || lowerMessage.includes('how') || lowerMessage.includes('can you')) {
        confidence += 0.2;
      }
      
      return Math.min(confidence, 1.0);
    }

    // Extract user profile information
    function extractUserProfile(message, entities) {
      const lowerMessage = message.toLowerCase();
      
      // Extract company name
      if (lowerMessage.includes('i work') || lowerMessage.includes('my company') || lowerMessage.includes('we are')) {
        const companyMatch = message.match(/(?:i work (?:at|for)|my company|we are) ([^,.\n]+)/i);
        if (companyMatch) {
          conversationContext.userProfile.company = companyMatch[1].trim();
        }
      }
      
      // Extract role
      const roles = ['manager', 'director', 'engineer', 'analyst', 'consultant', 'ceo', 'cto', 'farmer', 'planner'];
      roles.forEach(role => {
        if (lowerMessage.includes(`i am a ${role}`) || lowerMessage.includes(`i'm a ${role}`)) {
          conversationContext.userProfile.role = role;
        }
      });
      
      // Extract experience level
      if (lowerMessage.includes('beginner') || lowerMessage.includes('new to')) {
        conversationContext.userProfile.experience = 'beginner';
      } else if (lowerMessage.includes('experienced') || lowerMessage.includes('expert')) {
        conversationContext.userProfile.experience = 'expert';
      } else if (lowerMessage.includes('intermediate') || lowerMessage.includes('some experience')) {
        conversationContext.userProfile.experience = 'intermediate';
      }
      
      // Extract budget information
      if (lowerMessage.includes('budget') || lowerMessage.includes('cost')) {
        const budgetMatch = message.match(/(\d+)(?:k|thousand|million|m)/i);
        if (budgetMatch) {
          conversationContext.userProfile.budget = budgetMatch[0];
        }
      }
      
      // Extract timeline
      if (lowerMessage.includes('urgent') || lowerMessage.includes('asap')) {
        conversationContext.userProfile.timeline = 'urgent';
      } else if (lowerMessage.includes('month') || lowerMessage.includes('quarter')) {
        conversationContext.userProfile.timeline = 'short-term';
      } else if (lowerMessage.includes('year') || lowerMessage.includes('long-term')) {
        conversationContext.userProfile.timeline = 'long-term';
      }
      
      // Update industry from entities
      const industryEntity = entities.find(e => e.type === 'industry');
      if (industryEntity) {
        conversationContext.userProfile.preferences.push(industryEntity.value);
      }
    }

    // Generate predictive follow-up questions
    function generatePredictiveQuestions(context) {
      const questions = [];
      
      if (context.userProfile.experience === 'beginner') {
        questions.push("Would you like me to explain the technical aspects in simpler terms?");
      }
      
      if (context.userProfile.timeline === 'urgent') {
        questions.push("Since this is urgent, would you like me to connect you directly with our technical team?");
      }
      
      if (context.userProfile.budget) {
        questions.push(`Given your budget of ${context.userProfile.budget}, would you like me to recommend the most cost-effective solution?`);
      }
      
      if (context.userProfile.company) {
        questions.push(`How can we tailor our solutions specifically for ${context.userProfile.company}?`);
      }
      
      return questions;
    }

    // Universal solution scanner - analyzes all sectors and products
    function scanAllSolutions(message, entities, context) {
      const lowerMessage = message.toLowerCase();
      const allSolutions = [];
      
      // Comprehensive solution database
      const solutionDatabase = {
        // Agriculture Solutions
        'crop_health': {
          name: 'PF - C.H.A (Crop Health Assessment)',
          sector: 'agriculture',
          keywords: ['crop', 'health', 'vegetation', 'ndvi', 'ndwi', 'plant', 'farming', 'agriculture', 'yield', 'harvest'],
          description: 'Advanced crop health monitoring using NDVI/NDWI analysis with 3D visualization',
          capabilities: ['Real-time crop monitoring', 'Disease detection', 'Yield prediction', '3D visualization'],
          problems: ['monitoring', 'analysis', 'prediction']
        },
        'precision_farming': {
          name: 'Precision Farming',
          sector: 'agriculture',
          keywords: ['precision', 'farming', 'irrigation', 'fertilizer', 'pesticide', 'zone', 'optimization'],
          description: 'Zone-specific recommendations for fertilizers, pesticides, and irrigation',
          capabilities: ['Zone mapping', 'Resource optimization', 'Cost reduction', 'Yield improvement'],
          problems: ['optimization', 'planning', 'efficiency']
        },
        
        // Defense & Security Solutions
        'geotrace': {
          name: 'PF-GEOTRACE',
          sector: 'defense',
          keywords: ['geotrace', 'tracking', 'tactical', 'military', 'defense', 'security', 'surveillance', 'gps', 'location'],
          description: 'Cutting-edge geolocation platform for tactical dominance and mission-critical intelligence',
          capabilities: ['Real-time GPS precision', 'Dynamic marker systems', 'Strategic buffer zones', 'Satellite imagery'],
          problems: ['monitoring', 'tracking', 'surveillance', 'planning']
        },
        'tactical_surveillance': {
          name: 'Tactical Surveillance',
          sector: 'defense',
          keywords: ['surveillance', 'tactical', 'military', 'security', 'monitoring', 'intelligence', 'threat'],
          description: 'Advanced surveillance and threat detection systems',
          capabilities: ['Real-time monitoring', 'Threat detection', 'Intelligence gathering', 'Strategic analysis'],
          problems: ['monitoring', 'analysis', 'surveillance']
        },
        
        // Urban Planning Solutions
        'smart_city': {
          name: 'Smart City Development',
          sector: 'urban',
          keywords: ['smart city', 'urban', 'infrastructure', 'planning', 'development', 'municipal', 'city'],
          description: 'Comprehensive smart city development and infrastructure monitoring',
          capabilities: ['Infrastructure monitoring', 'Urban planning', 'Traffic optimization', 'Resource management'],
          problems: ['planning', 'optimization', 'monitoring']
        },
        'infrastructure_monitoring': {
          name: 'Infrastructure Monitoring',
          sector: 'urban',
          keywords: ['infrastructure', 'monitoring', 'bridge', 'road', 'building', 'structure', 'maintenance'],
          description: 'Real-time infrastructure health monitoring and maintenance planning',
          capabilities: ['Structural analysis', 'Maintenance scheduling', 'Risk assessment', 'Cost optimization'],
          problems: ['monitoring', 'analysis', 'planning']
        },
        
        // Environmental Solutions
        'climate_tracking': {
          name: 'Climate Tracking',
          sector: 'environment',
          keywords: ['climate', 'environment', 'carbon', 'emission', 'sustainability', 'green', 'conservation'],
          description: 'Advanced climate monitoring and environmental impact assessment',
          capabilities: ['Carbon tracking', 'Emission monitoring', 'Sustainability metrics', 'Environmental impact'],
          problems: ['monitoring', 'analysis', 'prediction']
        },
        'conservation_monitoring': {
          name: 'Conservation Monitoring',
          sector: 'environment',
          keywords: ['conservation', 'wildlife', 'forest', 'biodiversity', 'ecosystem', 'protection'],
          description: 'Wildlife and ecosystem conservation monitoring systems',
          capabilities: ['Wildlife tracking', 'Ecosystem analysis', 'Biodiversity assessment', 'Protection planning'],
          problems: ['monitoring', 'analysis', 'planning']
        },
        
        // Transportation Solutions
        'fleet_management': {
          name: 'Fleet Management',
          sector: 'transportation',
          keywords: ['fleet', 'transportation', 'logistics', 'shipping', 'delivery', 'vehicle', 'route'],
          description: 'Comprehensive fleet tracking and logistics optimization',
          capabilities: ['Real-time tracking', 'Route optimization', 'Fuel efficiency', 'Maintenance scheduling'],
          problems: ['optimization', 'monitoring', 'planning']
        },
        'traffic_optimization': {
          name: 'Traffic Optimization',
          sector: 'transportation',
          keywords: ['traffic', 'road', 'highway', 'congestion', 'optimization', 'route', 'transportation'],
          description: 'Intelligent traffic flow optimization and congestion management',
          capabilities: ['Traffic analysis', 'Congestion prediction', 'Route optimization', 'Signal control'],
          problems: ['optimization', 'analysis', 'prediction']
        },
        
        // Energy Solutions
        'grid_monitoring': {
          name: 'Grid Monitoring',
          sector: 'energy',
          keywords: ['grid', 'energy', 'power', 'electricity', 'utility', 'renewable', 'solar', 'wind'],
          description: 'Smart grid monitoring and renewable energy optimization',
          capabilities: ['Grid analysis', 'Energy optimization', 'Renewable integration', 'Demand forecasting'],
          problems: ['monitoring', 'optimization', 'prediction']
        },
        'renewable_energy': {
          name: 'Renewable Energy Planning',
          sector: 'energy',
          keywords: ['renewable', 'solar', 'wind', 'energy', 'sustainability', 'green', 'clean'],
          description: 'Renewable energy site assessment and optimization',
          capabilities: ['Site assessment', 'Energy potential', 'Optimization', 'ROI analysis'],
          problems: ['planning', 'analysis', 'optimization']
        }
      };
      
      // Scan all solutions and calculate relevance scores
      Object.entries(solutionDatabase).forEach(([key, solution]) => {
        let relevanceScore = 0;
        let matchedKeywords = [];
        
        // Check keyword matches
        solution.keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            relevanceScore += 2;
            matchedKeywords.push(keyword);
          }
        });
        
        // Check problem matches
        solution.problems.forEach(problem => {
          if (lowerMessage.includes(problem)) {
            relevanceScore += 3;
            matchedKeywords.push(problem);
          }
        });
        
        // Check entity matches
        entities.forEach(entity => {
          if (entity.type === 'industry' && entity.value === solution.sector) {
            relevanceScore += 5;
          }
          if (entity.type === 'technology' && solution.keywords.includes(entity.value)) {
            relevanceScore += 3;
          }
          if (entity.type === 'problem' && solution.problems.includes(entity.value)) {
            relevanceScore += 4;
          }
        });
        
        // Check context matches
        if (context.userProfile.preferences.includes(solution.sector)) {
          relevanceScore += 2;
        }
        
        if (relevanceScore > 0) {
          allSolutions.push({
            ...solution,
            key: key,
            relevanceScore: relevanceScore,
            matchedKeywords: matchedKeywords
          });
        }
      });
      
      // Sort by relevance score
      return allSolutions.sort((a, b) => b.relevanceScore - a.relevanceScore);
    }

    // Advanced solution recommendation with context
    function generateAdvancedRecommendation(bestMatch, context, entities) {
      let recommendation = `ðŸŽ¯ Perfect Match Found!\n\n`;
      
      // Confidence level with explanation
      const confidenceLevel = context.confidence > 0.8 ? 'extremely confident' : 
                             context.confidence > 0.6 ? 'highly confident' : 
                             context.confidence > 0.4 ? 'confident' : 'somewhat confident';
      
      recommendation += `I'm ${confidenceLevel} that our ${bestMatch.name} solution is perfect for your needs.\n\n`;
      
      // Context-aware explanation
      if (context.userProfile.experience === 'beginner') {
        recommendation += `Perfect for Beginners: This solution is designed to be user-friendly while providing powerful capabilities.\n\n`;
      } else if (context.userProfile.experience === 'expert') {
        recommendation += `Advanced Capabilities: This solution offers the sophisticated features and customization options you need.\n\n`;
      }
      
      // Industry-specific benefits
      const industryEntity = entities.find(e => e.type === 'industry');
      if (industryEntity) {
        recommendation += `${industryEntity.value.charAt(0).toUpperCase() + industryEntity.value.slice(1)} Focus: This solution is specifically optimized for ${industryEntity.value} applications.\n\n`;
      }
      
      // Timeline considerations
      if (context.userProfile.timeline === 'urgent') {
        recommendation += `Rapid Deployment: We can have this solution implemented quickly to meet your urgent timeline.\n\n`;
      }
      
      // Budget considerations
      if (context.userProfile.budget) {
        recommendation += `Budget Optimized: This solution provides excellent value within your budget of ${context.userProfile.budget}.\n\n`;
      }
      
      recommendation += `Why This Solution Fits:\n${bestMatch.description}\n\n`;
      
      recommendation += `Key Capabilities:\n`;
      bestMatch.capabilities.forEach(capability => {
        recommendation += `â€¢ ${capability}\n`;
      });
      recommendation += `\n`;
      
      // Predictive questions
      const predictiveQuestions = generatePredictiveQuestions(context);
      if (predictiveQuestions.length > 0) {
        recommendation += `Next Steps:\n`;
        predictiveQuestions.forEach(q => recommendation += `â€¢ ${q}\n`);
        recommendation += `\n`;
      }
      
      recommendation += `Proforce Galaxies Limited Support:\nâ€¢ 24/7 technical support\nâ€¢ Custom implementation guidance\nâ€¢ Training and onboarding\nâ€¢ Ongoing optimization\n\nWhat would you like to explore next?`;
      
      return recommendation;
    }

    // Universal response generator - handles any question intelligently
    function generateUniversalResponse(message, entities, context) {
      const lowerMessage = message.toLowerCase();
      
      // Handle general questions about capabilities
      if (lowerMessage.includes('what can you do') || lowerMessage.includes('what do you do') || lowerMessage.includes('capabilities')) {
        return `ðŸš€ PF-GEOINT AI Assistant Capabilities\n\nI'm your intelligent geospatial solutions assistant from Proforce Galaxies Limited. Here's what I can do:\n\nðŸŽ¯ Solution Analysis:\nâ€¢ Scan all 6 sectors (Agriculture, Defense, Urban, Environment, Transportation, Energy)\nâ€¢ Analyze 12+ specialized solutions\nâ€¢ Match solutions to your specific needs\nâ€¢ Provide detailed capability assessments\n\nðŸ§  Intelligent Processing:\nâ€¢ Understand natural language queries\nâ€¢ Extract entities (industry, technology, problems, scale)\nâ€¢ Detect emotional context and intent\nâ€¢ Build user profiles and preferences\nâ€¢ Provide confidence-scored recommendations\n\nðŸ’¡ Smart Recommendations:\nâ€¢ Multi-factor solution matching\nâ€¢ Context-aware suggestions\nâ€¢ Predictive follow-up questions\nâ€¢ Industry-specific optimizations\nâ€¢ Budget and timeline considerations\n\nðŸ” Universal Understanding:\nâ€¢ Process any question or request\nâ€¢ Handle technical and non-technical queries\nâ€¢ Provide comprehensive sector coverage\nâ€¢ Offer detailed solution comparisons\n\nWhat would you like to explore? I can help with anything from crop monitoring to tactical operations!`;
      }
      
      // Handle questions about sectors
      if (lowerMessage.includes('sectors') || lowerMessage.includes('industries') || lowerMessage.includes('what sectors')) {
        return `ðŸŒ PF-GEOINT Sectors & Solutions\n\nðŸŒ± Agriculture & Farming:\nâ€¢ PF - C.H.A (Crop Health Assessment) (NDVI/NDWI analysis)\nâ€¢ Precision Farming (zone-specific optimization)\nâ€¢ Yield prediction and cost analysis\n\nðŸ›¡ï¸ Defense & Security:\nâ€¢ PF-GEOTRACE (tactical geolocation platform)\nâ€¢ Tactical Surveillance systems\nâ€¢ Intelligence gathering and analysis\n\nðŸ™ï¸ Urban Planning & Infrastructure:\nâ€¢ Smart City Development\nâ€¢ Infrastructure Monitoring\nâ€¢ Traffic optimization and planning\n\nðŸŒ Environmental & Conservation:\nâ€¢ Climate Tracking and monitoring\nâ€¢ Conservation and wildlife protection\nâ€¢ Environmental impact assessment\n\nðŸš› Transportation & Logistics:\nâ€¢ Fleet Management and tracking\nâ€¢ Traffic Optimization\nâ€¢ Route planning and logistics\n\nâš¡ Energy & Utilities:\nâ€¢ Grid Monitoring and analysis\nâ€¢ Renewable Energy Planning\nâ€¢ Energy optimization and forecasting\n\nWhich sector interests you most? I can provide detailed information about any of these areas!`;
      }
      
      // Handle technical questions
      if (lowerMessage.includes('technical') || lowerMessage.includes('how does it work') || lowerMessage.includes('technology')) {
        return `ðŸ”¬ PF-GEOINT Technical Capabilities\n\nðŸ›°ï¸ Satellite Technology:\nâ€¢ Real-time satellite imagery processing\nâ€¢ Multi-spectral analysis (NDVI, NDWI, etc.)\nâ€¢ High-resolution earth observation data\nâ€¢ Orbital data integration\n\nðŸ¤– AI & Machine Learning:\nâ€¢ Advanced neural networks for pattern recognition\nâ€¢ Predictive analytics and forecasting\nâ€¢ Automated data processing and analysis\nâ€¢ Intelligent decision support systems\n\nðŸ“ GPS & Geolocation:\nâ€¢ Real-time GPS precision tracking\nâ€¢ Dynamic marker systems\nâ€¢ Strategic buffer zone management\nâ€¢ Coordinate transformation and analysis\n\nðŸ“Š Data Processing:\nâ€¢ Big data analytics and processing\nâ€¢ Real-time data streaming\nâ€¢ Cloud-based data storage and access\nâ€¢ API integration and customization\n\nðŸ”§ Integration Capabilities:\nâ€¢ RESTful API access\nâ€¢ SDK for custom development\nâ€¢ Third-party system integration\nâ€¢ Custom dashboard development\n\nWhat specific technical aspect would you like to know more about?`;
      }
      
      // Handle pricing questions
      if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('budget') || lowerMessage.includes('expensive')) {
        return `ðŸ’° PF-GEOINT Pricing & Investment\n\nInvestment Philosophy:\nWe believe in providing value-driven solutions that deliver measurable ROI. Our pricing is based on:\nâ€¢ Solution complexity and scope\nâ€¢ Implementation requirements\nâ€¢ Support and maintenance needs\nâ€¢ Customization requirements\n\nPricing Models:\nâ€¢ Subscription-based: Monthly/annual plans for ongoing services\nâ€¢ Project-based: One-time implementation and setup\nâ€¢ Enterprise: Custom solutions for large organizations\nâ€¢ Government: Specialized pricing for public sector\n\nValue Proposition:\nâ€¢ 25-40% increase in operational efficiency\nâ€¢ 30% reduction in resource costs\nâ€¢ 50% faster decision-making processes\nâ€¢ 24/7 technical support included\n\nBudget Considerations:\nâ€¢ Flexible payment options available\nâ€¢ Scalable solutions that grow with your needs\nâ€¢ ROI typically achieved within 6-12 months\nâ€¢ Free consultation and needs assessment\n\nTo provide accurate pricing, I need to understand:\nâ€¢ Which solutions interest you?\nâ€¢ What's your organization size?\nâ€¢ What's your implementation timeline?\nâ€¢ Do you need custom features?\n\nWould you like a personalized quote? I can connect you with our sales team for detailed pricing!`;
      }
      
      // Handle implementation questions
      if (lowerMessage.includes('implement') || lowerMessage.includes('setup') || lowerMessage.includes('deploy') || lowerMessage.includes('how long')) {
        return `âš™ï¸ PF-GEOINT Implementation Process\n\nðŸš€ Implementation Timeline:\nâ€¢ Phase 1 (1-2 weeks): Needs assessment and planning\nâ€¢ Phase 2 (2-4 weeks): System setup and configuration\nâ€¢ Phase 3 (1-2 weeks): Data integration and testing\nâ€¢ Phase 4 (1 week): Training and go-live\nâ€¢ Total: 5-9 weeks depending on complexity\n\nðŸ“‹ Implementation Steps:\n1. Discovery: Understanding your specific requirements\n2. Design: Customizing solution architecture\n3. Development: Building and configuring systems\n4. Testing: Comprehensive system validation\n5. Training: User training and documentation\n6. Launch: Go-live with full support\n7. Optimization: Continuous improvement and updates\n\nðŸ› ï¸ Technical Requirements:\nâ€¢ Internet connectivity (minimum 10 Mbps)\nâ€¢ Compatible devices (web browsers, mobile apps)\nâ€¢ Data access permissions and security clearance\nâ€¢ Integration with existing systems (if needed)\n\nðŸ‘¥ Support During Implementation:\nâ€¢ Dedicated project manager\nâ€¢ Technical specialists assigned\nâ€¢ Regular progress updates\nâ€¢ 24/7 support during critical phases\n\nWhat's your timeline? I can help you plan the perfect implementation schedule!`;
      }
      
      // Handle support questions
      if (lowerMessage.includes('support') || lowerMessage.includes('help') || lowerMessage.includes('assistance') || lowerMessage.includes('troubleshoot')) {
        return `ðŸ†˜ PF-GEOINT Support & Assistance\n\n24/7 Support Channels:\nâ€¢ Live Chat: Instant support through our platform\nâ€¢ Email: support@proforcegalaxies.com\nâ€¢ Phone: +234-XXX-XXXX-XXX (Nigeria)\nâ€¢ Ticketing System: Priority-based issue tracking\n\nSupport Levels:\nâ€¢ Level 1: Basic troubleshooting and user guidance\nâ€¢ Level 2: Technical issues and system problems\nâ€¢ Level 3: Advanced technical support and customization\nâ€¢ Level 4: Engineering team for complex issues\n\nResponse Times:\nâ€¢ Critical Issues: < 1 hour\nâ€¢ High Priority: < 4 hours\nâ€¢ Medium Priority: < 24 hours\nâ€¢ Low Priority: < 72 hours\n\nSupport Services:\nâ€¢ System troubleshooting and fixes\nâ€¢ User training and onboarding\nâ€¢ Performance optimization\nâ€¢ Custom feature development\nâ€¢ Data migration assistance\nâ€¢ Integration support\n\nDocumentation & Resources:\nâ€¢ User manuals and guides\nâ€¢ Video tutorials and webinars\nâ€¢ API documentation\nâ€¢ Best practices and tips\nâ€¢ Community forum access\n\nWhat specific support do you need? I'm here to help resolve any issues!`;
      }
      
      // Handle general "what is" questions
      if (lowerMessage.includes('what is') || lowerMessage.includes('explain') || lowerMessage.includes('tell me about')) {
        const topic = message.replace(/what is|explain|tell me about/gi, '').trim();
        
        if (topic.includes('pf-geoint') || topic.includes('proforce')) {
          return `ðŸ¢ About PF-GEOINT by Proforce Galaxies Limited\n\nCompany Overview:\nProforce Galaxies Limited is a leading geospatial intelligence company specializing in advanced satellite imagery analysis, AI-powered solutions, and custom geospatial applications.\n\nOur Mission:\nTo transform how organizations use geospatial data for decision-making through innovative technology and expert solutions.\n\nOur Expertise:\nâ€¢ Over 10 years of experience in geospatial intelligence\nâ€¢ Advanced AI and machine learning algorithms\nâ€¢ Real-time satellite data processing capabilities\nâ€¢ Custom solutions for unique requirements\nâ€¢ 24/7 technical support and consultation\n\nLeadership:\nâ€¢ CEO/GMD: Engr Ade Ogundeyin\nâ€¢ Company: Proforce Galaxies Limited\nâ€¢ Founded: 2013\nâ€¢ Headquarters: Nigeria\n\nWhat specific aspect of PF-GEOINT would you like to know more about?`;
        }
      }
      
      return null; // No universal response found
    }

    // ===== INTELLIGENT LEARNING SYSTEM =====
    
    // Persistent Learning Memory System
    class BotLearningSystem {
      constructor() {
        this.memory = this.loadMemory();
        this.conversationPatterns = this.memory.patterns || {};
        this.successfulResponses = this.memory.responses || {};
        this.userPreferences = this.memory.preferences || {};
        this.adaptiveKeywords = this.memory.keywords || {};
        this.responseEffectiveness = this.memory.effectiveness || {};
        this.learningRate = 0.1; // How fast the bot learns
        this.confidenceThreshold = 0.7; // Minimum confidence for adaptive responses
      }
      
      // Load memory from localStorage
      loadMemory() {
        try {
          const stored = localStorage.getItem('pfg-bot-memory');
          return stored ? JSON.parse(stored) : {
            patterns: {},
            responses: {},
            preferences: {},
            keywords: {},
            effectiveness: {},
            version: '1.0',
            lastUpdated: Date.now()
          };
        } catch (e) {
          console.log('Initializing new bot memory...');
          return {
            patterns: {},
            responses: {},
            preferences: {},
            keywords: {},
            effectiveness: {},
            version: '1.0',
            lastUpdated: Date.now()
          };
        }
      }
      
      // Save memory to localStorage
      saveMemory() {
        try {
          this.memory.patterns = this.conversationPatterns;
          this.memory.responses = this.successfulResponses;
          this.memory.preferences = this.userPreferences;
          this.memory.keywords = this.adaptiveKeywords;
          this.memory.effectiveness = this.responseEffectiveness;
          this.memory.lastUpdated = Date.now();
          localStorage.setItem('pfg-bot-memory', JSON.stringify(this.memory));
        } catch (e) {
          console.log('Memory save failed:', e);
        }
      }
      
      // Learn from conversation patterns
      learnFromInteraction(userMessage, botResponse, userReaction = 'neutral') {
        const messageKey = this.extractMessagePattern(userMessage);
        const responseKey = this.extractResponsePattern(botResponse);
        
        // Track conversation patterns
        if (!this.conversationPatterns[messageKey]) {
          this.conversationPatterns[messageKey] = {
            count: 0,
            successfulResponses: {},
            userReactions: {},
            lastUsed: Date.now()
          };
        }
        
        this.conversationPatterns[messageKey].count++;
        this.conversationPatterns[messageKey].lastUsed = Date.now();
        
        // Track successful responses
        if (!this.conversationPatterns[messageKey].successfulResponses[responseKey]) {
          this.conversationPatterns[messageKey].successfulResponses[responseKey] = 0;
        }
        this.conversationPatterns[messageKey].successfulResponses[responseKey]++;
        
        // Track user reactions
        if (!this.conversationPatterns[messageKey].userReactions[userReaction]) {
          this.conversationPatterns[messageKey].userReactions[userReaction] = 0;
        }
        this.conversationPatterns[messageKey].userReactions[userReaction]++;
        
        // Learn adaptive keywords
        this.learnKeywords(userMessage, botResponse);
        
        // Update response effectiveness
        this.updateResponseEffectiveness(responseKey, userReaction);
        
        this.saveMemory();
      }
      
      // Extract message pattern for learning
      extractMessagePattern(message) {
        const lowerMessage = message.toLowerCase();
        const words = lowerMessage.split(/\s+/).filter(word => word.length > 2);
        const pattern = words.slice(0, 3).join(' '); // First 3 meaningful words
        return pattern;
      }
      
      // Extract response pattern for learning
      extractResponsePattern(response) {
        const lowerResponse = response.toLowerCase();
        if (lowerResponse.includes('recommendation')) return 'recommendation';
        if (lowerResponse.includes('pf-')) return 'product_info';
        if (lowerResponse.includes('hello') || lowerResponse.includes('hi')) return 'greeting';
        if (lowerResponse.includes('thank')) return 'gratitude';
        if (lowerResponse.includes('help')) return 'help';
        return 'general';
      }
      
      // Learn keywords that lead to successful interactions
      learnKeywords(userMessage, botResponse) {
        const words = userMessage.toLowerCase().split(/\s+/);
        const responseType = this.extractResponsePattern(botResponse);
        
        words.forEach(word => {
          if (word.length > 3 && !this.isCommonWord(word)) {
            if (!this.adaptiveKeywords[word]) {
              this.adaptiveKeywords[word] = {};
            }
            if (!this.adaptiveKeywords[word][responseType]) {
              this.adaptiveKeywords[word][responseType] = 0;
            }
            this.adaptiveKeywords[word][responseType]++;
          }
        });
      }
      
      // Check if word is common (not useful for learning)
      isCommonWord(word) {
        const commonWords = ['the', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'is', 'are', 'was', 'were', 'be', 'been', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'may', 'might', 'can', 'this', 'that', 'these', 'those', 'i', 'you', 'he', 'she', 'it', 'we', 'they', 'me', 'him', 'her', 'us', 'them'];
        return commonWords.includes(word);
      }
      
      // Update response effectiveness based on user reaction
      updateResponseEffectiveness(responseKey, userReaction) {
        if (!this.responseEffectiveness[responseKey]) {
          this.responseEffectiveness[responseKey] = {
            positive: 0,
            neutral: 0,
            negative: 0,
            total: 0
          };
        }
        
        this.responseEffectiveness[responseKey][userReaction]++;
        this.responseEffectiveness[responseKey].total++;
      }
      
      // Generate adaptive response based on learned patterns
      generateAdaptiveResponse(userMessage) {
        const messagePattern = this.extractMessagePattern(userMessage);
        const learnedPattern = this.conversationPatterns[messagePattern];
        
        if (!learnedPattern || learnedPattern.count < 2) {
          return null; // Not enough data to adapt
        }
        
        // Find the most successful response for this pattern
        const responses = learnedPattern.successfulResponses;
        const bestResponse = Object.keys(responses).reduce((a, b) => 
          responses[a] > responses[b] ? a : b
        );
        
        // Check if this response type is effective
        const effectiveness = this.responseEffectiveness[bestResponse];
        if (effectiveness && effectiveness.total > 3) {
          const successRate = effectiveness.positive / effectiveness.total;
          if (successRate >= this.confidenceThreshold) {
            return this.generateResponseByType(bestResponse, userMessage);
          }
        }
        
        return null;
      }
      
      // Generate response based on learned type
      generateResponseByType(type, userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        switch (type) {
          case 'recommendation':
            return this.generateSmartRecommendation(lowerMessage);
          case 'product_info':
            return this.generateProductInfo(lowerMessage);
          case 'greeting':
            return this.generateAdaptiveGreeting();
          case 'gratitude':
            return this.generateAdaptiveGratitude();
          case 'help':
            return this.generateAdaptiveHelp(lowerMessage);
          default:
            return null;
        }
      }
      
      // Generate smart recommendations based on learned patterns
      generateSmartRecommendation(message) {
        const learnedKeywords = Object.keys(this.adaptiveKeywords);
        const relevantKeywords = learnedKeywords.filter(keyword => 
          message.includes(keyword) && this.adaptiveKeywords[keyword].recommendation > 0
        );
        
        if (relevantKeywords.length > 0) {
          const topKeyword = relevantKeywords.reduce((a, b) => 
            this.adaptiveKeywords[a].recommendation > this.adaptiveKeywords[b].recommendation ? a : b
          );
          return `Based on your interest in ${topKeyword}, I'd recommend exploring our specialized solutions. What specific challenges are you facing with ${topKeyword}?`;
        }
        
        return null;
      }
      
      // Generate adaptive greetings
      generateAdaptiveGreeting() {
        const greetings = [
          "Hello! ðŸ‘‹ I'm PFG-BOT, your intelligent geospatial assistant. I've been learning from our conversations to better serve you. What can I help you with today?",
          "Hi there! ðŸ¤– I'm continuously improving my responses based on our interactions. How can I assist you with geospatial solutions?",
          "Greetings! ðŸš€ I'm evolving with each conversation to provide better assistance. What geospatial challenges can I help you solve?"
        ];
        return greetings[Math.floor(Math.random() * greetings.length)];
      }
      
      // Generate adaptive gratitude responses
      generateAdaptiveGratitude() {
        const gratitudeResponses = [
          "You're welcome! ðŸ˜Š I'm learning from our interactions to provide even better assistance. Is there anything else I can help you with?",
          "My pleasure! ðŸ¤– I'm continuously improving based on our conversations. Feel free to ask me anything else.",
          "You're welcome! ðŸš€ I'm growing smarter with each interaction. What else can I do for you?"
        ];
        return gratitudeResponses[Math.floor(Math.random() * gratitudeResponses.length)];
      }
      
      // Generate adaptive help responses
      generateAdaptiveHelp(message) {
        const learnedTopics = Object.keys(this.userPreferences);
        if (learnedTopics.length > 0) {
          return `I can help you with geospatial solutions! Based on our previous conversations, I know you're interested in ${learnedTopics.join(', ')}. What specific help do you need?`;
        }
        return null;
      }
      
      // Detect user reaction to bot response (simplified)
      detectUserReaction(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        if (lowerMessage.includes('thank') || lowerMessage.includes('great') || lowerMessage.includes('perfect') || lowerMessage.includes('excellent')) {
          return 'positive';
        }
        if (lowerMessage.includes('wrong') || lowerMessage.includes('bad') || lowerMessage.includes('not helpful') || lowerMessage.includes('useless')) {
          return 'negative';
        }
        return 'neutral';
      }
      
      // Get learning statistics
      getLearningStats() {
        const totalPatterns = Object.keys(this.conversationPatterns).length;
        const totalKeywords = Object.keys(this.adaptiveKeywords).length;
        const totalInteractions = Object.values(this.conversationPatterns).reduce((sum, pattern) => sum + pattern.count, 0);
        
        return {
          totalPatterns,
          totalKeywords,
          totalInteractions,
          memorySize: JSON.stringify(this.memory).length,
          lastUpdated: new Date(this.memory.lastUpdated).toLocaleString()
        };
      }
    }
    
    // Initialize the learning system
    const botLearning = new BotLearningSystem();
    
    // Demo Response Generator - Universal for ALL Products
    function generateDemoResponse(productName, productId) {
      const demoResponses = {
        'caelus': {
          message: `ðŸŒ¤ï¸ Perfect! Let's get you started with PF-CAELUS!\n\nðŸš€ **Free Trial Available:**\nClick the "Free Trial" button below to access PF-CAELUS in a new tab.\n\nðŸ“‹ **What you'll get:**\nâ€¢ Live interactive weather map\nâ€¢ Real-time storm tracking\nâ€¢ City-level forecasts\nâ€¢ Historical climate data\nâ€¢ Mobile-responsive interface\n\nðŸ’¡ **Pro Tip:** Bookmark the trial page for easy access!\n\nReady to explore weather intelligence?`,
          action: 'showCaelusDemo'
        },
        'geotrace': {
          message: `ðŸ“ Excellent choice! PF-GEOTRACE is perfect for tracking and security.\n\nðŸš€ **Free Trial Available:**\nI'll guide you to the PF-GEOTRACE trial page.\n\nðŸ“‹ **What you'll experience:**\nâ€¢ Real-time GPS tracking\nâ€¢ Advanced geofencing\nâ€¢ Satellite map integration\nâ€¢ Mission planning tools\nâ€¢ Security monitoring features\n\nReady to start tracking?`,
          action: 'showGeoTraceDemo'
        },
        'digital twin': {
          message: `ðŸ™ï¸ Great! PF-DIGITAL TWIN offers incredible 3D city modeling.\n\nðŸš€ **Free Trial Available:**\nLet me show you the PF-DIGITAL TWIN demo.\n\nðŸ“‹ **What you'll explore:**\nâ€¢ 3D city models\nâ€¢ Live data integration\nâ€¢ Urban planning tools\nâ€¢ Infrastructure monitoring\nâ€¢ Interactive visualization\n\nReady to see your city in 3D?`,
          action: 'showDigitalTwinDemo'
        },
        'digital-twin': {
          message: `ðŸ™ï¸ Great! PF-DIGITAL TWIN offers incredible 3D city modeling.\n\nðŸš€ **Free Trial Available:**\nLet me show you the PF-DIGITAL TWIN demo.\n\nðŸ“‹ **What you'll explore:**\nâ€¢ 3D city models\nâ€¢ Live data integration\nâ€¢ Urban planning tools\nâ€¢ Infrastructure monitoring\nâ€¢ Interactive visualization\n\nReady to see your city in 3D?`,
          action: 'showDigitalTwinDemo'
        },
        'atlas': {
          message: `ðŸ¤– Fantastic! PF Atlas brings AI-powered geospatial analysis.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF Atlas.\n\nðŸ“‹ **What you'll discover:**\nâ€¢ AI-powered analysis\nâ€¢ Natural language queries\nâ€¢ Advanced geospatial insights\nâ€¢ Automated reporting\nâ€¢ Smart recommendations\n\nReady to experience AI geospatial intelligence?`,
          action: 'showAtlasDemo'
        },
        'asset-watch': {
          message: `ðŸ¢ Perfect! PF Asset-Watch provides comprehensive asset monitoring.\n\nðŸš€ **Free Trial Available:**\nI'll guide you to the PF Asset-Watch trial.\n\nðŸ“‹ **What you'll monitor:**\nâ€¢ Real estate portfolio tracking\nâ€¢ Construction progress monitoring\nâ€¢ Asset health assessment\nâ€¢ Property management tools\nâ€¢ Automated alerts and notifications\n\nReady to monitor your assets?`,
          action: 'showAssetWatchDemo'
        },
        'geoshift': {
          message: `ðŸŒ Excellent! PF GeoShift detects environmental changes over time.\n\nðŸš€ **Free Trial Available:**\nLet me show you PF GeoShift in action.\n\nðŸ“‹ **What you'll analyze:**\nâ€¢ Environmental change detection\nâ€¢ Historical data comparison\nâ€¢ Trend analysis and reporting\nâ€¢ Impact assessment tools\nâ€¢ Time-series visualization\n\nReady to track environmental changes?`,
          action: 'showGeoShiftDemo'
        },
        'flowsafe': {
          message: `ðŸ›¢ï¸ Great choice! PF FlowSafe provides real-time pipeline monitoring.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF FlowSafe.\n\nðŸ“‹ **What you'll monitor:**\nâ€¢ Real-time pipeline surveillance\nâ€¢ Leak detection and alerts\nâ€¢ Pressure monitoring\nâ€¢ Flow rate analysis\nâ€¢ Emergency response tools\n\nReady to secure your pipelines?`,
          action: 'showFlowSafeDemo'
        },
        'logitrack': {
          message: `ðŸš› Perfect! PF LogiTrack optimizes logistics and fleet management.\n\nðŸš€ **Free Trial Available:**\nLet me show you PF LogiTrack capabilities.\n\nðŸ“‹ **What you'll manage:**\nâ€¢ Route optimization\nâ€¢ Fleet tracking and management\nâ€¢ Delivery scheduling\nâ€¢ Performance analytics\nâ€¢ Real-time monitoring\n\nReady to optimize your logistics?`,
          action: 'showLogiTrackDemo'
        },
        'orbitfence': {
          message: `ðŸŽ¯ Fantastic! PF OrbitFence provides smart geofencing solutions.\n\nðŸš€ **Free Trial Available:**\nI'll guide you to PF OrbitFence.\n\nðŸ“‹ **What you'll create:**\nâ€¢ Smart geofencing zones\nâ€¢ Real-time tracking alerts\nâ€¢ Automated zone actions\nâ€¢ Custom boundary management\nâ€¢ Event-triggered responses\n\nReady to create smart boundaries?`,
          action: 'showOrbitFenceDemo'
        },
        'vista': {
          message: `ðŸ‘ï¸ Excellent! PF Vista offers unified monitoring solutions.\n\nðŸš€ **Free Trial Available:**\nLet me show you PF Vista's capabilities.\n\nðŸ“‹ **What you'll integrate:**\nâ€¢ Satellite data monitoring\nâ€¢ Drone surveillance feeds\nâ€¢ CCTV integration\nâ€¢ Unified dashboard view\nâ€¢ Multi-source analytics\n\nReady to unify your monitoring?`,
          action: 'showVistaDemo'
        },
        'urbanscope': {
          message: `ðŸ˜ï¸ Great! PF Urban Scope provides urban planning analytics.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF Urban Scope.\n\nðŸ“‹ **What you'll analyze:**\nâ€¢ Urban growth patterns\nâ€¢ Infrastructure planning\nâ€¢ Population density analysis\nâ€¢ Development impact assessment\nâ€¢ Smart city planning tools\n\nReady to plan smarter cities?`,
          action: 'showUrbanScopeDemo'
        },
        'ecosphere': {
          message: `ðŸŒ± Perfect! PF Ecosphere optimizes renewable energy planning.\n\nðŸš€ **Free Trial Available:**\nLet me show you PF Ecosphere.\n\nðŸ“‹ **What you'll optimize:**\nâ€¢ Renewable energy site selection\nâ€¢ Solar farm planning\nâ€¢ Environmental impact assessment\nâ€¢ Economic modeling\nâ€¢ Grid connectivity analysis\n\nReady to plan renewable energy?`,
          action: 'showEcosphereDemo'
        },
        'fra': {
          message: `ðŸŒŠ Excellent! PF - F.R.A provides AI-powered flood risk assessment.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF - F.R.A.\n\nðŸ“‹ **What you'll assess:**\nâ€¢ Real-time flood risk monitoring\nâ€¢ AI-powered flood predictions\nâ€¢ Advanced risk modeling\nâ€¢ Early warning systems\nâ€¢ Disaster preparedness tools\nâ€¢ 99.7% accuracy rate\n\nReady to assess flood risks?`,
          action: 'showFRADemo'
        },
        'f.r.a': {
          message: `ðŸŒŠ Excellent! PF - F.R.A provides AI-powered flood risk assessment.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF - F.R.A.\n\nðŸ“‹ **What you'll assess:**\nâ€¢ Real-time flood risk monitoring\nâ€¢ AI-powered flood predictions\nâ€¢ Advanced risk modeling\nâ€¢ Early warning systems\nâ€¢ Disaster preparedness tools\nâ€¢ 99.7% accuracy rate\n\nReady to assess flood risks?`,
          action: 'showFRADemo'
        },
        'flood risk': {
          message: `ðŸŒŠ Excellent! PF - F.R.A provides AI-powered flood risk assessment.\n\nðŸš€ **Free Trial Available:**\nI'll connect you with PF - F.R.A.\n\nðŸ“‹ **What you'll assess:**\nâ€¢ Real-time flood risk monitoring\nâ€¢ AI-powered flood predictions\nâ€¢ Advanced risk modeling\nâ€¢ Early warning systems\nâ€¢ Disaster preparedness tools\nâ€¢ 99.7% accuracy rate\n\nReady to assess flood risks?`,
          action: 'showFRADemo'
        }
      };
      
      const response = demoResponses[productId] || {
        message: `ðŸš€ Awesome! Let's get you a demo of ${productName}!\n\nðŸ“‹ **What you'll get:**\nâ€¢ Full access to all features\nâ€¢ Real-time data and insights\nâ€¢ Interactive interface\nâ€¢ No commitment required\nâ€¢ Expert support available\n\nReady to explore ${productName}?`,
        action: 'showGeneralDemo'
      };
      
      // Add action button to response
      setTimeout(() => {
        addDemoActionButton(response.action, productName, productId);
      }, 100);
      
      return response.message;
    }
    
    // Add demo action button to chat
    function addDemoActionButton(action, productName, productId) {
      const messagesContainer = document.getElementById('chatbotMessages');
      const lastMessage = messagesContainer.lastElementChild;
      
      if (lastMessage && lastMessage.classList.contains('bot')) {
        const actionButton = document.createElement('button');
        actionButton.textContent = `ðŸš€ Start ${productName} Free Trial`;
        actionButton.style.cssText = `
          margin-top: 10px;
          padding: 12px 20px;
          background: linear-gradient(45deg, #00d4ff, #7b00ff);
          color: white;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
          font-size: 14px;
          transition: all 0.3s ease;
          box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        `;
        
        actionButton.addEventListener('mouseenter', () => {
          actionButton.style.transform = 'translateY(-2px)';
          actionButton.style.boxShadow = '0 6px 20px rgba(0, 212, 255, 0.4)';
        });
        
        actionButton.addEventListener('mouseleave', () => {
          actionButton.style.transform = 'translateY(0)';
          actionButton.style.boxShadow = '0 4px 15px rgba(0, 212, 255, 0.3)';
        });
        
        actionButton.onclick = () => {
          executeDemoAction(action, productName, productId);
        };
        
        lastMessage.appendChild(actionButton);
      }
    }
    
    // Execute demo action - Universal for ALL Products
    function executeDemoAction(action, productName, productId) {
      // Navigate to standalone products page first
      showPage('standalone');
      
      setTimeout(() => {
        let targetSection = null;
        let sectionId = '';
        
        switch (action) {
          case 'showCaelusDemo':
            sectionId = 'caelus';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showGeoTraceDemo':
            sectionId = 'geotrace';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showDigitalTwinDemo':
            sectionId = 'digital-twin';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showAtlasDemo':
            sectionId = 'atlas';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showAssetWatchDemo':
            sectionId = 'asset-watch';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showGeoShiftDemo':
            sectionId = 'geoshift';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showFlowSafeDemo':
            sectionId = 'flowsafe';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showLogiTrackDemo':
            sectionId = 'logitrack';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showOrbitFenceDemo':
            sectionId = 'orbitfence';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showVistaDemo':
            sectionId = 'vista';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showUrbanScopeDemo':
            sectionId = 'urbanscope';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showEcosphereDemo':
            sectionId = 'ecosphere';
            targetSection = document.getElementById(sectionId);
            break;
            
          case 'showFRADemo':
            // For FRA, directly open the trial URL since it's a standalone platform
            window.open('https://pfg-sanusi.github.io/PF-F.R.A/', '_blank');
            addChatbotMessage(`ðŸŽ‰ Opening PF - F.R.A free trial in a new tab! Experience the AI-powered flood risk assessment platform.`, 'bot');
            return;
            
          default:
            // General demo - just show standalone products page
            addChatbotMessage(`ðŸŽ‰ Taking you to explore all PF-GEOINT products! Browse the standalone products page above.`, 'bot');
            return;
        }
        
        if (targetSection) {
          // Show the specific product section
          targetSection.style.display = 'block';
          targetSection.scrollIntoView({ behavior: 'smooth' });
          
          // For CAELUS, auto-click the free trial button
          if (action === 'showCaelusDemo') {
            setTimeout(() => {
              const trialButton = targetSection.querySelector('.product-card');
              if (trialButton) {
                trialButton.click();
              }
            }, 1000);
          }
          
          // Add confirmation message
          setTimeout(() => {
            addChatbotMessage(`ðŸŽ‰ Taking you to the ${productName} section! Look for the free trial or demo options above.`, 'bot');
          }, 1500);
        } else {
          // Fallback if section not found
          addChatbotMessage(`ðŸŽ‰ Taking you to explore ${productName}! Check the standalone products page above for trial options.`, 'bot');
        }
      }, 500);
    }
    
    // Enhanced message processing with learning
    function processChatbotMessage(message) {
      const lowerMessage = message.toLowerCase();
      
      // Try adaptive response first
      const adaptiveResponse = botLearning.generateAdaptiveResponse(message);
      if (adaptiveResponse) {
        // Learn from this interaction
        setTimeout(() => {
          const userReaction = botLearning.detectUserReaction(message);
          botLearning.learnFromInteraction(message, adaptiveResponse, userReaction);
        }, 1000);
        return adaptiveResponse;
      }
      
      // Update entities and lightweight context
      const entities = extractEntities ? extractEntities(message) : [];
      // Direct product lookup (concise, plain text)
      for (const [id, info] of Object.entries(productCatalog)) {
        if (lowerMessage.includes(id) || lowerMessage.includes((info.name || '').toLowerCase())) {
          return `${info.name}: ${info.description} What would you like to do next?`;
        }
      }
      
      // Intelligent Demo/Trial Request Handling
      if (lowerMessage.includes('demo') || lowerMessage.includes('trial') || lowerMessage.includes('test') || lowerMessage.includes('try')) {
        // Check if user mentioned a specific product
        for (const [id, info] of Object.entries(productCatalog)) {
          if (lowerMessage.includes(id) || lowerMessage.includes((info.name || '').toLowerCase())) {
            return generateDemoResponse(info.name, id);
          }
        }
        
        // Check conversation context for recently mentioned products
        const recentMessages = document.querySelectorAll('.chatbot-message.bot');
        if (recentMessages.length > 0) {
          const lastBotMessage = recentMessages[recentMessages.length - 1].textContent;
          for (const [id, info] of Object.entries(productCatalog)) {
            if (lastBotMessage.includes(info.name)) {
              return generateDemoResponse(info.name, id);
            }
          }
        }
        
        // General demo response - List ALL products
        return `ðŸš€ Great! I'd love to help you get a demo. Which PF-GEOINT solution interests you most?\n\n**Available Demos:**\nâ€¢ ðŸŒ¤ï¸ PF-CAELUS (Weather Intelligence)\nâ€¢ ðŸ“ PF-GEOTRACE (GPS Tracking)\nâ€¢ ðŸ™ï¸ PF-DIGITAL TWIN (3D City Models)\nâ€¢ ðŸ¤– PF Atlas (AI Analysis)\nâ€¢ ðŸ¢ PF Asset-Watch (Asset Monitoring)\nâ€¢ ðŸŒ PF GeoShift (Environmental Changes)\nâ€¢ ðŸ›¢ï¸ PF FlowSafe (Pipeline Monitoring)\nâ€¢ ðŸš› PF LogiTrack (Logistics Management)\nâ€¢ ðŸŽ¯ PF OrbitFence (Smart Geofencing)\nâ€¢ ðŸ‘ï¸ PF Vista (Unified Monitoring)\nâ€¢ ðŸ˜ï¸ PF Urban Scope (Urban Planning)\nâ€¢ ðŸŒ± PF Ecosphere (Renewable Energy)\nâ€¢ ðŸŒŠ PF - F.R.A (Flood Risk Assessment)\n\nJust tell me which one you'd like to try!`;
      }

      if (lowerMessage.includes('agriculture') || lowerMessage.includes('crop') || lowerMessage.includes('farm')) {
        conversationContext.currentTopic = 'agriculture';
        if (!conversationContext.userProfile.preferences.includes('agriculture')) {
          conversationContext.userProfile.preferences.push('agriculture');
        }
      }
      
      // Company information queries
      if (lowerMessage.includes('boss') || lowerMessage.includes('who is your boss')) {
        return `ðŸ‘” My boss is **${companyInfo.boss}**. He leads our team in developing cutting-edge geospatial intelligence solutions.`;
      }
      
      if (lowerMessage.includes('created') || lowerMessage.includes('who created you') || lowerMessage.includes('who made you')) {
        return `ðŸ¢ I was created by **${companyInfo.creator}**, a leading company in geospatial intelligence and satellite technology solutions.`;
      }
      
      if (lowerMessage.includes('ceo') || lowerMessage.includes('gmd') || lowerMessage.includes('md') || lowerMessage.includes('managing director')) {
        return `ðŸ‘¨â€ðŸ’¼ Our CEO/GMD/MD is **${companyInfo.ceo}**. He leads Proforce Galaxies Limited in delivering innovative geospatial solutions worldwide.`;
      }
      
      if (lowerMessage.includes('head of operations') || lowerMessage.includes('hoo') || lowerMessage.includes('operations head')) {
        return `âš™ï¸ Our Head of Operations (HOO) is **Engr Bami Ogundeyin**. He oversees our operational excellence and ensures smooth delivery of geospatial intelligence solutions.`;
      }
      
      if (lowerMessage.includes('proforce') || lowerMessage.includes('company') || lowerMessage.includes('about proforce')) {
        return `ðŸ¢ **Proforce Galaxies Limited** is a leading geospatial intelligence company specializing in:\n\nâ€¢ Advanced satellite imagery analysis\nâ€¢ AI-powered geospatial solutions\nâ€¢ Defense and security applications\nâ€¢ Agricultural monitoring systems\nâ€¢ Urban planning and infrastructure development\n\nWe're committed to transforming how organizations use geospatial data for decision-making.`;
      }
      
      // Enhanced greeting responses
      if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || lowerMessage.includes('hey')) {
        const greetings = [
          "Hello! ðŸ‘‹ I'm PFG-BOT. I can help you find the perfect geospatial intelligence solution for your needs. What challenges are you facing?",
          "Hi there! ðŸ¤– I'm here to analyze your requirements and recommend the most suitable PF-GEOINT solutions. Tell me about your project.",
          "Greetings! ðŸš€ I'm an advanced AI trained on geospatial intelligence. I can help you navigate our solutions and find exactly what you need."
        ];
        return greetings[Math.floor(Math.random() * greetings.length)];
      }
      
      // Gratitude responses
      if (lowerMessage.includes('thank you') || lowerMessage.includes('thanks') || lowerMessage.includes('appreciate')) {
        const thanksResponses = [
          "You're very welcome! ðŸ˜Š I'm here whenever you need help with geospatial solutions. Is there anything else I can assist you with?",
          "My pleasure! ðŸ¤– Happy to help with your geospatial intelligence needs. Feel free to ask me anything else.",
          "You're welcome! ðŸš€ I'm always ready to help you find the perfect PF-GEOINT solution. What else can I do for you?"
        ];
        return thanksResponses[Math.floor(Math.random() * thanksResponses.length)];
      }
      
      // Advanced product matching with comprehensive keyword analysis
      const productScores = {};
      
      // Calculate scores for each product based on keywords
      for (const [key, product] of Object.entries(products)) {
        let score = 0;
        for (const keyword of product.keywords) {
          if (lowerMessage.includes(keyword)) {
            score += 1;
          }
        }
        productScores[key] = score;
      }
      
      // Find the best matching product
      const bestMatch = Object.entries(productScores).reduce((a, b) => productScores[a[0]] > productScores[b[0]] ? a : b);
      const bestProduct = products[bestMatch[0]];
      const maxScore = bestMatch[1];
      
      // Specific product queries
      if (lowerMessage.includes('geotrace') || lowerMessage.includes('pf-geotrace')) {
        return `PF-GEOTRACE: real-time GPS tracking, geofencing, and satellite maps for missions and security. What would you like to know?`;
      }
      
      if (lowerMessage.includes('digital twin') || lowerMessage.includes('pf-digital twin')) {
        return `PF-DIGITAL TWIN: 3D city models with live data for planning and operations. What would you like to know?`;
      }
      
      if (lowerMessage.includes('agriculture') || lowerMessage.includes('crop') || lowerMessage.includes('farm')) {
        return `ðŸŒ± Agriculture help: crop health, irrigation, weather alerts, and yield. What do you need help with?`;
      }

      // Context-aware recommendation request
      if (lowerMessage.includes('recommend') || (lowerMessage.includes('which') && (lowerMessage.includes('product') || lowerMessage.includes('solution')))) {
        // Use remembered topic for concise recommendation
        if (conversationContext.currentTopic === 'agriculture') {
          return `ðŸŽ¯ Recommendation: PF - C.H.A (Crop Health Assessment) for agriculture. It monitors crop health and guides irrigation with weather insights. Want details?`;
        }
      }
      
      // Product recommendation based on best match
      if (maxScore > 0) {
        return `Recommendation: ${bestProduct.name} â€” ${bestProduct.description} Want a quick overview or setup steps?`;
      }
      
      // General help and guidance
      if (lowerMessage.includes('help') || lowerMessage.includes('what can you do') || lowerMessage.includes('capabilities')) {
        const hint = "Try: 'Help with farming', 'Recommend a product for pipeline monitoring', 'Tell me about Caelus', 'Compare GeoTrace and OrbitFence'.";
        return `I match your needs to the right PF-GEOINT solution and give simple next steps. ${hint}`;
      }
      
      // Default response with product overview
      return "I can help best if you say what you need and where. Try: 'Help with urban traffic', 'Recommend a product for flood risk', 'Tell me about Digital Twin', 'Compare GeoTrace and LogiTrack'.";
    }

    // Initialize chatbot on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Auto-open chatbot after 3 seconds
      setTimeout(() => {
        if (!chatbotOpen) {
          toggleChatbot();
        }
      }, 3000);
    });
  </script>
</body>
</html>
