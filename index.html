 
 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PF-GEOINT</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Exo+2:wght@300;400;500;600;700;800&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Exo 2', -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 0;
      background: 
        radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(123, 0, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(0, 255, 150, 0.05) 0%, transparent 50%),
        linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0a0a0a 100%);
      background-size: 400% 400%, 300% 300%, 200% 200%, 100% 100%;
      animation: 
        gradientShift 15s ease-in-out infinite,
        floatingOrbs 20s ease-in-out infinite;
      color: #e0e0e0;
      overflow-x: hidden;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(0, 212, 255, 0.03) 2px,
          rgba(0, 212, 255, 0.03) 4px
        );
      pointer-events: none;
      z-index: 1;
    }
    .container {
      max-width: 1500px;
      margin: 0 auto;
      padding: 30px;
      position: relative;
      z-index: 2;
    }
    
    .header {
      text-align: center;
      padding: 100px 0;
      background: 
        radial-gradient(ellipse 1200px 600px at 50% -20%, rgba(0,212,255,0.2), transparent 60%),
        radial-gradient(ellipse 800px 400px at 50% 120%, rgba(123,0,255,0.15), transparent 70%),
        linear-gradient(180deg, rgba(20,35,61,0.9) 0%, rgba(15,27,46,0.95) 50%, rgba(10,10,10,0.98) 100%);
      position: relative;
      overflow: hidden;
      border-bottom: 2px solid transparent;
      border-image: linear-gradient(90deg, transparent, rgba(0,212,255,0.5), transparent) 1;
      backdrop-filter: blur(10px);
    }
    
    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 20px,
          rgba(0,212,255,0.05) 20px,
          rgba(0,212,255,0.05) 40px
        );
      animation: scanLines 3s linear infinite;
    }
    
    .header h1 {
      margin: 0;
      font-family: 'Orbitron', monospace;
      font-size: 4.2em;
      font-weight: 900;
      background: linear-gradient(45deg, #00d4ff, #7b00ff, #00ff96, #ff6b35);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-transform: uppercase;
      letter-spacing: 4px;
      text-shadow: 
        0 0 20px rgba(0, 212, 255, 0.8),
        0 0 40px rgba(123, 0, 255, 0.6),
        0 0 60px rgba(0, 255, 150, 0.4);
      animation: 
        fadeIn 1.5s ease-in-out,
        gradientShift 4s ease-in-out infinite,
        textGlow 2s ease-in-out infinite alternate;
      position: relative;
      z-index: 3;
    }
    
    .header h1::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(0,212,255,0.1), transparent);
      animation: shimmer 2s ease-in-out infinite;
      z-index: -1;
    }
    
    .logo-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      position: relative;
      z-index: 3;
    }
    
    .logo {
      height: 80px;
      width: auto;
      max-width: 200px;
      object-fit: contain;
      filter: drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
      transition: all 0.3s ease;
      animation: float 3s ease-in-out infinite;
    }
    
    .logo:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 30px rgba(0, 212, 255, 0.5));
    }
    .header::before {
      content: '';
      position: absolute;
      top: -80px;
      left: -80px;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle at 30% 30%, rgba(0,212,255,0.35), transparent 60%);
      filter: blur(12px);
      animation: floatBlob 10s ease-in-out infinite alternate;
    }
    .header::after {
      content: '';
      position: absolute;
      bottom: -100px;
      right: -120px;
      width: 360px;
      height: 360px;
      background: radial-gradient(circle at 70% 70%, rgba(123,0,255,0.25), transparent 60%);
      filter: blur(14px);
      animation: floatBlob 12s ease-in-out infinite alternate-reverse;
    }
    .intro {
      text-align: center;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      margin: 20px 0;
      animation: slideIn 0.8s ease-out;
    }
    .intro p {
      font-size: 1.3em;
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.6;
      color: #b0c4de;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 25px;
      padding: 30px 0;
    }
    .product-card {
      background: 
        linear-gradient(135deg, rgba(17, 30, 54, 0.8) 0%, rgba(25, 45, 75, 0.6) 50%, rgba(15, 25, 45, 0.9) 100%);
      border-radius: 20px;
      padding: 32px;
      text-align: center;
      transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      border: 2px solid transparent;
      backdrop-filter: blur(20px);
      cursor: pointer;
    }
    
    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(135deg, rgba(0,212,255,0.1) 0%, transparent 50%, rgba(123,0,255,0.1) 100%);
      opacity: 0;
      transition: opacity 400ms ease;
      z-index: 1;
    }
    
    .product-card::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #00d4ff, #7b00ff, #00ff96, #ff6b35);
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 400ms ease;
    }
    
    .product-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 15px 40px rgba(0, 212, 255, 0.1),
        0 0 20px rgba(123, 0, 255, 0.08),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
    }
    
    .product-card:hover::before {
      opacity: 0.6;
    }
    
    .product-card:hover::after {
      opacity: 0.3;
    }
    
    .product-card:hover .product-card h3 {
      color: #00d4ff;
      text-shadow: 0 0 10px rgba(0, 212, 255, 0.4);
    }
    .product-card h3 {
      margin: 0 0 20px;
      font-family: 'Orbitron', monospace;
      font-size: 1.8em;
      font-weight: 700;
      background: linear-gradient(45deg, #00d4ff, #7b00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
      transition: all 400ms ease;
      position: relative;
      z-index: 2;
    }
    
    .product-card p {
      font-size: 1em;
      color: #b8c5d1;
      line-height: 1.6;
      margin-bottom: 24px;
      font-weight: 400;
      position: relative;
      z-index: 2;
    }
    
    .product-card button {
      position: relative;
      background: linear-gradient(135deg, #00d4ff 0%, #7b00ff 50%, #00ff96 100%);
      background-size: 200% 200%;
      color: white;
      border: none;
      padding: 14px 32px;
      border-radius: 35px;
      cursor: pointer;
      font-family: 'Exo 2', sans-serif;
      font-size: 1.1em;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        0 8px 25px rgba(0, 212, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      overflow: hidden;
      z-index: 2;
    }
    
    .product-card button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      transition: left 600ms ease;
    }
    
    .product-card button:hover {
      transform: translateY(-2px) scale(1.03);
      box-shadow: 
        0 10px 25px rgba(0, 212, 255, 0.15),
        0 0 15px rgba(123, 0, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      background-position: 100% 0;
    }
    
    .product-card button:hover::before {
      left: 100%;
    }
    
    .product-card button:active {
      transform: translateY(-1px) scale(1.02);
    }
    .product-card button:active { transform: translateY(0); }
    .product-card button .ripple {
      position: absolute;
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 600ms linear;
      background: rgba(255,255,255,0.7);
      pointer-events: none;
    }
    .back-button {
      position: relative;
      background: linear-gradient(90deg, #ff00ff, #00d4ff);
      color: white;
      border: none;
      padding: 12px 26px;
      border-radius: 28px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
      text-transform: uppercase;
      transition: transform 200ms ease, box-shadow 200ms ease;
      margin-top: 20px;
      box-shadow: 0 6px 18px rgba(255, 0, 255, 0.25);
      overflow: hidden;
    }
    .back-button:hover {
      box-shadow: 0 10px 26px rgba(255, 0, 255, 0.35);
      transform: translateY(-2px);
    }
    .back-button .ripple { position: absolute; border-radius: 50%; transform: scale(0); animation: ripple 600ms linear; background: rgba(255,255,255,0.7); pointer-events: none; }
    
    /* AI Chatbot Styles */
    .chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      width: 380px;
      max-height: 600px;
      background: 
        linear-gradient(135deg, rgba(17, 30, 54, 0.95) 0%, rgba(25, 45, 75, 0.9) 50%, rgba(15, 25, 45, 0.98) 100%);
      border: 2px solid transparent;
      border-radius: 20px;
      backdrop-filter: blur(20px);
      box-shadow: 
        0 15px 40px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(0, 212, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateY(100%);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }
    
    .chatbot-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, rgba(0, 212, 255, 0.35), rgba(123, 0, 255, 0.25));
      border-radius: 22px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .chatbot-container:hover::before {
      opacity: 0.35;
    }

    /* Subtle badge for product cards */
    .product-badge {
      display: inline-block;
      background: linear-gradient(90deg, rgba(0, 212, 255, 0.15), rgba(123, 0, 255, 0.15));
      color: #bfeaff;
      border: 1px solid rgba(0, 212, 255, 0.25);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.8em;
      font-weight: 600;
      letter-spacing: 0.3px;
      margin-bottom: 8px;
    }
    
    .chatbot-container.open {
      transform: translateY(0);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(0, 212, 255, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
    }
    
    .chatbot-header {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      padding: 16px 20px;
      border-radius: 18px 18px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      animation: gradientShift 6s ease-in-out infinite;
    }
    
    .chatbot-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shimmer 4s ease-in-out infinite;
    }
    .chatbot-header h3 {
      margin: 0;
      font-family: 'Orbitron', monospace;
      font-size: 1.2em;
      font-weight: 700;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
      position: relative;
      z-index: 2;
    }
    
    .chatbot-toggle {
      background: rgba(255, 255, 255, 0.15);
      border: none;
      color: white;
      font-size: 1.3em;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    
    .chatbot-toggle:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05);
    }
    
    .chatbot-messages {
      height: 350px;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      background: rgba(255, 255, 255, 0.01);
    }
    
    .chatbot-messages::-webkit-scrollbar {
      width: 6px;
    }
    
    .chatbot-messages::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }
    
    .chatbot-messages::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
    
    .chatbot-message {
      max-width: 85%;
      padding: 14px 18px;
      border-radius: 18px;
      font-size: 0.95em;
      line-height: 1.5;
      position: relative;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    
    .chatbot-message.user {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e0e0;
      align-self: flex-end;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    
    .chatbot-message.bot {
      background: rgba(255, 255, 255, 0.08);
      color: #bcd1e6;
      align-self: flex-start;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    
    .chatbot-message:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 15px rgba(0, 212, 255, 0.15);
    }
    .chatbot-input-container {
      padding: 16px 20px;
      border-top: 2px solid transparent;
      border-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent) 1;
      display: flex;
      gap: 12px;
      background: rgba(255, 255, 255, 0.02);
    }
    
    .chatbot-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 12px 18px;
      color: #e0e0e0;
      font-size: 0.95em;
      font-family: 'Exo 2', sans-serif;
      outline: none;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .chatbot-input:focus {
      border-color: rgba(255, 255, 255, 0.3);
      box-shadow: 
        0 0 10px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }
    
    .chatbot-input::placeholder {
      color: #a0b0c0;
      font-style: italic;
    }
    
    .chatbot-send {
      background: rgba(255, 255, 255, 0.15);
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2em;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 
        0 3px 10px rgba(0, 212, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      position: relative;
      overflow: hidden;
    }
    
    .chatbot-send::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }
    
    .chatbot-send:hover {
      transform: scale(1.03) translateY(-1px);
      box-shadow: 
        0 4px 15px rgba(0, 212, 255, 0.2),
        0 0 10px rgba(123, 0, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      background-position: 100% 0;
    }
    
    .chatbot-send:hover::before {
      left: 100%;
    }
    
    .chatbot-send:active {
      transform: scale(1.05) translateY(-1px);
    }
    
    .chatbot-send:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      background: rgba(128, 128, 128, 0.3);
    }
    .chatbot-typing {
      display: none;
      align-items: center;
      gap: 6px;
      padding: 12px 18px;
      background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(0, 212, 255, 0.05) 100%);
      border-radius: 18px;
      max-width: 100px;
      align-self: flex-start;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .chatbot-typing span {
      width: 8px;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
    }
    
    .chatbot-typing span:nth-child(2) { 
      animation-delay: 0.2s; 
    }
    
    .chatbot-typing span:nth-child(3) { 
      animation-delay: 0.4s; 
    }
    
    @keyframes typing {
      0%, 60%, 100% { 
        transform: translateY(0) scale(1); 
        opacity: 0.7;
      }
      30% { 
        transform: translateY(-12px) scale(1.2); 
        opacity: 1;
      }
    }
    .image-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 20px;
    }
    .image-card {
      background: #1e2a44;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      max-width: 48%;
    }
    .image-card img {
      width: 100%;
      max-height: 700px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
      object-fit: contain;
      cursor: zoom-in;
    }
    .image-card p.note {
      font-size: 0.9em;
      color: #ff6666;
      margin-top: 10px;
    }
    /* Before-After comparison */
    .compare-card {
      background: rgba(17, 30, 54, 0.55);
      border: 1px solid rgba(0, 212, 255, 0.15);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(8px);
      width: 100%;
      max-width: 1200px;
      margin: 6px auto 16px;
    }
    .ba-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
      background: #0f1b2e;
    }
    .ba-wrapper { position: relative; width: 100%; height: 100%; }
    .ba-bottom, .ba-top img { display: block; width: 100%; height: auto; user-select: none; }
    .ba-top { position: absolute; inset: 0; width: 50%; overflow: hidden; }
    .ba-divider {
      position: absolute;
      top: 0; bottom: 0;
      width: 2px;
      background: rgba(255, 255, 255, 0.4);
      box-shadow: 0 0 5px rgba(255, 255, 255, 0.2);
      transform: translateX(-1px);
      pointer-events: none;
    }
    .ba-handle {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 22px; height: 22px;
      border-radius: 50%;
      background: linear-gradient(135deg, #00d4ff, #7b00ff);
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      border: 2px solid rgba(255,255,255,0.85);
      pointer-events: none;
    }
    .ba-controls { display: flex; align-items: center; gap: 12px; margin-top: 12px; }
    .ba-controls label { color: #bcd1e6; font-size: 0.95em; }
    .ba-range { flex: 1; appearance: none; -webkit-appearance: none; height: 6px; border-radius: 999px; background: rgba(255,255,255,0.15); outline: none; }
    .ba-range::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: #00d4ff; border: 2px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.35); cursor: pointer; }
    .ba-range::-moz-range-thumb { width: 18px; height: 18px; border-radius: 50%; background: #00d4ff; border: 2px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.35); cursor: pointer; }
    /* Interpretation/info card */
    .info-card {
      text-align: left;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(0, 212, 255, 0.15);
      border-radius: 10px;
      padding: 14px 16px;
      margin-top: 14px;
    }
    .info-card h4 {
      margin: 0 0 8px 0;
      color: #00d4ff;
      font-size: 1.05em;
      font-weight: 600;
    }
    .info-card ul {
      margin: 8px 0 0 18px;
      padding: 0;
      color: #bcd1e6;
      line-height: 1.5;
      font-size: 0.95em;
    }
    .info-card li b { color: #e8f4ff; }
    /* Summary/conclusion card */
    .summary-card {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(0, 212, 255, 0.18);
      border-radius: 14px;
      padding: 18px 20px;
      margin: 24px 0 8px 0;
      box-shadow: 0 8px 28px rgba(0,0,0,0.25);
    }
    .summary-card h3 {
      margin: 0 0 10px 0;
      color: #7adfff;
      font-size: 1.25em;
      letter-spacing: 0.3px;
    }
    .summary-card ul {
      margin: 10px 0 0 18px;
      padding: 0;
      color: #c8d8ea;
      line-height: 1.6;
      font-size: 1em;
    }
    .summary-card p { color: #bcd1e6; margin: 12px 0 0 0; }
    /* Image modal (click-to-zoom) */
    .img-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(2px);
    }
    .img-modal img {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 90vw;
      max-height: 90vh;
      border-radius: 10px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
    }
    .img-modal .close {
      position: absolute;
      top: 16px;
      right: 24px;
      font-size: 32px;
      color: #ffffff;
      cursor: pointer;
      user-select: none;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes gradientShift {
      0%, 100% { 
        background-position: 0% 50%, 0% 0%, 0% 0%, 0% 0%; 
      }
      25% { 
        background-position: 100% 50%, 50% 0%, 25% 0%, 0% 0%; 
      }
      50% { 
        background-position: 50% 100%, 100% 50%, 50% 25%, 0% 0%; 
      }
      75% { 
        background-position: 0% 50%, 50% 100%, 75% 50%, 0% 0%; 
      }
    }
    
    @keyframes floatingOrbs {
      0%, 100% { 
        background-position: 0% 0%, 100% 100%, 50% 50%, 0% 0%; 
      }
      25% { 
        background-position: 100% 0%, 0% 100%, 25% 75%, 0% 0%; 
      }
      50% { 
        background-position: 100% 100%, 0% 0%, 75% 25%, 0% 0%; 
      }
      75% { 
        background-position: 0% 100%, 100% 0%, 25% 75%, 0% 0%; 
      }
    }
    
    @keyframes textGlow {
      0% { 
        text-shadow: 
          0 0 20px rgba(0, 212, 255, 0.8),
          0 0 40px rgba(123, 0, 255, 0.6),
          0 0 60px rgba(0, 255, 150, 0.4);
      }
      100% { 
        text-shadow: 
          0 0 30px rgba(0, 212, 255, 1),
          0 0 60px rgba(123, 0, 255, 0.8),
          0 0 90px rgba(0, 255, 150, 0.6);
      }
    }
    
    @keyframes shimmer {
      0% { 
        transform: translateX(-100%) skewX(-15deg); 
      }
      100% { 
        transform: translateX(200%) skewX(-15deg); 
      }
    }
    
    @keyframes scanLines {
      0% { 
        transform: translateY(-100%); 
      }
      100% { 
        transform: translateY(100vh); 
      }
    }
    
    @keyframes floatBlob {
      0%, 100% { 
        transform: translate(0, 0) rotate(0deg) scale(1); 
      }
      25% { 
        transform: translate(40px, -40px) rotate(90deg) scale(1.1); 
      }
      50% { 
        transform: translate(-30px, 30px) rotate(180deg) scale(0.9); 
      }
      75% { 
        transform: translate(20px, -20px) rotate(270deg) scale(1.05); 
      }
    }
    
    @keyframes ripple {
      0% { 
        transform: scale(0); 
        opacity: 1; 
      }
      100% { 
        transform: scale(4); 
        opacity: 0; 
      }
    }
    
    @keyframes zoomIn {
      from { 
        opacity: 0; 
        transform: translate(-50%, -50%) scale(0.92); 
      }
      to { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1); 
      }
    }
    
    @keyframes pulse {
      0%, 100% { 
        transform: scale(1); 
        opacity: 1; 
      }
      50% { 
        transform: scale(1.05); 
        opacity: 0.8; 
      }
    }
    
    @keyframes rotate {
      from { 
        transform: rotate(0deg); 
      }
      to { 
        transform: rotate(360deg); 
      }
    }
    
    @keyframes float {
      0%, 100% { 
        transform: translateY(0px); 
      }
      50% { 
        transform: translateY(-20px); 
      }
    }
    @media (max-width: 600px) {
      .header h1 {
        font-size: 2.2em;
      }
      .intro p {
        font-size: 1.1em;
      }
      .products {
        grid-template-columns: 1fr;
      }
      .product-card {
        padding: 20px;
      }
      .image-card {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>PF-GEOINT</h1>
  </div>
  <div class="container">
    <div class="intro">
      <p>Discover PF-GEOINT, our state-of-the-art Geospatial Intelligence platform. Powered by advanced satellite imagery, AI-driven analytics, and real-time data, our solutions transform decision-making across industries.</p>
    </div>
    <div id="main-products" class="products">
      <div class="product-card">
        <h3>Defense & Security</h3>
        <p>Advanced surveillance, threat detection, and mission planning with high-resolution imagery and AI-powered insights.</p>
        <button onclick="learnMore('defense')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Agriculture</h3>
        <p>Boost yields with precision farming, soil analysis, and real-time weather monitoring for smarter agriculture.</p>
        <button onclick="learnMore('agriculture')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Urban Planning</h3>
        <p>Design future-ready cities with 3D mapping, infrastructure monitoring, and population analytics.</p>
        <button onclick="learnMore('urban-planning')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Environmental Monitoring</h3>
        <p>Track climate change, deforestation, and resources with cutting-edge GEOINT analytics.</p>
        <button onclick="learnMore('environment')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Transportation & Logistics</h3>
        <p>Optimize routes and enhance logistics with real-time traffic analysis and geospatial data.</p>
        <button onclick="learnMore('transportation')">Explore Now</button>
      </div>
      <div class="product-card">
        <h3>Energy & Utilities</h3>
        <p>Monitor pipelines, renewable energy sites, and grid performance with precision geospatial tools.</p>
        <button onclick="learnMore('energy')">Explore Now</button>
      </div>
    </div>

    <!-- Agriculture Solutions Section -->
    <div id="agriculture-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Agriculture Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>Crop Health Assessment</h3>
          <p>Evaluate crop vitality and water stress using advanced indices like NDVI and NDWI for your area of interest.</p>
          <button onclick="showCropHealth()">View Details</button>
        </div>
        <!-- Add more agriculture solutions here as needed -->
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Electrical Utility Detail Section -->
    <div id="electrical-utility" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Electrical Utility Network</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>Grid Monitoring & Analysis</h3>
          <p>High-resolution geospatial intelligence for transmission lines, substations, and distribution networks. Detect vegetation encroachment, assess outage impact, and prioritize maintenance with AI-driven insights.</p>
          <img id="electricalImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/electricity.png" alt="Electrical Utility Network" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;" onerror="this.onerror=null; this.src='https://github.com/PFG-Sanusi/GEOINT/raw/main/electricity.png';">
          <p class="note">Electrical utility network overview</p>
          <div class="info-card">
            <h4>Key Capabilities</h4>
            <ul>
              <li>Medium-voltage primary feeders with network tracing (E-MV-PI-### labels)</li>
              <li>Transformer/pole locations with connected service drops</li>
              <li>Customer/service connection points mapped to buildings</li>
              <li>Incident/outage cluster visualization for rapid impact assessment</li>
              <li>Unknown/unnamed segment flagging to prioritize data cleanup</li>
              <li>Street context and landmarks to guide field crew navigation</li>
            </ul>
          </div>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToEnergy()">Back to Energy & Utilities</button>
      </div>
    </div>

    <!-- Defense & Security Solutions Section -->
    <div id="defense-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Defense & Security Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF-GEOTRACE</h3>
          <p>Cutting-edge geolocation platform redefining tactical dominance. Fuses real-time GPS precision, dynamic marker systems, and strategic buffer zones to transform coordinates into mission-critical intelligence.</p>
          <button onclick="showGeoTrace()">View Details</button>
        </div>
        <div class="product-card" onclick="window.open('https://pfg-sanusi.github.io/PF-GEOTRACE/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Launch PF-GEOTRACE now and explore its capabilities.</p>
        </div>
        <!-- Add more defense solutions here as needed -->
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Urban Planning Solutions Section -->
    <div id="urban-planning-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Urban Planning Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>PF-DIGITAL TWIN</h3>
          <p>Revolutionary digital twin technology for smart cities. Create comprehensive 3D city models with real-time data integration, infrastructure monitoring, and predictive analytics for urban development.</p>
          <button onclick="showDigitalTwin()">View Details</button>
        </div>
        <div class="product-card">
          <span class="product-badge">New</span>
          <h3>PF ASSETWATCH</h3>
          <p><b>Asset health & change detection.</b> Monitor critical assets and streamline maintenance workflows.</p>
          <button onclick="showAssetWatch()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- Energy & Utilities Solutions Section -->
    <div id="energy-solutions" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Energy & Utilities Solutions</h2>
      <div class="products">
        <div class="product-card">
          <h3>Electrical Utility Network</h3>
          <p>Advanced monitoring and analysis of electrical utility networks using satellite imagery and AI-powered analytics for optimal grid performance.</p>
          <img id="electricityImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/electricity.png" alt="Electrical Utility Network" style="width: 100%; max-height: 300px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; margin-bottom: 15px;" onerror="this.onerror=null; this.src='https://github.com/PFG-Sanusi/GEOINT/raw/main/electricity.png';">
          <button onclick="showElectricalUtility()">View Details</button>
        </div>
        <div class="product-card">
          <h3>Pipeline Monitoring</h3>
          <p>Real-time pipeline integrity monitoring with leak detection and maintenance optimization using geospatial intelligence.</p>
          <button onclick="showPipelineMonitoring()">View Details</button>
        </div>
        <div class="product-card">
          <h3>Renewable Energy Planning</h3>
          <p>Site assessment and optimization for solar, wind, and other renewable energy installations using advanced geospatial analysis.</p>
          <button onclick="showRenewableEnergy()">View Details</button>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToMain()">Back to Sectors</button>
      </div>
    </div>

    <!-- PF-GEOTRACE Section -->
    <div id="geotrace" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-GEOTRACE</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>PF-GEOTRACE Platform</h3>
          <p>Cutting-edge geolocation platform redefining tactical dominance</p>
          <img id="geotraceImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/geotrace.jpeg" alt="PF-GEOTRACE Platform" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">PF-GEOTRACE platform interface</p>
          <div class="info-card">
            <h4>Platform Features</h4>
            <ul>
              <li><b>Real-time GPS Precision</b>: Ultra-accurate location tracking and positioning</li>
              <li><b>Dynamic Marker Systems</b>: Interactive markers for tactical operations</li>
              <li><b>Strategic Buffer Zones</b>: Customizable security and operational boundaries</li>
              <li><b>Satellite Imagery</b>: High-resolution satellite data integration</li>
              <li><b>Versatile Map Layers</b>: Multiple mapping options for different scenarios</li>
              <li><b>Rapid Data Export</b>: Quick export capabilities for mission-critical data</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="summary-card">
        <h3>PF-GEOTRACE – Mission-Critical Intelligence</h3>
        <p><b>PF-GEOTRACE</b> is a cutting-edge geolocation platform redefining tactical dominance. It fuses real-time GPS precision, dynamic marker systems, and strategic buffer zones to transform coordinates into mission-critical intelligence. With satellite imagery, versatile map layers, and rapid data export, it's engineered for unparalleled operational superiority.</p>
        <p><b>Applications:</b> Military operations, border security, tactical surveillance, mission planning, emergency response, and critical infrastructure protection.</p>
      </div>
      <div class="products">
        <div class="product-card" onclick="window.open('https://pfg-sanusi.github.io/PF-GEOTRACE/', '_blank')" style="cursor: pointer;">
          <h3>Free Trial</h3>
          <p>Start your PF-GEOTRACE free trial in a new tab.</p>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToDefense()">Back to Defense Solutions</button>
      </div>
    </div>

    <!-- PF-DIGITAL TWIN Section -->
    <div id="digital-twin" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF-DIGITAL TWIN</h2>
      <div class="image-container">
        <div class="image-card">
          <h3>Lagos Digital Twin</h3>
          <p>Comprehensive 3D model of Lagos, Nigeria showing urban infrastructure and development patterns.</p>
          <img id="lagosImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/lagos.png" alt="Lagos Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Lagos city digital twin model</p>
        </div>
        <div class="image-card">
          <h3>Burj Khalifa Digital Twin</h3>
          <p>High-resolution 3D model of Burj Khalifa and surrounding Dubai infrastructure.</p>
          <img id="burjImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/burj%20khal.png" alt="Burj Khalifa Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Burj Khalifa and Dubai digital twin</p>
        </div>
        <div class="image-card">
          <h3>Hong Kong Digital Twin</h3>
          <p>Detailed 3D representation of Hong Kong's skyline and urban density patterns.</p>
          <img id="hongkongImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/hongkong.png" alt="Hong Kong Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Hong Kong city digital twin model</p>
        </div>
        <div class="image-card">
          <h3>Madrid Digital Twin</h3>
          <p>Complete 3D model of Madrid showing historical and modern urban development.</p>
          <img id="madridImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/madrid.png" alt="Madrid Digital Twin" style="width: 100%; max-height: 400px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;">
          <p class="note">Madrid city digital twin model</p>
        </div>
      </div>
      
      <div class="info-card">
        <h4>PF-DIGITAL TWIN Capabilities</h4>
        <ul>
          <li><b>3D City Modeling</b>: High-resolution digital replicas of urban environments</li>
          <li><b>Real-time Data Integration</b>: Live data feeds from sensors, traffic, and utilities</li>
          <li><b>Infrastructure Monitoring</b>: Track the health and performance of city assets</li>
          <li><b>Predictive Analytics</b>: Forecast urban growth, traffic patterns, and resource needs</li>
          <li><b>Simulation & Planning</b>: Test urban development scenarios before implementation</li>
          <li><b>Multi-scale Analysis</b>: From individual buildings to entire metropolitan areas</li>
          <li><b>Interactive Visualization</b>: Immersive 3D exploration and data exploration</li>
          <li><b>API Integration</b>: Connect with existing city management systems</li>
        </ul>
      </div>
      
      <div class="summary-card">
        <h3>PF-DIGITAL TWIN – Smart City Intelligence</h3>
        <p><b>PF-DIGITAL TWIN</b> revolutionizes urban planning and city management through advanced digital twin technology. Our platform creates comprehensive 3D models of cities, integrating real-time data from multiple sources to provide unprecedented insights into urban dynamics.</p>
        <p><b>Key Features:</b></p>
        <ul>
          <li><b>Comprehensive City Modeling</b>: Create detailed 3D replicas of entire cities with sub-meter accuracy</li>
          <li><b>Real-time Monitoring</b>: Track traffic flows, energy usage, air quality, and infrastructure health</li>
          <li><b>Predictive Planning</b>: Simulate urban development scenarios and their impacts</li>
          <li><b>Smart Infrastructure</b>: Monitor and optimize utilities, transportation, and public services</li>
          <li><b>Citizen Engagement</b>: Interactive platforms for public participation in urban planning</li>
        </ul>
        <p><b>Applications:</b> Smart city development, urban planning, infrastructure management, disaster response, environmental monitoring, traffic optimization, and sustainable development planning.</p>
      </div>
      
      <div style="text-align: center;">
        <button class="back-button" onclick="backToUrbanPlanning()">Back to Urban Planning Solutions</button>
      </div>
    </div>

    <!-- PF ASSETWATCH Section -->
    <div id="asset-watch" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">PF ASSETWATCH</h2>
      <div class="image-container">
        <div class="image-card" style="max-width: 100%;">
          <h3>Urban Asset Monitoring</h3>
          <p>Detect change, monitor condition, and prioritize maintenance for critical urban assets like bridges, roads, facilities, and utilities.</p>
          <img id="assetwatchImage" loading="lazy" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/PF-ASSET%20WATCH.png" alt="PF ASSETWATCH" style="width: 100%; max-height: 500px; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2); object-fit: contain; cursor: zoom-in;" onerror="this.onerror=null; this.src='https://github.com/PFG-Sanusi/GEOINT/raw/main/PF-ASSET%20WATCH.png';">
          <p class="note">Citywide asset visibility with AI-assisted insights</p>
          <div class="info-card">
            <h4>Key Capabilities</h4>
            <ul>
              <li>Change detection for asset degradation and encroachment</li>
              <li>Condition scoring and maintenance prioritization</li>
              <li>Geotagged incidents with trend analytics</li>
              <li>Work order integration and SLA tracking</li>
              <li>Map-first dashboards for planners and field crews</li>
            </ul>
          </div>
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToUrbanPlanning()">Back to Urban Planning Solutions</button>
      </div>
    </div>

    <!-- Crop Health Assessment Section -->
    <div id="crop-health" style="display: none;">
      <h2 style="text-align: center; color: #00d4ff;">Crop Health Assessment</h2>
      <div class="image-container">
        <div class="image-card">
          <h3>NDVI Map</h3>
          <p>Normalized Difference Vegetation Index showing crop vigor.</p>
          <div id="ndviContainer">
            <img id="ndviImage" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png" alt="NDVI Map">
            <div id="ndviControls" style="margin-top: 10px;">
              <button onclick="toggleNDVIView()" style="background: linear-gradient(90deg, #00d4ff, #7b00ff); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9em; font-weight: 500;">Next: 3D View</button>
            </div>
          </div>
          <p class="note">Static NDVI image from repository.</p>
          <div class="info-card">
            <h4>NDVI Interpretation (Range: -0.099 to 0.423)</h4>
            <ul>
              <li><b>-0.099 to 0.126</b>: Non-vegetated or very sparse cover (bare soil/water/dead).</li>
              <li><b>0.127 to 0.169</b>: Low-density vegetation; early growth or stressed plants.</li>
              <li><b>0.170 to 0.200</b>: Moderate vegetation health; healthy grass or sparse crops.</li>
              <li><b>0.201 to 0.236</b>: Denser vegetation; good photosynthetic activity.</li>
              <li><b>0.237 to 0.423</b>: Highest density; mature crops/dense healthy vegetation.</li>
            </ul>
          </div>
        </div>
        <div class="summary-card">
          <h3>Crop Health Assessment – Summary</h3>
          <ul>
            <li><b>Healthy and well-watered crops (best fields)</b>: Green, well-hydrated areas with strong development; likely good yields if conditions persist.</li>
            <li><b>Healthy but dry crops</b>: Green fields showing early water limitation; need timely rain or irrigation to maintain vigor.</li>
            <li><b>Wet but weak crops</b>: Adequate moisture but poor growth—possible waterlogging, pests, or disease; inspect on ground.</li>
            <li><b>Poor or bare areas</b>: Little/no vegetation—fallow, late-planted, or highly stressed; yields likely low.</li>
          </ul>
          <p><b>Overall</b>: Conditions are fair to good with pockets of water stress and localized weak growth despite water. Maintain strong fields, supplement water where possible, and investigate weak or flooded zones.</p>
        </div>
        <div class="image-card">
          <h3>NDWI Map</h3>
          <p>Normalized Difference Water Index indicating water stress.</p>
          <div id="ndwiContainer">
            <img id="ndwiImage" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png" alt="NDWI Map">
            <div id="ndwiControls" style="margin-top: 10px;">
              <button onclick="toggleNDWIView()" style="background: linear-gradient(90deg, #00d4ff, #7b00ff); color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9em; font-weight: 500;">Next: 3D View</button>
            </div>
          </div>
          <p class="note">Static NDWI image from repository.</p>
          <div class="info-card">
            <h4>NDWI Interpretation (Range: -0.656 to 0.260)</h4>
            <ul>
              <li><b>-0.656 to -0.071</b>: Non-water surfaces (urban, bare soil) or very dry vegetation.</li>
              <li><b>-0.070 to -0.028</b>: Dry/sparse vegetation; limited water availability; mild–moderate stress.</li>
              <li><b>-0.027 to 0.022</b>: Moderate vegetation water content; average soil moisture.</li>
              <li><b>0.023 to 0.087</b>: Healthier vegetation with higher water content; adequate moisture.</li>
              <li><b>0.088 to 0.260</b>: Highest water content; well-hydrated crops or local surface water.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="compare-card">
        <h3 style="margin: 0 0 12px; color: #00d4ff;">Compare NDVI vs NDWI</h3>
        <div id="ba1" class="ba-container">
          <div class="ba-wrapper">
            <img class="ba-bottom" src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png" alt="NDWI Base">
            <div class="ba-top" style="width: 50%;">
              <img src="https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png" alt="NDVI Overlay">
            </div>
            <div class="ba-divider" style="left: 50%;"></div>
            <div class="ba-handle" style="left: 50%;"></div>
          </div>
        </div>
        <div class="ba-controls">
          <label for="baRange">Slide to compare</label>
          <input id="baRange" class="ba-range" type="range" min="0" max="100" value="50" oninput="updateBeforeAfter('ba1', this.value)">
        </div>
      </div>
      <div style="text-align: center;">
        <button class="back-button" onclick="backToAgriculture()">Back to Agriculture Solutions</button>
      </div>
    </div>
  </div>
  <!-- Fullscreen image modal -->
  <div id="imgModal" class="img-modal" onclick="onModalBackgroundClick(event)">
    <span class="close" onclick="closeModal()">×</span>
    <img id="modalImg" src="" alt="Expanded view" />
  </div>

  <!-- AI Chatbot -->
  <div id="chatbot" class="chatbot-container">
    <div class="chatbot-header" onclick="toggleChatbot()">
      <h3>🤖 PF-GEOINT Assistant</h3>
      <button class="chatbot-toggle" id="chatbotToggle">−</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="chatbot-message bot">
        👋 Hello! I'm your PF-GEOINT assistant. I can help you find the right geospatial solutions for your needs. What can I help you with today?
      </div>
    </div>
    <div class="chatbot-typing" id="chatbotTyping">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="chatbot-input-container">
      <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Ask about our solutions..." onkeypress="handleChatbotKeypress(event)">
      <button class="chatbot-send" id="chatbotSend" onclick="sendChatbotMessage()">→</button>
    </div>
  </div>
  <script>
    // Auto-hide logic for product badges (e.g., "New")
    (function initProductBadges() {
      try {
        const BADGE_KEY = 'assetwatch_new_badge_until';
        const THIRTY_DAYS_MS = 30 * 24 * 60 * 60 * 1000;
        const now = Date.now();
        let expiry = parseInt(localStorage.getItem(BADGE_KEY) || '0', 10);
        if (!expiry) {
          expiry = now + THIRTY_DAYS_MS;
          localStorage.setItem(BADGE_KEY, String(expiry));
        }

        const assetWatchCard = document.querySelector('#urban-planning-solutions .product-card:nth-child(2)');
        if (assetWatchCard) {
          const badge = assetWatchCard.querySelector('.product-badge');
          const hideBadge = () => { if (badge) badge.style.display = 'none'; };
          if (badge) {
            if (now > expiry) hideBadge();
            assetWatchCard.addEventListener('click', () => {
              hideBadge();
              localStorage.setItem(BADGE_KEY, String(now));
            }, { once: true });
          }
        }
      } catch (e) { /* fail silently */ }
    })();
    function learnMore(sector) {
      if (sector === 'agriculture') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('agriculture-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'defense') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('defense-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'urban-planning') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('urban-planning-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else if (sector === 'energy') {
        document.getElementById('main-products').style.display = 'none';
        const view = document.getElementById('energy-solutions');
        view.style.display = 'block';
        addEnterAnimation(view);
      } else {
        alert(`Explore PF-GEOINT solutions for ${sector}!`);
        // Replace with actual logic for other sectors
      }
    }

    function showCropHealth() {
      document.getElementById('agriculture-solutions').style.display = 'none';
      const view = document.getElementById('crop-health');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for images
      enableImageZoom('ndviImage');
      enableImageZoom('ndwiImage');
      // preload 3D images for faster switching
      preload3DImages();
    }

    function showGeoTrace() {
      document.getElementById('defense-solutions').style.display = 'none';
      const view = document.getElementById('geotrace');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for image
      enableImageZoom('geotraceImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showDigitalTwin() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('digital-twin');
      view.style.display = 'block';
      addEnterAnimation(view);
      // enable click-to-zoom for all digital twin images
      enableImageZoom('lagosImage');
      enableImageZoom('burjImage');
      enableImageZoom('hongkongImage');
      enableImageZoom('madridImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showAssetWatch() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('asset-watch');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('assetwatchImage');
    }

    function backToAgriculture() {
      document.getElementById('crop-health').style.display = 'none';
      const view = document.getElementById('agriculture-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToDefense() {
      document.getElementById('geotrace').style.display = 'none';
      const view = document.getElementById('defense-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToUrbanPlanning() {
      const dt = document.getElementById('digital-twin');
      if (dt) dt.style.display = 'none';
      const aw = document.getElementById('asset-watch');
      if (aw) aw.style.display = 'none';
      const view = document.getElementById('urban-planning-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showElectricalUtility() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('electrical-utility');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('electricalImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showPipelineMonitoring() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('pipeline-monitoring');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function showRenewableEnergy() {
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('renewable-energy');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToEnergy() {
      const electrical = document.getElementById('electrical-utility');
      if (electrical) electrical.style.display = 'none';
      const pipeline = document.getElementById('pipeline-monitoring');
      if (pipeline) pipeline.style.display = 'none';
      const renewable = document.getElementById('renewable-energy');
      if (renewable) renewable.style.display = 'none';
      const view = document.getElementById('energy-solutions');
      view.style.display = 'block';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function backToMain() {
      document.getElementById('agriculture-solutions').style.display = 'none';
      document.getElementById('defense-solutions').style.display = 'none';
      document.getElementById('urban-planning-solutions').style.display = 'none';
      document.getElementById('energy-solutions').style.display = 'none';
      const view = document.getElementById('main-products');
      view.style.display = 'grid';
      addEnterAnimation(view);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    function showAssetWatch() {
      document.getElementById('urban-planning-solutions').style.display = 'none';
      const view = document.getElementById('asset-watch');
      view.style.display = 'block';
      addEnterAnimation(view);
      enableImageZoom('assetwatchImage');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // No additional rendering required; both NDVI and NDWI use static images.

    function enableImageZoom(imageId) {
      const img = document.getElementById(imageId);
      if (img && !img._zoomEnabled) {
        img.addEventListener('click', () => openModal(img.src));
        img._zoomEnabled = true;
      }
    }

    function openModal(src) {
      const modal = document.getElementById('imgModal');
      const modalImg = document.getElementById('modalImg');
      modalImg.src = src;
      modal.style.display = 'block';
      modalImg.style.animation = 'none';
      void modalImg.offsetWidth;
      modalImg.style.animation = '';
      document.addEventListener('keydown', onEscClose);
    }

    function closeModal() {
      const modal = document.getElementById('imgModal');
      modal.style.display = 'none';
      document.removeEventListener('keydown', onEscClose);
    }

    function onEscClose(e) {
      if (e.key === 'Escape') closeModal();
    }

    function onModalBackgroundClick(e) {
      if (e.target && e.target.id === 'imgModal') closeModal();
    }
    document.addEventListener('click', function(e) {
      const isBack = e.target.classList.contains('back-button');
      const isProductBtn = e.target.tagName === 'BUTTON' && e.target.closest('.product-card');
      const btn = isBack || isProductBtn ? e.target : null;
      if (!btn) return;
      const rect = btn.getBoundingClientRect();
      const circle = document.createElement('span');
      const diameter = Math.max(rect.width, rect.height);
      const radius = diameter / 2;
      circle.style.width = circle.style.height = `${diameter}px`;
      circle.style.left = `${e.clientX - rect.left - radius}px`;
      circle.style.top = `${e.clientY - rect.top - radius}px`;
      circle.classList.add('ripple');
      const oldRipple = btn.querySelector('.ripple');
      if (oldRipple) oldRipple.remove();
      btn.appendChild(circle);
    }, true);

    function addEnterAnimation(el) {
      el.style.animation = 'fadeInUp 380ms ease-out';
      setTimeout(() => { el.style.animation = ''; }, 400);
    }

    // Before-After slider logic
    function updateBeforeAfter(containerId, percent) {
      const container = document.getElementById(containerId);
      if (!container) return;
      const top = container.querySelector('.ba-top');
      const divider = container.querySelector('.ba-divider');
      const handle = container.querySelector('.ba-handle');
      const p = Math.max(0, Math.min(100, Number(percent)));
      top.style.width = p + '%';
      divider.style.left = p + '%';
      handle.style.left = p + '%';
    }

    // Preload 3D images for faster switching
    let ndvi3DLoaded = false;
    let ndwi3DLoaded = false;
    function preload3DImages() {
      if (!ndvi3DLoaded) {
        const ndvi3D = new Image();
        ndvi3D.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_1D3D.png';
        ndvi3D.onload = () => { ndvi3DLoaded = true; };
      }
      if (!ndwi3DLoaded) {
        const ndwi3D = new Image();
        ndwi3D.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI_3DV.png';
        ndwi3D.onload = () => { ndwi3DLoaded = true; };
      }
    }

    // NDVI view toggle (2D <-> 3D)
    let ndviView3D = false;
    function toggleNDVIView() {
      const img = document.getElementById('ndviImage');
      const btn = document.querySelector('#ndviControls button');
      
      // Show loading state
      btn.textContent = 'Loading...';
      btn.disabled = true;
      
      if (ndviView3D) {
        // Switch to 2D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_NEW.png';
        img.alt = 'NDVI Map';
        btn.textContent = 'Next: 3D View';
        ndviView3D = false;
        btn.disabled = false;
      } else {
        // Switch to 3D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDVI_1D3D.png';
        img.alt = 'NDVI 3D Visualization';
        
        img.onload = () => {
          btn.textContent = 'Back: 2D View';
          btn.disabled = false;
        };
        
        img.onerror = () => {
          btn.textContent = 'Next: 3D View';
          btn.disabled = false;
          alert('Failed to load 3D visualization');
        };
        
        ndviView3D = true;
      }
    }

    // NDWI view toggle (2D <-> 3D)
    let ndwiView3D = false;
    function toggleNDWIView() {
      const img = document.getElementById('ndwiImage');
      const btn = document.querySelector('#ndwiControls button');
      
      // Show loading state
      btn.textContent = 'Loading...';
      btn.disabled = true;
      
      if (ndwiView3D) {
        // Switch to 2D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI._NEW1png.png';
        img.alt = 'NDWI Map';
        btn.textContent = 'Next: 3D View';
        ndwiView3D = false;
        btn.disabled = false;
      } else {
        // Switch to 3D
        img.src = 'https://raw.githubusercontent.com/PFG-Sanusi/GEOINT/main/NDWI_3DV.png';
        img.alt = 'NDWI 3D Visualization';
        
        img.onload = () => {
          btn.textContent = 'Back: 2D View';
          btn.disabled = false;
        };
        
        img.onerror = () => {
          btn.textContent = 'Next: 3D View';
          btn.disabled = false;
          alert('Failed to load 3D visualization');
        };
        
        ndwiView3D = true;
      }
    }

    // AI Chatbot functionality
    let chatbotOpen = false;
    const products = {
      'agriculture': {
        name: 'Agriculture Solutions',
        description: 'Advanced precision farming with NDVI/NDWI analysis, crop health monitoring, and yield optimization.',
        keywords: ['crop', 'farm', 'agriculture', 'yield', 'soil', 'weather', 'irrigation', 'vegetation', 'ndvi', 'ndwi', 'dying', 'stress', 'health', 'disease', 'pest', 'fertilizer', 'harvest', 'field', 'precision', 'monitoring', 'analysis', 'water', 'moisture', 'drought', 'flood', 'planting', 'seeding', 'growth', 'maturity', 'biomass', 'chlorophyll', 'canopy', 'leaf', 'root', 'photosynthesis'],
        features: [
          'Real-time crop health assessment using NDVI and NDWI indices',
          'Disease and pest detection through AI-powered image analysis',
          'Precision irrigation recommendations based on soil moisture data',
          'Weather-based farming guidance and alerts',
          'Yield prediction and optimization algorithms',
          'Soil health monitoring and nutrient analysis',
          'Field boundary mapping and management zones',
          'Historical data analysis for trend identification'
        ],
        applications: [
          'Crop monitoring and health assessment',
          'Precision agriculture and smart farming',
          'Disease and pest management',
          'Water resource optimization',
          'Yield prediction and planning',
          'Soil analysis and fertility management'
        ]
      },
      'defense': {
        name: 'Defense & Security Solutions',
        description: 'Advanced surveillance, threat detection, and mission planning with PF-GEOTRACE platform.',
        keywords: ['defense', 'security', 'surveillance', 'threat', 'mission', 'military', 'monitoring', 'intelligence', 'tactical', 'geotrace', 'gps', 'tracking', 'border', 'protection', 'operation', 'strategic', 'buffer', 'zone', 'target', 'reconnaissance', 'intelligence', 'analysis', 'threat', 'assessment', 'situational', 'awareness'],
        features: [
          'PF-GEOTRACE: Advanced geolocation and tracking platform',
          'Real-time GPS precision with dynamic marker systems',
          'Strategic buffer zones for tactical operations',
          'High-resolution satellite imagery analysis',
          'AI-powered threat detection and assessment',
          'Mission planning and execution support',
          'Border surveillance and monitoring',
          'Intelligence gathering and analysis'
        ],
        applications: [
          'Military operations and mission planning',
          'Border security and surveillance',
          'Threat detection and assessment',
          'Intelligence gathering and analysis',
          'Tactical operations support',
          'Strategic planning and decision making'
        ]
      },
      'urban-planning': {
        name: 'Urban Planning & Smart Cities',
        description: 'PF-DIGITAL TWIN technology for comprehensive 3D city modeling and smart city development.',
        keywords: ['urban', 'city', 'planning', 'infrastructure', 'population', 'development', 'mapping', '3d', 'digital', 'twin', 'smart', 'municipal', 'government', 'construction', 'building', 'residential', 'commercial', 'industrial', 'zoning', 'land', 'use', 'transportation', 'utilities', 'services'],
        features: [
          'PF-DIGITAL TWIN: Comprehensive 3D city modeling',
          'Real-time infrastructure monitoring and analysis',
          'Population density and demographic analysis',
          'Urban development planning and simulation',
          'Traffic flow optimization and management',
          'Utility network monitoring and maintenance',
          'Environmental impact assessment',
          'Smart city integration and IoT connectivity'
        ],
        applications: [
          'City planning and urban development',
          'Infrastructure monitoring and maintenance',
          'Traffic management and optimization',
          'Population and demographic analysis',
          'Environmental planning and sustainability',
          'Smart city implementation and management'
        ]
      },
      'environment': {
        name: 'Environmental Monitoring',
        description: 'Comprehensive environmental tracking with climate change monitoring and resource management.',
        keywords: ['environment', 'climate', 'deforestation', 'resources', 'conservation', 'monitoring', 'change', 'carbon', 'emission', 'sustainability', 'green', 'forest', 'wildlife', 'biodiversity', 'pollution', 'air', 'water', 'quality', 'ecosystem', 'habitat', 'protection', 'renewable', 'energy', 'solar', 'wind', 'hydro'],
        features: [
          'Climate change monitoring and analysis',
          'Deforestation tracking and forest health assessment',
          'Carbon footprint and emission monitoring',
          'Biodiversity and ecosystem analysis',
          'Air and water quality monitoring',
          'Renewable energy site assessment',
          'Environmental impact evaluation',
          'Sustainability metrics and reporting'
        ],
        applications: [
          'Climate change research and monitoring',
          'Forest conservation and management',
          'Environmental impact assessment',
          'Renewable energy planning',
          'Biodiversity protection and monitoring',
          'Sustainability planning and reporting'
        ]
      },
      'transportation': {
        name: 'Transportation & Logistics',
        description: 'Advanced route optimization and logistics management with real-time traffic analysis.',
        keywords: ['transportation', 'logistics', 'traffic', 'routes', 'shipping', 'delivery', 'optimization', 'fleet', 'supply', 'chain', 'distribution', 'warehouse', 'road', 'highway', 'street', 'infrastructure', 'pavement', 'bridge', 'tunnel', 'intersection', 'congestion', 'maintenance', 'construction', 'asphalt', 'pothole', 'repair', 'safety', 'accident', 'vehicle', 'truck', 'bus', 'train', 'airport', 'port', 'railway'],
        features: [
          'Real-time traffic analysis and optimization',
          'Route planning and navigation optimization',
          'Fleet management and tracking',
          'Supply chain optimization',
          'Infrastructure monitoring and maintenance',
          'Accident analysis and safety assessment',
          'Congestion prediction and management',
          'Multi-modal transportation planning'
        ],
        applications: [
          'Route optimization and navigation',
          'Fleet management and tracking',
          'Supply chain optimization',
          'Traffic management and control',
          'Infrastructure maintenance planning',
          'Transportation safety analysis'
        ]
      },
      'energy': {
        name: 'Energy & Utilities',
        description: 'Comprehensive energy infrastructure monitoring with pipeline and grid performance analysis.',
        keywords: ['energy', 'utilities', 'pipeline', 'renewable', 'grid', 'power', 'electricity', 'oil', 'gas', 'solar', 'wind', 'hydro', 'nuclear', 'coal', 'transmission', 'distribution', 'substation', 'turbine', 'panel', 'farm', 'plant', 'facility', 'infrastructure', 'maintenance', 'monitoring', 'efficiency', 'capacity', 'generation'],
        features: [
          'Pipeline monitoring and leak detection',
          'Power grid performance analysis',
          'Renewable energy site assessment',
          'Energy infrastructure monitoring',
          'Power generation optimization',
          'Transmission line analysis',
          'Substation monitoring and maintenance',
          'Energy efficiency assessment'
        ],
        applications: [
          'Pipeline monitoring and maintenance',
          'Power grid management and optimization',
          'Renewable energy site planning',
          'Energy infrastructure monitoring',
          'Power generation optimization',
          'Utility network management'
        ]
      }
    };

    function toggleChatbot() {
      const chatbot = document.getElementById('chatbot');
      const toggle = document.getElementById('chatbotToggle');
      
      chatbotOpen = !chatbotOpen;
      chatbot.classList.toggle('open', chatbotOpen);
      toggle.textContent = chatbotOpen ? '−' : '+';
    }

    function handleChatbotKeypress(event) {
      if (event.key === 'Enter') {
        sendChatbotMessage();
      }
    }

    function sendChatbotMessage() {
      const input = document.getElementById('chatbotInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      // Add user message
      addChatbotMessage(message, 'user');
      input.value = '';
      
      // Show typing indicator
      showTypingIndicator();
      
      // Process message after short delay
      setTimeout(() => {
        hideTypingIndicator();
        const response = processChatbotMessage(message);
        addChatbotMessage(response, 'bot');
      }, 800 + Math.random() * 400); // Random delay for natural feel
    }

    function addChatbotMessage(text, sender) {
      const messagesContainer = document.getElementById('chatbotMessages');
      const messageDiv = document.createElement('div');
      messageDiv.className = `chatbot-message ${sender}`;
      messageDiv.textContent = text;
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function showTypingIndicator() {
      document.getElementById('chatbotTyping').style.display = 'flex';
      document.getElementById('chatbotMessages').scrollTop = document.getElementById('chatbotMessages').scrollHeight;
    }

    function hideTypingIndicator() {
      document.getElementById('chatbotTyping').style.display = 'none';
    }

    // Company information
    const companyInfo = {
      boss: "Engr Tope Robert, Head of Proforce Galaxies Limited",
      creator: "Proforce Galaxies Limited",
      ceo: "Engr Ade Ogundeyin",
      company: "Proforce Galaxies Limited"
    };

    // Advanced conversation context and memory
    let conversationContext = {
      currentTopic: null,
      userIndustry: null,
      userNeeds: [],
      previousQuestions: [],
      sessionStart: new Date(),
      userProfile: {
        name: null,
        company: null,
        role: null,
        experience: null,
        budget: null,
        timeline: null,
        preferences: []
      },
      conversationFlow: [],
      emotionalState: 'neutral',
      intent: null,
      entities: [],
      confidence: 0,
      followUpNeeded: false
    };

    // Universal NLP patterns and intent recognition
    const intentPatterns = {
      greeting: ['hi', 'hello', 'hey', 'good morning', 'good afternoon', 'good evening', 'greetings', 'howdy'],
      inquiry: ['what', 'how', 'when', 'where', 'why', 'can you', 'do you', 'is it possible', 'tell me', 'explain', 'describe', 'show me'],
      problem: ['problem', 'issue', 'challenge', 'struggling', 'difficulty', 'trouble', 'help', 'stuck', 'failing', 'broken', 'not working'],
      comparison: ['compare', 'difference', 'better', 'best', 'versus', 'vs', 'which', 'prefer', 'choose', 'recommend'],
      pricing: ['price', 'cost', 'budget', 'expensive', 'cheap', 'affordable', 'quote', 'pricing', 'fee', 'charge', 'investment'],
      timeline: ['when', 'how long', 'timeline', 'schedule', 'deadline', 'urgent', 'asap', 'quickly', 'fast', 'immediate'],
      technical: ['technical', 'specs', 'specifications', 'features', 'capabilities', 'integration', 'api', 'sdk', 'documentation'],
      contact: ['contact', 'speak', 'meeting', 'call', 'email', 'representative', 'sales', 'demo', 'consultation'],
      capability: ['can', 'able', 'capable', 'support', 'handle', 'process', 'analyze', 'monitor', 'track'],
      requirement: ['need', 'require', 'want', 'looking for', 'seeking', 'searching', 'find'],
      solution: ['solution', 'solve', 'fix', 'resolve', 'address', 'tackle', 'handle'],
      information: ['info', 'information', 'details', 'about', 'learn', 'know', 'understand']
    };

    // Emotional intelligence patterns
    const emotionalPatterns = {
      frustrated: ['frustrated', 'annoyed', 'angry', 'upset', 'disappointed', 'fed up'],
      excited: ['excited', 'thrilled', 'amazing', 'fantastic', 'great', 'wonderful'],
      confused: ['confused', 'unclear', 'don\'t understand', 'lost', 'unclear'],
      urgent: ['urgent', 'asap', 'immediately', 'quickly', 'emergency', 'critical'],
      skeptical: ['skeptical', 'doubt', 'not sure', 'hesitant', 'concerned', 'worried']
    };

    // Universal entity extraction with comprehensive coverage
    function extractEntities(message) {
      const entities = [];
      const lowerMessage = message.toLowerCase();
      
      // Industry entities (expanded)
      const industries = {
        'agriculture': ['agriculture', 'farming', 'crop', 'farm', 'agricultural', 'farming', 'crops', 'livestock', 'irrigation', 'harvest'],
        'defense': ['defense', 'military', 'security', 'tactical', 'surveillance', 'intelligence', 'combat', 'strategic', 'military', 'armed forces'],
        'urban': ['urban', 'city', 'municipal', 'smart city', 'infrastructure', 'planning', 'development', 'metropolitan', 'civic'],
        'environment': ['environment', 'environmental', 'climate', 'conservation', 'sustainability', 'ecology', 'green', 'carbon', 'emission'],
        'transportation': ['transportation', 'logistics', 'fleet', 'shipping', 'delivery', 'supply chain', 'traffic', 'road', 'highway', 'route'],
        'energy': ['energy', 'utilities', 'power', 'electricity', 'grid', 'renewable', 'solar', 'wind', 'oil', 'gas', 'utility']
      };
      
      Object.entries(industries).forEach(([industry, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'industry', value: industry, keyword: keyword});
          }
        });
      });
      
      // Technology entities (expanded)
      const technologies = {
        'satellite': ['satellite', 'satellite imagery', 'remote sensing', 'earth observation', 'orbital'],
        'gps': ['gps', 'global positioning', 'location', 'coordinates', 'geolocation', 'positioning'],
        'ai': ['ai', 'artificial intelligence', 'machine learning', 'ml', 'neural network', 'algorithm', 'intelligent'],
        'ndvi': ['ndvi', 'vegetation index', 'crop health', 'plant health', 'vegetation analysis'],
        'ndwi': ['ndwi', 'water index', 'moisture', 'water content', 'hydration'],
        'geotrace': ['geotrace', 'tracking', 'monitoring', 'real-time', 'tactical'],
        'drone': ['drone', 'uav', 'unmanned', 'aerial', 'quadcopter'],
        'sensor': ['sensor', 'detection', 'monitoring', 'measurement', 'data collection'],
        'gis': ['gis', 'geographic information', 'mapping', 'spatial analysis', 'geospatial'],
        'bigdata': ['big data', 'analytics', 'data processing', 'insights', 'intelligence']
      };
      
      Object.entries(technologies).forEach(([tech, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'technology', value: tech, keyword: keyword});
          }
        });
      });
      
      // Scale entities (expanded)
      const scales = {
        'small': ['small', 'startup', 'individual', 'personal', 'local', 'small-scale'],
        'medium': ['medium', 'mid-size', 'regional', 'department', 'team'],
        'large': ['large', 'enterprise', 'corporation', 'company', 'organization', 'institution'],
        'government': ['government', 'public', 'federal', 'state', 'municipal', 'official', 'agency']
      };
      
      Object.entries(scales).forEach(([scale, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'scale', value: scale, keyword: keyword});
          }
        });
      });
      
      // Location entities (expanded)
      const locations = {
        'nigeria': ['nigeria', 'nigerian', 'lagos', 'abuja', 'kano', 'port harcourt'],
        'africa': ['africa', 'african', 'west africa', 'east africa', 'south africa'],
        'global': ['global', 'worldwide', 'international', 'universal', 'world'],
        'regional': ['regional', 'local', 'area', 'zone', 'district', 'province']
      };
      
      Object.entries(locations).forEach(([location, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'location', value: location, keyword: keyword});
          }
        });
      });
      
      // Problem entities
      const problems = {
        'monitoring': ['monitor', 'track', 'observe', 'watch', 'surveillance', 'oversight'],
        'analysis': ['analyze', 'analysis', 'examine', 'study', 'evaluate', 'assess'],
        'optimization': ['optimize', 'improve', 'enhance', 'efficiency', 'performance', 'productivity'],
        'planning': ['plan', 'planning', 'strategy', 'roadmap', 'blueprint', 'design'],
        'prediction': ['predict', 'forecast', 'anticipate', 'project', 'estimate', 'prognosis'],
        'automation': ['automate', 'automatic', 'streamline', 'simplify', 'reduce manual work']
      };
      
      Object.entries(problems).forEach(([problem, keywords]) => {
        keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            entities.push({type: 'problem', value: problem, keyword: keyword});
          }
        });
      });
      
      return entities;
    }

    // Intent recognition
    function recognizeIntent(message) {
      const lowerMessage = message.toLowerCase();
      let maxScore = 0;
      let detectedIntent = 'general';
      
      for (const [intent, patterns] of Object.entries(intentPatterns)) {
        let score = 0;
        patterns.forEach(pattern => {
          if (lowerMessage.includes(pattern)) score++;
        });
        if (score > maxScore) {
          maxScore = score;
          detectedIntent = intent;
        }
      }
      
      return detectedIntent;
    }

    // Emotional state detection
    function detectEmotionalState(message) {
      const lowerMessage = message.toLowerCase();
      
      for (const [emotion, patterns] of Object.entries(emotionalPatterns)) {
        if (patterns.some(pattern => lowerMessage.includes(pattern))) {
          return emotion;
        }
      }
      
      return 'neutral';
    }

    // Advanced response generation
    function generateContextualResponse(intent, emotion, entities, confidence) {
      const responses = {
        greeting: {
          excited: "Hello! 🚀 I'm thrilled to meet you! I'm your advanced AI assistant from Proforce Galaxies Limited, and I'm excited to help you discover the perfect geospatial intelligence solutions. What amazing project are you working on?",
          neutral: "Hello! 👋 I'm your PF-GEOINT AI assistant from Proforce Galaxies Limited. I specialize in geospatial intelligence solutions and can help you find the perfect technology for your specific needs. What challenges are you facing?",
          frustrated: "Hello! I understand you might be feeling frustrated, and I'm here to help make this process as smooth as possible. I'm your PF-GEOINT AI assistant, and I'll do my best to provide clear, helpful solutions. What can I assist you with today?"
        },
        inquiry: {
          excited: "Great question! 🎯 I love your curiosity! Let me provide you with comprehensive information about our solutions. Based on what I'm hearing, you're really engaged with finding the right technology.",
          neutral: "Excellent question! Let me provide you with detailed information about our solutions and how they can address your specific needs.",
          confused: "I understand this might be confusing, and I'm here to clarify everything for you. Let me break this down in simple terms and provide clear explanations."
        }
      };
      
      return responses[intent]?.[emotion] || responses[intent]?.neutral || "I'm here to help! Let me provide you with the information you need.";
    }

    // Calculate confidence score
    function calculateConfidence(message, entities) {
      let confidence = 0;
      const lowerMessage = message.toLowerCase();
      
      // Base confidence from entities
      confidence += entities.length * 0.2;
      
      // Confidence from keyword density
      const totalWords = message.split(' ').length;
      const relevantKeywords = ['agriculture', 'defense', 'security', 'urban', 'environment', 'transportation', 'energy', 'satellite', 'gps', 'ndvi', 'ndwi'];
      const keywordCount = relevantKeywords.filter(keyword => lowerMessage.includes(keyword)).length;
      confidence += (keywordCount / totalWords) * 0.5;
      
      // Confidence from question clarity
      if (lowerMessage.includes('what') || lowerMessage.includes('how') || lowerMessage.includes('can you')) {
        confidence += 0.2;
      }
      
      return Math.min(confidence, 1.0);
    }

    // Extract user profile information
    function extractUserProfile(message, entities) {
      const lowerMessage = message.toLowerCase();
      
      // Extract company name
      if (lowerMessage.includes('i work') || lowerMessage.includes('my company') || lowerMessage.includes('we are')) {
        const companyMatch = message.match(/(?:i work (?:at|for)|my company|we are) ([^,.\n]+)/i);
        if (companyMatch) {
          conversationContext.userProfile.company = companyMatch[1].trim();
        }
      }
      
      // Extract role
      const roles = ['manager', 'director', 'engineer', 'analyst', 'consultant', 'ceo', 'cto', 'farmer', 'planner'];
      roles.forEach(role => {
        if (lowerMessage.includes(`i am a ${role}`) || lowerMessage.includes(`i'm a ${role}`)) {
          conversationContext.userProfile.role = role;
        }
      });
      
      // Extract experience level
      if (lowerMessage.includes('beginner') || lowerMessage.includes('new to')) {
        conversationContext.userProfile.experience = 'beginner';
      } else if (lowerMessage.includes('experienced') || lowerMessage.includes('expert')) {
        conversationContext.userProfile.experience = 'expert';
      } else if (lowerMessage.includes('intermediate') || lowerMessage.includes('some experience')) {
        conversationContext.userProfile.experience = 'intermediate';
      }
      
      // Extract budget information
      if (lowerMessage.includes('budget') || lowerMessage.includes('cost')) {
        const budgetMatch = message.match(/(\d+)(?:k|thousand|million|m)/i);
        if (budgetMatch) {
          conversationContext.userProfile.budget = budgetMatch[0];
        }
      }
      
      // Extract timeline
      if (lowerMessage.includes('urgent') || lowerMessage.includes('asap')) {
        conversationContext.userProfile.timeline = 'urgent';
      } else if (lowerMessage.includes('month') || lowerMessage.includes('quarter')) {
        conversationContext.userProfile.timeline = 'short-term';
      } else if (lowerMessage.includes('year') || lowerMessage.includes('long-term')) {
        conversationContext.userProfile.timeline = 'long-term';
      }
      
      // Update industry from entities
      const industryEntity = entities.find(e => e.type === 'industry');
      if (industryEntity) {
        conversationContext.userProfile.preferences.push(industryEntity.value);
      }
    }

    // Generate predictive follow-up questions
    function generatePredictiveQuestions(context) {
      const questions = [];
      
      if (context.userProfile.experience === 'beginner') {
        questions.push("Would you like me to explain the technical aspects in simpler terms?");
      }
      
      if (context.userProfile.timeline === 'urgent') {
        questions.push("Since this is urgent, would you like me to connect you directly with our technical team?");
      }
      
      if (context.userProfile.budget) {
        questions.push(`Given your budget of ${context.userProfile.budget}, would you like me to recommend the most cost-effective solution?`);
      }
      
      if (context.userProfile.company) {
        questions.push(`How can we tailor our solutions specifically for ${context.userProfile.company}?`);
      }
      
      return questions;
    }

    // Universal solution scanner - analyzes all sectors and products
    function scanAllSolutions(message, entities, context) {
      const lowerMessage = message.toLowerCase();
      const allSolutions = [];
      
      // Comprehensive solution database
      const solutionDatabase = {
        // Agriculture Solutions
        'crop_health': {
          name: 'Crop Health Assessment',
          sector: 'agriculture',
          keywords: ['crop', 'health', 'vegetation', 'ndvi', 'ndwi', 'plant', 'farming', 'agriculture', 'yield', 'harvest'],
          description: 'Advanced crop health monitoring using NDVI/NDWI analysis with 3D visualization',
          capabilities: ['Real-time crop monitoring', 'Disease detection', 'Yield prediction', '3D visualization'],
          problems: ['monitoring', 'analysis', 'prediction']
        },
        'precision_farming': {
          name: 'Precision Farming',
          sector: 'agriculture',
          keywords: ['precision', 'farming', 'irrigation', 'fertilizer', 'pesticide', 'zone', 'optimization'],
          description: 'Zone-specific recommendations for fertilizers, pesticides, and irrigation',
          capabilities: ['Zone mapping', 'Resource optimization', 'Cost reduction', 'Yield improvement'],
          problems: ['optimization', 'planning', 'efficiency']
        },
        
        // Defense & Security Solutions
        'geotrace': {
          name: 'PF-GEOTRACE',
          sector: 'defense',
          keywords: ['geotrace', 'tracking', 'tactical', 'military', 'defense', 'security', 'surveillance', 'gps', 'location'],
          description: 'Cutting-edge geolocation platform for tactical dominance and mission-critical intelligence',
          capabilities: ['Real-time GPS precision', 'Dynamic marker systems', 'Strategic buffer zones', 'Satellite imagery'],
          problems: ['monitoring', 'tracking', 'surveillance', 'planning']
        },
        'tactical_surveillance': {
          name: 'Tactical Surveillance',
          sector: 'defense',
          keywords: ['surveillance', 'tactical', 'military', 'security', 'monitoring', 'intelligence', 'threat'],
          description: 'Advanced surveillance and threat detection systems',
          capabilities: ['Real-time monitoring', 'Threat detection', 'Intelligence gathering', 'Strategic analysis'],
          problems: ['monitoring', 'analysis', 'surveillance']
        },
        
        // Urban Planning Solutions
        'smart_city': {
          name: 'Smart City Development',
          sector: 'urban',
          keywords: ['smart city', 'urban', 'infrastructure', 'planning', 'development', 'municipal', 'city'],
          description: 'Comprehensive smart city development and infrastructure monitoring',
          capabilities: ['Infrastructure monitoring', 'Urban planning', 'Traffic optimization', 'Resource management'],
          problems: ['planning', 'optimization', 'monitoring']
        },
        'infrastructure_monitoring': {
          name: 'Infrastructure Monitoring',
          sector: 'urban',
          keywords: ['infrastructure', 'monitoring', 'bridge', 'road', 'building', 'structure', 'maintenance'],
          description: 'Real-time infrastructure health monitoring and maintenance planning',
          capabilities: ['Structural analysis', 'Maintenance scheduling', 'Risk assessment', 'Cost optimization'],
          problems: ['monitoring', 'analysis', 'planning']
        },
        
        // Environmental Solutions
        'climate_tracking': {
          name: 'Climate Tracking',
          sector: 'environment',
          keywords: ['climate', 'environment', 'carbon', 'emission', 'sustainability', 'green', 'conservation'],
          description: 'Advanced climate monitoring and environmental impact assessment',
          capabilities: ['Carbon tracking', 'Emission monitoring', 'Sustainability metrics', 'Environmental impact'],
          problems: ['monitoring', 'analysis', 'prediction']
        },
        'conservation_monitoring': {
          name: 'Conservation Monitoring',
          sector: 'environment',
          keywords: ['conservation', 'wildlife', 'forest', 'biodiversity', 'ecosystem', 'protection'],
          description: 'Wildlife and ecosystem conservation monitoring systems',
          capabilities: ['Wildlife tracking', 'Ecosystem analysis', 'Biodiversity assessment', 'Protection planning'],
          problems: ['monitoring', 'analysis', 'planning']
        },
        
        // Transportation Solutions
        'fleet_management': {
          name: 'Fleet Management',
          sector: 'transportation',
          keywords: ['fleet', 'transportation', 'logistics', 'shipping', 'delivery', 'vehicle', 'route'],
          description: 'Comprehensive fleet tracking and logistics optimization',
          capabilities: ['Real-time tracking', 'Route optimization', 'Fuel efficiency', 'Maintenance scheduling'],
          problems: ['optimization', 'monitoring', 'planning']
        },
        'traffic_optimization': {
          name: 'Traffic Optimization',
          sector: 'transportation',
          keywords: ['traffic', 'road', 'highway', 'congestion', 'optimization', 'route', 'transportation'],
          description: 'Intelligent traffic flow optimization and congestion management',
          capabilities: ['Traffic analysis', 'Congestion prediction', 'Route optimization', 'Signal control'],
          problems: ['optimization', 'analysis', 'prediction']
        },
        
        // Energy Solutions
        'grid_monitoring': {
          name: 'Grid Monitoring',
          sector: 'energy',
          keywords: ['grid', 'energy', 'power', 'electricity', 'utility', 'renewable', 'solar', 'wind'],
          description: 'Smart grid monitoring and renewable energy optimization',
          capabilities: ['Grid analysis', 'Energy optimization', 'Renewable integration', 'Demand forecasting'],
          problems: ['monitoring', 'optimization', 'prediction']
        },
        'renewable_energy': {
          name: 'Renewable Energy Planning',
          sector: 'energy',
          keywords: ['renewable', 'solar', 'wind', 'energy', 'sustainability', 'green', 'clean'],
          description: 'Renewable energy site assessment and optimization',
          capabilities: ['Site assessment', 'Energy potential', 'Optimization', 'ROI analysis'],
          problems: ['planning', 'analysis', 'optimization']
        }
      };
      
      // Scan all solutions and calculate relevance scores
      Object.entries(solutionDatabase).forEach(([key, solution]) => {
        let relevanceScore = 0;
        let matchedKeywords = [];
        
        // Check keyword matches
        solution.keywords.forEach(keyword => {
          if (lowerMessage.includes(keyword)) {
            relevanceScore += 2;
            matchedKeywords.push(keyword);
          }
        });
        
        // Check problem matches
        solution.problems.forEach(problem => {
          if (lowerMessage.includes(problem)) {
            relevanceScore += 3;
            matchedKeywords.push(problem);
          }
        });
        
        // Check entity matches
        entities.forEach(entity => {
          if (entity.type === 'industry' && entity.value === solution.sector) {
            relevanceScore += 5;
          }
          if (entity.type === 'technology' && solution.keywords.includes(entity.value)) {
            relevanceScore += 3;
          }
          if (entity.type === 'problem' && solution.problems.includes(entity.value)) {
            relevanceScore += 4;
          }
        });
        
        // Check context matches
        if (context.userProfile.preferences.includes(solution.sector)) {
          relevanceScore += 2;
        }
        
        if (relevanceScore > 0) {
          allSolutions.push({
            ...solution,
            key: key,
            relevanceScore: relevanceScore,
            matchedKeywords: matchedKeywords
          });
        }
      });
      
      // Sort by relevance score
      return allSolutions.sort((a, b) => b.relevanceScore - a.relevanceScore);
    }

    // Advanced solution recommendation with context
    function generateAdvancedRecommendation(bestMatch, context, entities) {
      let recommendation = `🎯 Perfect Match Found!\n\n`;
      
      // Confidence level with explanation
      const confidenceLevel = context.confidence > 0.8 ? 'extremely confident' : 
                             context.confidence > 0.6 ? 'highly confident' : 
                             context.confidence > 0.4 ? 'confident' : 'somewhat confident';
      
      recommendation += `I'm ${confidenceLevel} that our ${bestMatch.name} solution is perfect for your needs.\n\n`;
      
      // Context-aware explanation
      if (context.userProfile.experience === 'beginner') {
        recommendation += `Perfect for Beginners: This solution is designed to be user-friendly while providing powerful capabilities.\n\n`;
      } else if (context.userProfile.experience === 'expert') {
        recommendation += `Advanced Capabilities: This solution offers the sophisticated features and customization options you need.\n\n`;
      }
      
      // Industry-specific benefits
      const industryEntity = entities.find(e => e.type === 'industry');
      if (industryEntity) {
        recommendation += `${industryEntity.value.charAt(0).toUpperCase() + industryEntity.value.slice(1)} Focus: This solution is specifically optimized for ${industryEntity.value} applications.\n\n`;
      }
      
      // Timeline considerations
      if (context.userProfile.timeline === 'urgent') {
        recommendation += `Rapid Deployment: We can have this solution implemented quickly to meet your urgent timeline.\n\n`;
      }
      
      // Budget considerations
      if (context.userProfile.budget) {
        recommendation += `Budget Optimized: This solution provides excellent value within your budget of ${context.userProfile.budget}.\n\n`;
      }
      
      recommendation += `Why This Solution Fits:\n${bestMatch.description}\n\n`;
      
      recommendation += `Key Capabilities:\n`;
      bestMatch.capabilities.forEach(capability => {
        recommendation += `• ${capability}\n`;
      });
      recommendation += `\n`;
      
      // Predictive questions
      const predictiveQuestions = generatePredictiveQuestions(context);
      if (predictiveQuestions.length > 0) {
        recommendation += `Next Steps:\n`;
        predictiveQuestions.forEach(q => recommendation += `• ${q}\n`);
        recommendation += `\n`;
      }
      
      recommendation += `Proforce Galaxies Limited Support:\n• 24/7 technical support\n• Custom implementation guidance\n• Training and onboarding\n• Ongoing optimization\n\nWhat would you like to explore next?`;
      
      return recommendation;
    }

    // Universal response generator - handles any question intelligently
    function generateUniversalResponse(message, entities, context) {
      const lowerMessage = message.toLowerCase();
      
      // Handle general questions about capabilities
      if (lowerMessage.includes('what can you do') || lowerMessage.includes('what do you do') || lowerMessage.includes('capabilities')) {
        return `🚀 PF-GEOINT AI Assistant Capabilities\n\nI'm your intelligent geospatial solutions assistant from Proforce Galaxies Limited. Here's what I can do:\n\n🎯 Solution Analysis:\n• Scan all 6 sectors (Agriculture, Defense, Urban, Environment, Transportation, Energy)\n• Analyze 12+ specialized solutions\n• Match solutions to your specific needs\n• Provide detailed capability assessments\n\n🧠 Intelligent Processing:\n• Understand natural language queries\n• Extract entities (industry, technology, problems, scale)\n• Detect emotional context and intent\n• Build user profiles and preferences\n• Provide confidence-scored recommendations\n\n💡 Smart Recommendations:\n• Multi-factor solution matching\n• Context-aware suggestions\n• Predictive follow-up questions\n• Industry-specific optimizations\n• Budget and timeline considerations\n\n🔍 Universal Understanding:\n• Process any question or request\n• Handle technical and non-technical queries\n• Provide comprehensive sector coverage\n• Offer detailed solution comparisons\n\nWhat would you like to explore? I can help with anything from crop monitoring to tactical operations!`;
      }
      
      // Handle questions about sectors
      if (lowerMessage.includes('sectors') || lowerMessage.includes('industries') || lowerMessage.includes('what sectors')) {
        return `🌐 PF-GEOINT Sectors & Solutions\n\n🌱 Agriculture & Farming:\n• Crop Health Assessment (NDVI/NDWI analysis)\n• Precision Farming (zone-specific optimization)\n• Yield prediction and cost analysis\n\n🛡️ Defense & Security:\n• PF-GEOTRACE (tactical geolocation platform)\n• Tactical Surveillance systems\n• Intelligence gathering and analysis\n\n🏙️ Urban Planning & Infrastructure:\n• Smart City Development\n• Infrastructure Monitoring\n• Traffic optimization and planning\n\n🌍 Environmental & Conservation:\n• Climate Tracking and monitoring\n• Conservation and wildlife protection\n• Environmental impact assessment\n\n🚛 Transportation & Logistics:\n• Fleet Management and tracking\n• Traffic Optimization\n• Route planning and logistics\n\n⚡ Energy & Utilities:\n• Grid Monitoring and analysis\n• Renewable Energy Planning\n• Energy optimization and forecasting\n\nWhich sector interests you most? I can provide detailed information about any of these areas!`;
      }
      
      // Handle technical questions
      if (lowerMessage.includes('technical') || lowerMessage.includes('how does it work') || lowerMessage.includes('technology')) {
        return `🔬 PF-GEOINT Technical Capabilities\n\n🛰️ Satellite Technology:\n• Real-time satellite imagery processing\n• Multi-spectral analysis (NDVI, NDWI, etc.)\n• High-resolution earth observation data\n• Orbital data integration\n\n🤖 AI & Machine Learning:\n• Advanced neural networks for pattern recognition\n• Predictive analytics and forecasting\n• Automated data processing and analysis\n• Intelligent decision support systems\n\n📍 GPS & Geolocation:\n• Real-time GPS precision tracking\n• Dynamic marker systems\n• Strategic buffer zone management\n• Coordinate transformation and analysis\n\n📊 Data Processing:\n• Big data analytics and processing\n• Real-time data streaming\n• Cloud-based data storage and access\n• API integration and customization\n\n🔧 Integration Capabilities:\n• RESTful API access\n• SDK for custom development\n• Third-party system integration\n• Custom dashboard development\n\nWhat specific technical aspect would you like to know more about?`;
      }
      
      // Handle pricing questions
      if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('budget') || lowerMessage.includes('expensive')) {
        return `💰 PF-GEOINT Pricing & Investment\n\nInvestment Philosophy:\nWe believe in providing value-driven solutions that deliver measurable ROI. Our pricing is based on:\n• Solution complexity and scope\n• Implementation requirements\n• Support and maintenance needs\n• Customization requirements\n\nPricing Models:\n• Subscription-based: Monthly/annual plans for ongoing services\n• Project-based: One-time implementation and setup\n• Enterprise: Custom solutions for large organizations\n• Government: Specialized pricing for public sector\n\nValue Proposition:\n• 25-40% increase in operational efficiency\n• 30% reduction in resource costs\n• 50% faster decision-making processes\n• 24/7 technical support included\n\nBudget Considerations:\n• Flexible payment options available\n• Scalable solutions that grow with your needs\n• ROI typically achieved within 6-12 months\n• Free consultation and needs assessment\n\nTo provide accurate pricing, I need to understand:\n• Which solutions interest you?\n• What's your organization size?\n• What's your implementation timeline?\n• Do you need custom features?\n\nWould you like a personalized quote? I can connect you with our sales team for detailed pricing!`;
      }
      
      // Handle implementation questions
      if (lowerMessage.includes('implement') || lowerMessage.includes('setup') || lowerMessage.includes('deploy') || lowerMessage.includes('how long')) {
        return `⚙️ PF-GEOINT Implementation Process\n\n🚀 Implementation Timeline:\n• Phase 1 (1-2 weeks): Needs assessment and planning\n• Phase 2 (2-4 weeks): System setup and configuration\n• Phase 3 (1-2 weeks): Data integration and testing\n• Phase 4 (1 week): Training and go-live\n• Total: 5-9 weeks depending on complexity\n\n📋 Implementation Steps:\n1. Discovery: Understanding your specific requirements\n2. Design: Customizing solution architecture\n3. Development: Building and configuring systems\n4. Testing: Comprehensive system validation\n5. Training: User training and documentation\n6. Launch: Go-live with full support\n7. Optimization: Continuous improvement and updates\n\n🛠️ Technical Requirements:\n• Internet connectivity (minimum 10 Mbps)\n• Compatible devices (web browsers, mobile apps)\n• Data access permissions and security clearance\n• Integration with existing systems (if needed)\n\n👥 Support During Implementation:\n• Dedicated project manager\n• Technical specialists assigned\n• Regular progress updates\n• 24/7 support during critical phases\n\nWhat's your timeline? I can help you plan the perfect implementation schedule!`;
      }
      
      // Handle support questions
      if (lowerMessage.includes('support') || lowerMessage.includes('help') || lowerMessage.includes('assistance') || lowerMessage.includes('troubleshoot')) {
        return `🆘 PF-GEOINT Support & Assistance\n\n24/7 Support Channels:\n• Live Chat: Instant support through our platform\n• Email: support@proforcegalaxies.com\n• Phone: +234-XXX-XXXX-XXX (Nigeria)\n• Ticketing System: Priority-based issue tracking\n\nSupport Levels:\n• Level 1: Basic troubleshooting and user guidance\n• Level 2: Technical issues and system problems\n• Level 3: Advanced technical support and customization\n• Level 4: Engineering team for complex issues\n\nResponse Times:\n• Critical Issues: < 1 hour\n• High Priority: < 4 hours\n• Medium Priority: < 24 hours\n• Low Priority: < 72 hours\n\nSupport Services:\n• System troubleshooting and fixes\n• User training and onboarding\n• Performance optimization\n• Custom feature development\n• Data migration assistance\n• Integration support\n\nDocumentation & Resources:\n• User manuals and guides\n• Video tutorials and webinars\n• API documentation\n• Best practices and tips\n• Community forum access\n\nWhat specific support do you need? I'm here to help resolve any issues!`;
      }
      
      // Handle general "what is" questions
      if (lowerMessage.includes('what is') || lowerMessage.includes('explain') || lowerMessage.includes('tell me about')) {
        const topic = message.replace(/what is|explain|tell me about/gi, '').trim();
        
        if (topic.includes('pf-geoint') || topic.includes('proforce')) {
          return `🏢 About PF-GEOINT by Proforce Galaxies Limited\n\nCompany Overview:\nProforce Galaxies Limited is a leading geospatial intelligence company specializing in advanced satellite imagery analysis, AI-powered solutions, and custom geospatial applications.\n\nOur Mission:\nTo transform how organizations use geospatial data for decision-making through innovative technology and expert solutions.\n\nOur Expertise:\n• Over 10 years of experience in geospatial intelligence\n• Advanced AI and machine learning algorithms\n• Real-time satellite data processing capabilities\n• Custom solutions for unique requirements\n• 24/7 technical support and consultation\n\nLeadership:\n• CEO/GMD: Engr Ade Ogundeyin\n• Company: Proforce Galaxies Limited\n• Founded: 2013\n• Headquarters: Nigeria\n\nWhat specific aspect of PF-GEOINT would you like to know more about?`;
        }
      }
      
      return null; // No universal response found
    }

    function processChatbotMessage(message) {
      const lowerMessage = message.toLowerCase();
      
      // Company information queries
      if (lowerMessage.includes('boss') || lowerMessage.includes('who is your boss')) {
        return `👔 My boss is **${companyInfo.boss}**. He leads our team in developing cutting-edge geospatial intelligence solutions.`;
      }
      
      if (lowerMessage.includes('created') || lowerMessage.includes('who created you') || lowerMessage.includes('who made you')) {
        return `🏢 I was created by **${companyInfo.creator}**, a leading company in geospatial intelligence and satellite technology solutions.`;
      }
      
      if (lowerMessage.includes('ceo') || lowerMessage.includes('gmd') || lowerMessage.includes('md') || lowerMessage.includes('managing director')) {
        return `👨‍💼 Our CEO/GMD/MD is **${companyInfo.ceo}**. He leads Proforce Galaxies Limited in delivering innovative geospatial solutions worldwide.`;
      }
      
      if (lowerMessage.includes('proforce') || lowerMessage.includes('company') || lowerMessage.includes('about proforce')) {
        return `🏢 **Proforce Galaxies Limited** is a leading geospatial intelligence company specializing in:\n\n• Advanced satellite imagery analysis\n• AI-powered geospatial solutions\n• Defense and security applications\n• Agricultural monitoring systems\n• Urban planning and infrastructure development\n\nWe're committed to transforming how organizations use geospatial data for decision-making.`;
      }
      
      // Enhanced greeting responses
      if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || lowerMessage.includes('hey')) {
        const greetings = [
          "Hello! 👋 I'm your PF-GEOINT AI assistant. I can help you find the perfect geospatial intelligence solution for your needs. What challenges are you facing?",
          "Hi there! 🤖 I'm here to analyze your requirements and recommend the most suitable PF-GEOINT solutions. Tell me about your project.",
          "Greetings! 🚀 I'm an advanced AI trained on geospatial intelligence. I can help you navigate our solutions and find exactly what you need."
        ];
        return greetings[Math.floor(Math.random() * greetings.length)];
      }
      
      // Advanced product matching with comprehensive keyword analysis
      const productScores = {};
      
      // Calculate scores for each product based on keywords
      for (const [key, product] of Object.entries(products)) {
        let score = 0;
        for (const keyword of product.keywords) {
          if (lowerMessage.includes(keyword)) {
            score += 1;
          }
        }
        productScores[key] = score;
      }
      
      // Find the best matching product
      const bestMatch = Object.entries(productScores).reduce((a, b) => productScores[a[0]] > productScores[b[0]] ? a : b);
      const bestProduct = products[bestMatch[0]];
      const maxScore = bestMatch[1];
      
      // Specific product queries
      if (lowerMessage.includes('geotrace') || lowerMessage.includes('pf-geotrace')) {
        return `🎯 **PF-GEOTRACE** is our flagship geolocation platform!\n\n**Core Capabilities:**\n• Real-time GPS precision with sub-meter accuracy\n• Dynamic marker systems for tactical operations\n• Strategic buffer zones for mission planning\n• High-resolution satellite imagery integration\n• AI-powered threat detection and assessment\n\n**Applications:**\n• Military operations and mission planning\n• Border security and surveillance\n• Intelligence gathering and analysis\n• Tactical operations support\n\nWhat specific aspect of PF-GEOTRACE interests you?`;
      }
      
      if (lowerMessage.includes('digital twin') || lowerMessage.includes('pf-digital twin')) {
        return `🏙️ **PF-DIGITAL TWIN** revolutionizes urban planning!\n\n**3D City Modeling:**\n• Complete 3D models of cities and infrastructure\n• Real-time data integration and monitoring\n• Population density and demographic analysis\n• Urban development planning and simulation\n\n**Smart City Features:**\n• Traffic flow optimization and management\n• Utility network monitoring and maintenance\n• Environmental impact assessment\n• IoT connectivity and integration\n\n**Applications:**\n• City planning and urban development\n• Infrastructure monitoring and maintenance\n• Smart city implementation\n\nWhat specific urban planning challenges can I help you with?`;
      }
      
      if (lowerMessage.includes('agriculture') || lowerMessage.includes('crop') || lowerMessage.includes('farm')) {
        return `🌱 **Agriculture Solutions** for precision farming!\n\n**Key Features:**\n• Real-time crop health assessment using NDVI and NDWI indices\n• Disease and pest detection through AI-powered analysis\n• Precision irrigation recommendations based on soil moisture data\n• Weather-based farming guidance and alerts\n• Yield prediction and optimization algorithms\n\n**Applications:**\n• Crop monitoring and health assessment\n• Precision agriculture and smart farming\n• Disease and pest management\n• Water resource optimization\n\nWhat specific agricultural challenges are you facing?`;
      }
      
      // Product recommendation based on best match
      if (maxScore > 0) {
        return `🎯 Based on your query, I recommend our **${bestProduct.name}** solution!\n\n**${bestProduct.description}**\n\n**Key Features:**\n${bestProduct.features.map(feature => `• ${feature}`).join('\n')}\n\n**Applications:**\n${bestProduct.applications.map(app => `• ${app}`).join('\n')}\n\nWhat specific aspect of ${bestProduct.name} would you like to know more about?`;
      }
      
      // General help and guidance
      if (lowerMessage.includes('help') || lowerMessage.includes('what can you do') || lowerMessage.includes('capabilities')) {
        return "🤖 I'm your PF-GEOINT AI assistant! Here's how I can help you:\n\n**Our Solutions:**\n• 🌱 **Agriculture**: Precision farming, crop health, NDVI/NDWI analysis\n• 🎯 **Defense & Security**: PF-GEOTRACE platform, surveillance, threat detection\n• 🏙️ **Urban Planning**: PF-DIGITAL TWIN, 3D city modeling, smart cities\n• 🌍 **Environmental**: Climate monitoring, deforestation tracking, sustainability\n• 🚗 **Transportation**: Traffic optimization, route planning, infrastructure monitoring\n• ⚡ **Energy**: Pipeline monitoring, power grid analysis, renewable energy\n\n**What I can do:**\n• Analyze your specific requirements\n• Recommend the best solutions for your needs\n• Provide detailed technical information\n• Answer questions about our products\n\n**Just ask me:**\n• \"I need help with crop monitoring\"\n• \"Tell me about PF-GEOTRACE\"\n• \"How can I optimize traffic flow?\"\n• \"What's your agriculture solution?\"\n\nWhat challenges are you facing? I'm here to help!";
      }
      
      // Default response with product overview
      return "I'm here to help you find the perfect PF-GEOINT solution! We offer comprehensive geospatial intelligence solutions across multiple industries:\n\n**Our Solutions:**\n• 🌱 **Agriculture**: Precision farming and crop monitoring\n• 🎯 **Defense & Security**: Advanced surveillance and mission planning\n• 🏙️ **Urban Planning**: 3D city modeling and smart cities\n• 🌍 **Environmental**: Climate monitoring and sustainability\n• 🚗 **Transportation**: Traffic optimization and logistics\n• ⚡ **Energy**: Infrastructure monitoring and renewable energy\n\n**Tell me:**\n• What industry are you in?\n• What challenges are you facing?\n• What specific solutions do you need?\n\nI'll analyze your requirements and recommend the best approach for your needs!";
    }

    // Initialize chatbot on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Auto-open chatbot after 3 seconds
      setTimeout(() => {
        if (!chatbotOpen) {
          toggleChatbot();
        }
      }, 3000);
    });
  </script>
</body>
</html>
